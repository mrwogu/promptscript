Write tests using:
    - Vitest for unit tests
    - Testing Library for integration
    - Proper mocking patterns