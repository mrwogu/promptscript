var lA=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports);var kw=lA((qe,Ke)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Bv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Sf={exports:{}},ua={};var Fg;function cA(){if(Fg)return ua;Fg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var h in l)h!=="key"&&(c[h]=l[h])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:f,ref:l!==void 0?l:null,props:c}}return ua.Fragment=t,ua.jsx=i,ua.jsxs=i,ua}var Gg;function uA(){return Gg||(Gg=1,Sf.exports=cA()),Sf.exports}var O=uA(),Ef={exports:{}},ut={};var Hg;function fA(){if(Hg)return ut;Hg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function x(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,H={};function P(A,D,q){this.props=A,this.context=D,this.refs=H,this.updater=q||C}P.prototype.isReactComponent={},P.prototype.setState=function(A,D){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,D,"setState")},P.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function U(){}U.prototype=P.prototype;function I(A,D,q){this.props=A,this.context=D,this.refs=H,this.updater=q||C}var F=I.prototype=new U;F.constructor=I,k(F,P.prototype),F.isPureReactComponent=!0;var V=Array.isArray;function B(){}var G={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function xt(A,D,q){var K=q.ref;return{$$typeof:s,type:A,key:D,ref:K!==void 0?K:null,props:q}}function ft(A,D){return xt(A.type,D,A.props)}function $t(A){return typeof A=="object"&&A!==null&&A.$$typeof===s}function Xt(A){var D={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(q){return D[q]})}var ge=/\/+/g;function Wt(A,D){return typeof A=="object"&&A!==null&&A.key!=null?Xt(""+A.key):D.toString(36)}function lt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(B,B):(A.status="pending",A.then(function(D){A.status==="pending"&&(A.status="fulfilled",A.value=D)},function(D){A.status==="pending"&&(A.status="rejected",A.reason=D)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function L(A,D,q,K,ct){var nt=typeof A;(nt==="undefined"||nt==="boolean")&&(A=null);var ht=!1;if(A===null)ht=!0;else switch(nt){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(A.$$typeof){case s:case t:ht=!0;break;case y:return ht=A._init,L(ht(A._payload),D,q,K,ct)}}if(ht)return ct=ct(A),ht=K===""?"."+Wt(A,0):K,V(ct)?(q="",ht!=null&&(q=ht.replace(ge,"$&/")+"/"),L(ct,D,q,"",function(ve){return ve})):ct!=null&&($t(ct)&&(ct=ft(ct,q+(ct.key==null||A&&A.key===ct.key?"":(""+ct.key).replace(ge,"$&/")+"/")+ht)),D.push(ct)),1;ht=0;var Ht=K===""?".":K+":";if(V(A))for(var Et=0;Et<A.length;Et++)K=A[Et],nt=Ht+Wt(K,Et),ht+=L(K,D,q,nt,ct);else if(Et=x(A),typeof Et=="function")for(A=Et.call(A),Et=0;!(K=A.next()).done;)K=K.value,nt=Ht+Wt(K,Et++),ht+=L(K,D,q,nt,ct);else if(nt==="object"){if(typeof A.then=="function")return L(lt(A),D,q,K,ct);throw D=String(A),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return ht}function Y(A,D,q){if(A==null)return A;var K=[],ct=0;return L(A,K,"","",function(nt){return D.call(q,nt,ct++)}),K}function tt(A){if(A._status===-1){var D=A._result;D=D(),D.then(function(q){(A._status===0||A._status===-1)&&(A._status=1,A._result=q)},function(q){(A._status===0||A._status===-1)&&(A._status=2,A._result=q)}),A._status===-1&&(A._status=0,A._result=D)}if(A._status===1)return A._result.default;throw A._result}var gt=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Ot={map:Y,forEach:function(A,D,q){Y(A,function(){D.apply(this,arguments)},q)},count:function(A){var D=0;return Y(A,function(){D++}),D},toArray:function(A){return Y(A,function(D){return D})||[]},only:function(A){if(!$t(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ut.Activity=v,ut.Children=Ot,ut.Component=P,ut.Fragment=i,ut.Profiler=l,ut.PureComponent=I,ut.StrictMode=a,ut.Suspense=p,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,ut.__COMPILER_RUNTIME={__proto__:null,c:function(A){return G.H.useMemoCache(A)}},ut.cache=function(A){return function(){return A.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(A,D,q){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var K=k({},A.props),ct=A.key;if(D!=null)for(nt in D.key!==void 0&&(ct=""+D.key),D)!X.call(D,nt)||nt==="key"||nt==="__self"||nt==="__source"||nt==="ref"&&D.ref===void 0||(K[nt]=D[nt]);var nt=arguments.length-2;if(nt===1)K.children=q;else if(1<nt){for(var ht=Array(nt),Ht=0;Ht<nt;Ht++)ht[Ht]=arguments[Ht+2];K.children=ht}return xt(A.type,ct,K)},ut.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},ut.createElement=function(A,D,q){var K,ct={},nt=null;if(D!=null)for(K in D.key!==void 0&&(nt=""+D.key),D)X.call(D,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ct[K]=D[K]);var ht=arguments.length-2;if(ht===1)ct.children=q;else if(1<ht){for(var Ht=Array(ht),Et=0;Et<ht;Et++)Ht[Et]=arguments[Et+2];ct.children=Ht}if(A&&A.defaultProps)for(K in ht=A.defaultProps,ht)ct[K]===void 0&&(ct[K]=ht[K]);return xt(A,nt,ct)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(A){return{$$typeof:h,render:A}},ut.isValidElement=$t,ut.lazy=function(A){return{$$typeof:y,_payload:{_status:-1,_result:A},_init:tt}},ut.memo=function(A,D){return{$$typeof:m,type:A,compare:D===void 0?null:D}},ut.startTransition=function(A){var D=G.T,q={};G.T=q;try{var K=A(),ct=G.S;ct!==null&&ct(q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(B,gt)}catch(nt){gt(nt)}finally{D!==null&&q.types!==null&&(D.types=q.types),G.T=D}},ut.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},ut.use=function(A){return G.H.use(A)},ut.useActionState=function(A,D,q){return G.H.useActionState(A,D,q)},ut.useCallback=function(A,D){return G.H.useCallback(A,D)},ut.useContext=function(A){return G.H.useContext(A)},ut.useDebugValue=function(){},ut.useDeferredValue=function(A,D){return G.H.useDeferredValue(A,D)},ut.useEffect=function(A,D){return G.H.useEffect(A,D)},ut.useEffectEvent=function(A){return G.H.useEffectEvent(A)},ut.useId=function(){return G.H.useId()},ut.useImperativeHandle=function(A,D,q){return G.H.useImperativeHandle(A,D,q)},ut.useInsertionEffect=function(A,D){return G.H.useInsertionEffect(A,D)},ut.useLayoutEffect=function(A,D){return G.H.useLayoutEffect(A,D)},ut.useMemo=function(A,D){return G.H.useMemo(A,D)},ut.useOptimistic=function(A,D){return G.H.useOptimistic(A,D)},ut.useReducer=function(A,D,q){return G.H.useReducer(A,D,q)},ut.useRef=function(A){return G.H.useRef(A)},ut.useState=function(A){return G.H.useState(A)},ut.useSyncExternalStore=function(A,D,q){return G.H.useSyncExternalStore(A,D,q)},ut.useTransition=function(){return G.H.useTransition()},ut.version="19.2.4",ut}var Vg;function ph(){return Vg||(Vg=1,Ef.exports=fA()),Ef.exports}var W=ph();const Sn=Bv(W);var Af={exports:{}},fa={},bf={exports:{}},xf={};var Yg;function hA(){return Yg||(Yg=1,(function(s){function t(L,Y){var tt=L.length;L.push(Y);t:for(;0<tt;){var gt=tt-1>>>1,Ot=L[gt];if(0<l(Ot,Y))L[gt]=Y,L[tt]=Ot,tt=gt;else break t}}function i(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var Y=L[0],tt=L.pop();if(tt!==Y){L[0]=tt;t:for(var gt=0,Ot=L.length,A=Ot>>>1;gt<A;){var D=2*(gt+1)-1,q=L[D],K=D+1,ct=L[K];if(0>l(q,tt))K<Ot&&0>l(ct,q)?(L[gt]=ct,L[K]=tt,gt=K):(L[gt]=q,L[D]=tt,gt=D);else if(K<Ot&&0>l(ct,tt))L[gt]=ct,L[K]=tt,gt=K;else break t}}return Y}function l(L,Y){var tt=L.sortIndex-Y.sortIndex;return tt!==0?tt:L.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,h=f.now();s.unstable_now=function(){return f.now()-h}}var p=[],m=[],y=1,v=null,S=3,x=!1,C=!1,k=!1,H=!1,P=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function F(L){for(var Y=i(m);Y!==null;){if(Y.callback===null)a(m);else if(Y.startTime<=L)a(m),Y.sortIndex=Y.expirationTime,t(p,Y);else break;Y=i(m)}}function V(L){if(k=!1,F(L),!C)if(i(p)!==null)C=!0,B||(B=!0,Xt());else{var Y=i(m);Y!==null&&lt(V,Y.startTime-L)}}var B=!1,G=-1,X=5,xt=-1;function ft(){return H?!0:!(s.unstable_now()-xt<X)}function $t(){if(H=!1,B){var L=s.unstable_now();xt=L;var Y=!0;try{t:{C=!1,k&&(k=!1,U(G),G=-1),x=!0;var tt=S;try{e:{for(F(L),v=i(p);v!==null&&!(v.expirationTime>L&&ft());){var gt=v.callback;if(typeof gt=="function"){v.callback=null,S=v.priorityLevel;var Ot=gt(v.expirationTime<=L);if(L=s.unstable_now(),typeof Ot=="function"){v.callback=Ot,F(L),Y=!0;break e}v===i(p)&&a(p),F(L)}else a(p);v=i(p)}if(v!==null)Y=!0;else{var A=i(m);A!==null&&lt(V,A.startTime-L),Y=!1}}break t}finally{v=null,S=tt,x=!1}Y=void 0}}finally{Y?Xt():B=!1}}}var Xt;if(typeof I=="function")Xt=function(){I($t)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Wt=ge.port2;ge.port1.onmessage=$t,Xt=function(){Wt.postMessage(null)}}else Xt=function(){P($t,0)};function lt(L,Y){G=P(function(){L(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(L){switch(S){case 1:case 2:case 3:var Y=3;break;default:Y=S}var tt=S;S=Y;try{return L()}finally{S=tt}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var tt=S;S=L;try{return Y()}finally{S=tt}},s.unstable_scheduleCallback=function(L,Y,tt){var gt=s.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?gt+tt:gt):tt=gt,L){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=tt+Ot,L={id:y++,callback:Y,priorityLevel:L,startTime:tt,expirationTime:Ot,sortIndex:-1},tt>gt?(L.sortIndex=tt,t(m,L),i(p)===null&&L===i(m)&&(k?(U(G),G=-1):k=!0,lt(V,tt-gt))):(L.sortIndex=Ot,t(p,L),C||x||(C=!0,B||(B=!0,Xt()))),L},s.unstable_shouldYield=ft,s.unstable_wrapCallback=function(L){var Y=S;return function(){var tt=S;S=Y;try{return L.apply(this,arguments)}finally{S=tt}}}})(xf)),xf}var qg;function dA(){return qg||(qg=1,bf.exports=hA()),bf.exports}var Of={exports:{}},ye={};var Kg;function pA(){if(Kg)return ye;Kg=1;var s=ph();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:p,containerInfo:m,implementation:y}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ye.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(p,m,null,y)},ye.flushSync=function(p){var m=f.T,y=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=m,a.p=y,a.d.f()}},ye.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(p,m))},ye.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},ye.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?a.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:x}):y==="script"&&a.d.X(p,{crossOrigin:v,integrity:S,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ye.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);a.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(p)},ye.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);a.d.L(p,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ye.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);a.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(p)},ye.requestFormReset=function(p){a.d.r(p)},ye.unstable_batchedUpdates=function(p,m){return p(m)},ye.useFormState=function(p,m,y){return f.H.useFormState(p,m,y)},ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},ye.version="19.2.4",ye}var Xg;function mA(){if(Xg)return Of.exports;Xg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Of.exports=pA(),Of.exports}var Zg;function gA(){if(Zg)return fa;Zg=1;var s=dA(),t=ph(),i=mA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var u=r.return;if(u===null)break;var d=u.alternate;if(d===null){if(o=u.return,o!==null){r=o;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===r)return p(u),e;if(d===o)return p(u),n;d=d.sibling}throw Error(a(188))}if(r.return!==o.return)r=u,o=d;else{for(var g=!1,T=u.child;T;){if(T===r){g=!0,r=u,o=d;break}if(T===o){g=!0,o=u,r=d;break}T=T.sibling}if(!g){for(T=d.child;T;){if(T===r){g=!0,r=d,o=u;break}if(T===o){g=!0,o=d,r=u;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),I=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),xt=Symbol.for("react.activity"),ft=Symbol.for("react.memo_cache_sentinel"),$t=Symbol.iterator;function Xt(e){return e===null||typeof e!="object"?null:(e=$t&&e[$t]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case P:return"Profiler";case H:return"StrictMode";case V:return"Suspense";case B:return"SuspenseList";case xt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case I:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case F:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return n=e.displayName||null,n!==null?n:Wt(e.type)||"Memo";case X:n=e._payload,e=e._init;try{return Wt(e(n))}catch{}}return null}var lt=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},gt=[],Ot=-1;function A(e){return{current:e}}function D(e){0>Ot||(e.current=gt[Ot],gt[Ot]=null,Ot--)}function q(e,n){Ot++,gt[Ot]=e.current,e.current=n}var K=A(null),ct=A(null),nt=A(null),ht=A(null);function Ht(e,n){switch(q(nt,n),q(ct,e),q(K,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?fg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=fg(n),e=hg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(K),q(K,e)}function Et(){D(K),D(ct),D(nt)}function ve(e){e.memoizedState!==null&&q(ht,e);var n=K.current,r=hg(n,e.type);n!==r&&(q(ct,e),q(K,r))}function we(e){ct.current===e&&(D(K),D(ct)),ht.current===e&&(D(ht),aa._currentValue=tt)}var Ie,Nn;function gn(e){if(Ie===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ie=n&&n[1]||"",Nn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ie+e+Nn}var vs=!1;function ic(e,n){if(!e||vs)return"";vs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(w){var M=w}Reflect.construct(e,[],$)}else{try{$.call()}catch(w){M=w}e.call($.prototype)}}else{try{throw Error()}catch(w){M=w}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(w){if(w&&M&&typeof w.stack=="string")return[w.stack,M.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),g=d[0],T=d[1];if(g&&T){var E=g.split(`
`),_=T.split(`
`);for(u=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;u<_.length&&!_[u].includes("DetermineComponentFrameRoot");)u++;if(o===E.length||u===_.length)for(o=E.length-1,u=_.length-1;1<=o&&0<=u&&E[o]!==_[u];)u--;for(;1<=o&&0<=u;o--,u--)if(E[o]!==_[u]){if(o!==1||u!==1)do if(o--,u--,0>u||E[o]!==_[u]){var j=`
`+E[o].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=o&&0<=u);break}}}finally{vs=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?gn(r):""}function PT(e,n){switch(e.tag){case 26:case 27:case 5:return gn(e.type);case 16:return gn("Lazy");case 13:return e.child!==n&&n!==null?gn("Suspense Fallback"):gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return ic(e.type,!1);case 11:return ic(e.type.render,!1);case 1:return ic(e.type,!0);case 31:return gn("Activity");default:return""}}function Fh(e){try{var n="",r=null;do n+=PT(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var sc=Object.prototype.hasOwnProperty,rc=s.unstable_scheduleCallback,ac=s.unstable_cancelCallback,BT=s.unstable_shouldYield,$T=s.unstable_requestPaint,je=s.unstable_now,FT=s.unstable_getCurrentPriorityLevel,Gh=s.unstable_ImmediatePriority,Hh=s.unstable_UserBlockingPriority,Ba=s.unstable_NormalPriority,GT=s.unstable_LowPriority,Vh=s.unstable_IdlePriority,HT=s.log,VT=s.unstable_setDisableYieldValue,vr=null,Ue=null;function fi(e){if(typeof HT=="function"&&VT(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(vr,e)}catch{}}var De=Math.clz32?Math.clz32:KT,YT=Math.log,qT=Math.LN2;function KT(e){return e>>>=0,e===0?32:31-(YT(e)/qT|0)|0}var $a=256,Fa=262144,Ga=4194304;function Vi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ha(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var u=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?u=Vi(o):(g&=T,g!==0?u=Vi(g):r||(r=T&~e,r!==0&&(u=Vi(r))))):(T=o&~d,T!==0?u=Vi(T):g!==0?u=Vi(g):r||(r=o&~e,r!==0&&(u=Vi(r)))),u===0?0:n!==0&&n!==u&&(n&d)===0&&(d=u&-u,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:u}function Tr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function XT(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yh(){var e=Ga;return Ga<<=1,(Ga&62914560)===0&&(Ga=4194304),e}function oc(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ZT(e,n,r,o,u,d){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,E=e.expirationTimes,_=e.hiddenUpdates;for(r=g&~r;0<r;){var j=31-De(r),$=1<<j;T[j]=0,E[j]=-1;var M=_[j];if(M!==null)for(_[j]=null,j=0;j<M.length;j++){var w=M[j];w!==null&&(w.lane&=-536870913)}r&=~$}o!==0&&qh(e,o,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~n))}function qh(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-De(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Kh(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-De(r),u=1<<o;u&n|e[o]&n&&(e[o]|=n),r&=~u}}function Xh(e,n){var r=n&-n;return r=(r&42)!==0?1:lc(r),(r&(e.suspendedLanes|n))!==0?0:r}function lc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zh(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:jg(e.type))}function Qh(e,n){var r=Y.p;try{return Y.p=e,n()}finally{Y.p=r}}var hi=Math.random().toString(36).slice(2),ce="__reactFiber$"+hi,be="__reactProps$"+hi,Ts="__reactContainer$"+hi,uc="__reactEvents$"+hi,QT="__reactListeners$"+hi,WT="__reactHandles$"+hi,Wh="__reactResources$"+hi,Er="__reactMarker$"+hi;function fc(e){delete e[ce],delete e[be],delete e[uc],delete e[QT],delete e[WT]}function Ss(e){var n=e[ce];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Ts]||r[ce]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Tg(e);e!==null;){if(r=e[ce])return r;e=Tg(e)}return n}e=r,r=e.parentNode}return null}function Es(e){if(e=e[ce]||e[Ts]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ar(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function As(e){var n=e[Wh];return n||(n=e[Wh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(e){e[Er]=!0}var Jh=new Set,td={};function Yi(e,n){bs(e,n),bs(e+"Capture",n)}function bs(e,n){for(td[e]=n,e=0;e<n.length;e++)Jh.add(n[e])}var JT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ed={},nd={};function tS(e){return sc.call(nd,e)?!0:sc.call(ed,e)?!1:JT.test(e)?nd[e]=!0:(ed[e]=!0,!1)}function Va(e,n,r){if(tS(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Ya(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function $n(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function id(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function eS(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,d=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){r=""+g,d.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function hc(e){if(!e._valueTracker){var n=id(e)?"checked":"value";e._valueTracker=eS(e,n,""+e[n])}}function sd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=id(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nS=/[\n"\\]/g;function Je(e){return e.replace(nS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function dc(e,n,r,o,u,d,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+We(n)):e.value!==""+We(n)&&(e.value=""+We(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?pc(e,g,We(n)):r!=null?pc(e,g,We(r)):o!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+We(T):e.removeAttribute("name")}function rd(e,n,r,o,u,d,g,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){hc(e);return}r=r!=null?""+We(r):"",n=n!=null?""+We(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),hc(e)}function pc(e,n,r){n==="number"&&qa(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function xs(e,n,r,o){if(e=e.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=n.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&o&&(e[r].defaultSelected=!0)}else{for(r=""+We(r),n=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function ad(e,n,r){if(n!=null&&(n=""+We(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+We(r):""}function od(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(lt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=We(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),hc(e)}function Os(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var iS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ld(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||iS.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function cd(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var u in n)o=n[u],n.hasOwnProperty(u)&&r[u]!==o&&ld(e,u,o)}else for(var d in n)n.hasOwnProperty(d)&&ld(e,d,n[d])}function mc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(e){return rS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var gc=null;function yc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,Cs=null;function ud(e){var n=Es(e);if(n&&(e=n.stateNode)){var r=e[be]||null;t:switch(e=n.stateNode,n.type){case"input":if(dc(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Je(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var u=o[be]||null;if(!u)throw Error(a(90));dc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&sd(o)}break t;case"textarea":ad(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&xs(e,!!r.multiple,n,!1)}}}var vc=!1;function fd(e,n,r){if(vc)return e(n,r);vc=!0;try{var o=e(n);return o}finally{if(vc=!1,(Rs!==null||Cs!==null)&&(Uo(),Rs&&(n=Rs,e=Cs,Cs=Rs=null,ud(n),e)))for(n=0;n<e.length;n++)ud(e[n])}}function br(e,n){var r=e.stateNode;if(r===null)return null;var o=r[be]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tc=!1;if(Gn)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Tc=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Tc=!1}var di=null,Sc=null,Xa=null;function hd(){if(Xa)return Xa;var e,n=Sc,r=n.length,o,u="value"in di?di.value:di.textContent,d=u.length;for(e=0;e<r&&n[e]===u[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===u[d-o];o++);return Xa=u.slice(e,1<o?1-o:void 0)}function Za(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qa(){return!0}function dd(){return!1}function xe(e){function n(r,o,u,d,g){this._reactName=r,this._targetInst=u,this.type=o,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qa:dd,this.isPropagationStopped=dd,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=xe(qi),Or=v({},qi,{view:0,detail:0}),aS=xe(Or),Ec,Ac,Rr,Ja=v({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rr&&(Rr&&e.type==="mousemove"?(Ec=e.screenX-Rr.screenX,Ac=e.screenY-Rr.screenY):Ac=Ec=0,Rr=e),Ec)},movementY:function(e){return"movementY"in e?e.movementY:Ac}}),pd=xe(Ja),oS=v({},Ja,{dataTransfer:0}),lS=xe(oS),cS=v({},Or,{relatedTarget:0}),bc=xe(cS),uS=v({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),fS=xe(uS),hS=v({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dS=xe(hS),pS=v({},qi,{data:0}),md=xe(pS),mS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vS(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yS[e])?!!n[e]:!1}function xc(){return vS}var TS=v({},Or,{key:function(e){if(e.key){var n=mS[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Za(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(e){return e.type==="keypress"?Za(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Za(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SS=xe(TS),ES=v({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gd=xe(ES),AS=v({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),bS=xe(AS),xS=v({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),OS=xe(xS),RS=v({},Ja,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CS=xe(RS),NS=v({},qi,{newState:0,oldState:0}),_S=xe(NS),kS=[9,13,27,32],Oc=Gn&&"CompositionEvent"in window,Cr=null;Gn&&"documentMode"in document&&(Cr=document.documentMode);var MS=Gn&&"TextEvent"in window&&!Cr,yd=Gn&&(!Oc||Cr&&8<Cr&&11>=Cr),vd=" ",Td=!1;function Sd(e,n){switch(e){case"keyup":return kS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ns=!1;function LS(e,n){switch(e){case"compositionend":return Ed(n);case"keypress":return n.which!==32?null:(Td=!0,vd);case"textInput":return e=n.data,e===vd&&Td?null:e;default:return null}}function wS(e,n){if(Ns)return e==="compositionend"||!Oc&&Sd(e,n)?(e=hd(),Xa=Sc=di=null,Ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yd&&n.locale!=="ko"?null:n.data;default:return null}}var IS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!IS[e.type]:n==="textarea"}function bd(e,n,r,o){Rs?Cs?Cs.push(o):Cs=[o]:Rs=o,n=Go(n,"onChange"),0<n.length&&(r=new Wa("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Nr=null,_r=null;function jS(e){rg(e,0)}function to(e){var n=Ar(e);if(sd(n))return e}function xd(e,n){if(e==="change")return n}var Od=!1;if(Gn){var Rc;if(Gn){var Cc="oninput"in document;if(!Cc){var Rd=document.createElement("div");Rd.setAttribute("oninput","return;"),Cc=typeof Rd.oninput=="function"}Rc=Cc}else Rc=!1;Od=Rc&&(!document.documentMode||9<document.documentMode)}function Cd(){Nr&&(Nr.detachEvent("onpropertychange",Nd),_r=Nr=null)}function Nd(e){if(e.propertyName==="value"&&to(_r)){var n=[];bd(n,_r,e,yc(e)),fd(jS,n)}}function US(e,n,r){e==="focusin"?(Cd(),Nr=n,_r=r,Nr.attachEvent("onpropertychange",Nd)):e==="focusout"&&Cd()}function DS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return to(_r)}function zS(e,n){if(e==="click")return to(n)}function PS(e,n){if(e==="input"||e==="change")return to(n)}function BS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ze=typeof Object.is=="function"?Object.is:BS;function kr(e,n){if(ze(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var u=r[o];if(!sc.call(n,u)||!ze(e[u],n[u]))return!1}return!0}function _d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kd(e,n){var r=_d(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=_d(r)}}function Md(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Md(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ld(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=qa(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=qa(e.document)}return n}function Nc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var $S=Gn&&"documentMode"in document&&11>=document.documentMode,_s=null,_c=null,Mr=null,kc=!1;function wd(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kc||_s==null||_s!==qa(o)||(o=_s,"selectionStart"in o&&Nc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mr&&kr(Mr,o)||(Mr=o,o=Go(_c,"onSelect"),0<o.length&&(n=new Wa("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=_s)))}function Ki(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ks={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},Mc={},Id={};Gn&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Xi(e){if(Mc[e])return Mc[e];if(!ks[e])return e;var n=ks[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Id)return Mc[e]=n[r];return e}var jd=Xi("animationend"),Ud=Xi("animationiteration"),Dd=Xi("animationstart"),FS=Xi("transitionrun"),GS=Xi("transitionstart"),HS=Xi("transitioncancel"),zd=Xi("transitionend"),Pd=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function yn(e,n){Pd.set(e,n),Yi(n,[e])}var eo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},tn=[],Ms=0,wc=0;function no(){for(var e=Ms,n=wc=Ms=0;n<e;){var r=tn[n];tn[n++]=null;var o=tn[n];tn[n++]=null;var u=tn[n];tn[n++]=null;var d=tn[n];if(tn[n++]=null,o!==null&&u!==null){var g=o.pending;g===null?u.next=u:(u.next=g.next,g.next=u),o.pending=u}d!==0&&Bd(r,u,d)}}function io(e,n,r,o){tn[Ms++]=e,tn[Ms++]=n,tn[Ms++]=r,tn[Ms++]=o,wc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ic(e,n,r,o){return io(e,n,r,o),so(e)}function Zi(e,n){return io(e,null,null,n),so(e)}function Bd(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var u=!1,d=e.return;d!==null;)d.childLanes|=r,o=d.alternate,o!==null&&(o.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&n!==null&&(u=31-De(r),e=d.hiddenUpdates,o=e[u],o===null?e[u]=[n]:o.push(n),n.lane=r|536870912),d):null}function so(e){if(50<Jr)throw Jr=0,Gu=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ls={};function VS(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pe(e,n,r,o){return new VS(e,n,r,o)}function jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hn(e,n){var r=e.alternate;return r===null?(r=Pe(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function $d(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ro(e,n,r,o,u,d){var g=0;if(o=e,typeof e=="function")jc(e)&&(g=1);else if(typeof e=="string")g=ZE(e,r,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case xt:return e=Pe(31,r,n,u),e.elementType=xt,e.lanes=d,e;case k:return Qi(r.children,u,d,n);case H:g=8,u|=24;break;case P:return e=Pe(12,r,n,u|2),e.elementType=P,e.lanes=d,e;case V:return e=Pe(13,r,n,u),e.elementType=V,e.lanes=d,e;case B:return e=Pe(19,r,n,u),e.elementType=B,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:g=10;break t;case U:g=9;break t;case F:g=11;break t;case G:g=14;break t;case X:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Pe(g,r,n,u),n.elementType=e,n.type=o,n.lanes=d,n}function Qi(e,n,r,o){return e=Pe(7,e,o,n),e.lanes=r,e}function Uc(e,n,r){return e=Pe(6,e,null,n),e.lanes=r,e}function Fd(e){var n=Pe(18,null,null,0);return n.stateNode=e,n}function Dc(e,n,r){return n=Pe(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Gd=new WeakMap;function en(e,n){if(typeof e=="object"&&e!==null){var r=Gd.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Fh(n)},Gd.set(e,n),n)}return{value:e,source:n,stack:Fh(n)}}var ws=[],Is=0,ao=null,Lr=0,nn=[],sn=0,pi=null,_n=1,kn="";function Vn(e,n){ws[Is++]=Lr,ws[Is++]=ao,ao=e,Lr=n}function Hd(e,n,r){nn[sn++]=_n,nn[sn++]=kn,nn[sn++]=pi,pi=e;var o=_n;e=kn;var u=32-De(o)-1;o&=~(1<<u),r+=1;var d=32-De(n)+u;if(30<d){var g=u-u%5;d=(o&(1<<g)-1).toString(32),o>>=g,u-=g,_n=1<<32-De(n)+u|r<<u|o,kn=d+e}else _n=1<<d|r<<u|o,kn=e}function zc(e){e.return!==null&&(Vn(e,1),Hd(e,1,0))}function Pc(e){for(;e===ao;)ao=ws[--Is],ws[Is]=null,Lr=ws[--Is],ws[Is]=null;for(;e===pi;)pi=nn[--sn],nn[sn]=null,kn=nn[--sn],nn[sn]=null,_n=nn[--sn],nn[sn]=null}function Vd(e,n){nn[sn++]=_n,nn[sn++]=kn,nn[sn++]=pi,_n=n.id,kn=n.overflow,pi=e}var ue=null,Dt=null,At=!1,mi=null,rn=!1,Bc=Error(a(519));function gi(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wr(en(n,e)),Bc}function Yd(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ce]=e,n[be]=o,r){case"dialog":vt("cancel",n),vt("close",n);break;case"iframe":case"object":case"embed":vt("load",n);break;case"video":case"audio":for(r=0;r<ea.length;r++)vt(ea[r],n);break;case"source":vt("error",n);break;case"img":case"image":case"link":vt("error",n),vt("load",n);break;case"details":vt("toggle",n);break;case"input":vt("invalid",n),rd(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":vt("invalid",n);break;case"textarea":vt("invalid",n),od(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||cg(n.textContent,r)?(o.popover!=null&&(vt("beforetoggle",n),vt("toggle",n)),o.onScroll!=null&&vt("scroll",n),o.onScrollEnd!=null&&vt("scrollend",n),o.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||gi(e,!0)}function qd(e){for(ue=e.return;ue;)switch(ue.tag){case 5:case 31:case 13:rn=!1;return;case 27:case 3:rn=!0;return;default:ue=ue.return}}function js(e){if(e!==ue)return!1;if(!At)return qd(e),At=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||rf(e.type,e.memoizedProps)),r=!r),r&&Dt&&gi(e),qd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Dt=vg(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Dt=vg(e)}else n===27?(n=Dt,ki(e.type)?(e=uf,uf=null,Dt=e):Dt=n):Dt=ue?on(e.stateNode.nextSibling):null;return!0}function Wi(){Dt=ue=null,At=!1}function $c(){var e=mi;return e!==null&&(Ne===null?Ne=e:Ne.push.apply(Ne,e),mi=null),e}function wr(e){mi===null?mi=[e]:mi.push(e)}var Fc=A(null),Ji=null,Yn=null;function yi(e,n,r){q(Fc,n._currentValue),n._currentValue=r}function qn(e){e._currentValue=Fc.current,D(Fc)}function Gc(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Hc(e,n,r,o){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var g=u.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=u;for(var E=0;E<n.length;E++)if(T.context===n[E]){d.lanes|=r,T=d.alternate,T!==null&&(T.lanes|=r),Gc(d.return,r,e),o||(g=null);break t}d=T.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(a(341));g.lanes|=r,d=g.alternate,d!==null&&(d.lanes|=r),Gc(g,r,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Us(e,n,r,o){e=null;for(var u=n,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=u.type;ze(u.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(u===ht.current){if(g=u.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(aa):e=[aa])}u=u.return}e!==null&&Hc(n,e,r,o),n.flags|=262144}function oo(e){for(e=e.firstContext;e!==null;){if(!ze(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ts(e){Ji=e,Yn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function fe(e){return Kd(Ji,e)}function lo(e,n){return Ji===null&&ts(e),Kd(e,n)}function Kd(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Yn===null){if(e===null)throw Error(a(308));Yn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Yn=Yn.next=n;return r}var YS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},qS=s.unstable_scheduleCallback,KS=s.unstable_NormalPriority,Jt={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vc(){return{controller:new YS,data:new Map,refCount:0}}function Ir(e){e.refCount--,e.refCount===0&&qS(KS,function(){e.controller.abort()})}var jr=null,Yc=0,Ds=0,zs=null;function XS(e,n){if(jr===null){var r=jr=[];Yc=0,Ds=Xu(),zs={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Yc++,n.then(Xd,Xd),n}function Xd(){if(--Yc===0&&jr!==null){zs!==null&&(zs.status="fulfilled");var e=jr;jr=null,Ds=0,zs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ZS(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(o.status="rejected",o.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),o}var Zd=L.S;L.S=function(e,n){wm=je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&XS(e,n),Zd!==null&&Zd(e,n)};var es=A(null);function qc(){var e=es.current;return e!==null?e:It.pooledCache}function co(e,n){n===null?q(es,es.current):q(es,n.pool)}function Qd(){var e=qc();return e===null?null:{parent:Jt._currentValue,pool:e}}var Ps=Error(a(460)),Kc=Error(a(474)),uo=Error(a(542)),fo={then:function(){}};function Wd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jd(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Fn,Fn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ep(e),e;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(e=It,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=o}},function(o){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ep(e),e}throw is=n,Ps}}function ns(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(is=r,Ps):r}}var is=null;function tp(){if(is===null)throw Error(a(459));var e=is;return is=null,e}function ep(e){if(e===Ps||e===uo)throw Error(a(483))}var Bs=null,Ur=0;function ho(e){var n=Ur;return Ur+=1,Bs===null&&(Bs=[]),Jd(Bs,e,n)}function Dr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function po(e,n){throw n.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function np(e){function n(R,b){if(e){var N=R.deletions;N===null?(R.deletions=[b],R.flags|=16):N.push(b)}}function r(R,b){if(!e)return null;for(;b!==null;)n(R,b),b=b.sibling;return null}function o(R){for(var b=new Map;R!==null;)R.key!==null?b.set(R.key,R):b.set(R.index,R),R=R.sibling;return b}function u(R,b){return R=Hn(R,b),R.index=0,R.sibling=null,R}function d(R,b,N){return R.index=N,e?(N=R.alternate,N!==null?(N=N.index,N<b?(R.flags|=67108866,b):N):(R.flags|=67108866,b)):(R.flags|=1048576,b)}function g(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function T(R,b,N,z){return b===null||b.tag!==6?(b=Uc(N,R.mode,z),b.return=R,b):(b=u(b,N),b.return=R,b)}function E(R,b,N,z){var et=N.type;return et===k?j(R,b,N.props.children,z,N.key):b!==null&&(b.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===X&&ns(et)===b.type)?(b=u(b,N.props),Dr(b,N),b.return=R,b):(b=ro(N.type,N.key,N.props,null,R.mode,z),Dr(b,N),b.return=R,b)}function _(R,b,N,z){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=Dc(N,R.mode,z),b.return=R,b):(b=u(b,N.children||[]),b.return=R,b)}function j(R,b,N,z,et){return b===null||b.tag!==7?(b=Qi(N,R.mode,z,et),b.return=R,b):(b=u(b,N),b.return=R,b)}function $(R,b,N){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Uc(""+b,R.mode,N),b.return=R,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case x:return N=ro(b.type,b.key,b.props,null,R.mode,N),Dr(N,b),N.return=R,N;case C:return b=Dc(b,R.mode,N),b.return=R,b;case X:return b=ns(b),$(R,b,N)}if(lt(b)||Xt(b))return b=Qi(b,R.mode,N,null),b.return=R,b;if(typeof b.then=="function")return $(R,ho(b),N);if(b.$$typeof===I)return $(R,lo(R,b),N);po(R,b)}return null}function M(R,b,N,z){var et=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return et!==null?null:T(R,b,""+N,z);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case x:return N.key===et?E(R,b,N,z):null;case C:return N.key===et?_(R,b,N,z):null;case X:return N=ns(N),M(R,b,N,z)}if(lt(N)||Xt(N))return et!==null?null:j(R,b,N,z,null);if(typeof N.then=="function")return M(R,b,ho(N),z);if(N.$$typeof===I)return M(R,b,lo(R,N),z);po(R,N)}return null}function w(R,b,N,z,et){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return R=R.get(N)||null,T(b,R,""+z,et);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return R=R.get(z.key===null?N:z.key)||null,E(b,R,z,et);case C:return R=R.get(z.key===null?N:z.key)||null,_(b,R,z,et);case X:return z=ns(z),w(R,b,N,z,et)}if(lt(z)||Xt(z))return R=R.get(N)||null,j(b,R,z,et,null);if(typeof z.then=="function")return w(R,b,N,ho(z),et);if(z.$$typeof===I)return w(R,b,N,lo(b,z),et);po(b,z)}return null}function Z(R,b,N,z){for(var et=null,Rt=null,Q=b,pt=b=0,St=null;Q!==null&&pt<N.length;pt++){Q.index>pt?(St=Q,Q=null):St=Q.sibling;var Ct=M(R,Q,N[pt],z);if(Ct===null){Q===null&&(Q=St);break}e&&Q&&Ct.alternate===null&&n(R,Q),b=d(Ct,b,pt),Rt===null?et=Ct:Rt.sibling=Ct,Rt=Ct,Q=St}if(pt===N.length)return r(R,Q),At&&Vn(R,pt),et;if(Q===null){for(;pt<N.length;pt++)Q=$(R,N[pt],z),Q!==null&&(b=d(Q,b,pt),Rt===null?et=Q:Rt.sibling=Q,Rt=Q);return At&&Vn(R,pt),et}for(Q=o(Q);pt<N.length;pt++)St=w(Q,R,pt,N[pt],z),St!==null&&(e&&St.alternate!==null&&Q.delete(St.key===null?pt:St.key),b=d(St,b,pt),Rt===null?et=St:Rt.sibling=St,Rt=St);return e&&Q.forEach(function(ji){return n(R,ji)}),At&&Vn(R,pt),et}function it(R,b,N,z){if(N==null)throw Error(a(151));for(var et=null,Rt=null,Q=b,pt=b=0,St=null,Ct=N.next();Q!==null&&!Ct.done;pt++,Ct=N.next()){Q.index>pt?(St=Q,Q=null):St=Q.sibling;var ji=M(R,Q,Ct.value,z);if(ji===null){Q===null&&(Q=St);break}e&&Q&&ji.alternate===null&&n(R,Q),b=d(ji,b,pt),Rt===null?et=ji:Rt.sibling=ji,Rt=ji,Q=St}if(Ct.done)return r(R,Q),At&&Vn(R,pt),et;if(Q===null){for(;!Ct.done;pt++,Ct=N.next())Ct=$(R,Ct.value,z),Ct!==null&&(b=d(Ct,b,pt),Rt===null?et=Ct:Rt.sibling=Ct,Rt=Ct);return At&&Vn(R,pt),et}for(Q=o(Q);!Ct.done;pt++,Ct=N.next())Ct=w(Q,R,pt,Ct.value,z),Ct!==null&&(e&&Ct.alternate!==null&&Q.delete(Ct.key===null?pt:Ct.key),b=d(Ct,b,pt),Rt===null?et=Ct:Rt.sibling=Ct,Rt=Ct);return e&&Q.forEach(function(oA){return n(R,oA)}),At&&Vn(R,pt),et}function wt(R,b,N,z){if(typeof N=="object"&&N!==null&&N.type===k&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case x:t:{for(var et=N.key;b!==null;){if(b.key===et){if(et=N.type,et===k){if(b.tag===7){r(R,b.sibling),z=u(b,N.props.children),z.return=R,R=z;break t}}else if(b.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===X&&ns(et)===b.type){r(R,b.sibling),z=u(b,N.props),Dr(z,N),z.return=R,R=z;break t}r(R,b);break}else n(R,b);b=b.sibling}N.type===k?(z=Qi(N.props.children,R.mode,z,N.key),z.return=R,R=z):(z=ro(N.type,N.key,N.props,null,R.mode,z),Dr(z,N),z.return=R,R=z)}return g(R);case C:t:{for(et=N.key;b!==null;){if(b.key===et)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){r(R,b.sibling),z=u(b,N.children||[]),z.return=R,R=z;break t}else{r(R,b);break}else n(R,b);b=b.sibling}z=Dc(N,R.mode,z),z.return=R,R=z}return g(R);case X:return N=ns(N),wt(R,b,N,z)}if(lt(N))return Z(R,b,N,z);if(Xt(N)){if(et=Xt(N),typeof et!="function")throw Error(a(150));return N=et.call(N),it(R,b,N,z)}if(typeof N.then=="function")return wt(R,b,ho(N),z);if(N.$$typeof===I)return wt(R,b,lo(R,N),z);po(R,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,b!==null&&b.tag===6?(r(R,b.sibling),z=u(b,N),z.return=R,R=z):(r(R,b),z=Uc(N,R.mode,z),z.return=R,R=z),g(R)):r(R,b)}return function(R,b,N,z){try{Ur=0;var et=wt(R,b,N,z);return Bs=null,et}catch(Q){if(Q===Ps||Q===uo)throw Q;var Rt=Pe(29,Q,null,R.mode);return Rt.lanes=z,Rt.return=R,Rt}}}var ss=np(!0),ip=np(!1),vi=!1;function Xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ti(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Si(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Nt&2)!==0){var u=o.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),o.pending=n,n=so(e),Bd(e,null,r),n}return io(e,o,n,r),so(e)}function zr(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Kh(e,r)}}function Qc(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var u=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?u=d=g:d=d.next=g,r=r.next}while(r!==null);d===null?u=d=n:d=d.next=n}else u=d=n;r={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Wc=!1;function Pr(){if(Wc){var e=zs;if(e!==null)throw e}}function Br(e,n,r,o){Wc=!1;var u=e.updateQueue;vi=!1;var d=u.firstBaseUpdate,g=u.lastBaseUpdate,T=u.shared.pending;if(T!==null){u.shared.pending=null;var E=T,_=E.next;E.next=null,g===null?d=_:g.next=_,g=E;var j=e.alternate;j!==null&&(j=j.updateQueue,T=j.lastBaseUpdate,T!==g&&(T===null?j.firstBaseUpdate=_:T.next=_,j.lastBaseUpdate=E))}if(d!==null){var $=u.baseState;g=0,j=_=E=null,T=d;do{var M=T.lane&-536870913,w=M!==T.lane;if(w?(Tt&M)===M:(o&M)===M){M!==0&&M===Ds&&(Wc=!0),j!==null&&(j=j.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Z=e,it=T;M=n;var wt=r;switch(it.tag){case 1:if(Z=it.payload,typeof Z=="function"){$=Z.call(wt,$,M);break t}$=Z;break t;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=it.payload,M=typeof Z=="function"?Z.call(wt,$,M):Z,M==null)break t;$=v({},$,M);break t;case 2:vi=!0}}M=T.callback,M!==null&&(e.flags|=64,w&&(e.flags|=8192),w=u.callbacks,w===null?u.callbacks=[M]:w.push(M))}else w={lane:M,tag:T.tag,payload:T.payload,callback:T.callback,next:null},j===null?(_=j=w,E=$):j=j.next=w,g|=M;if(T=T.next,T===null){if(T=u.shared.pending,T===null)break;w=T,T=w.next,w.next=null,u.lastBaseUpdate=w,u.shared.pending=null}}while(!0);j===null&&(E=$),u.baseState=E,u.firstBaseUpdate=_,u.lastBaseUpdate=j,d===null&&(u.shared.lanes=0),Oi|=g,e.lanes=g,e.memoizedState=$}}function sp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function rp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)sp(r[e],n)}var $s=A(null),mo=A(0);function ap(e,n){e=ni,q(mo,e),q($s,n),ni=e|n.baseLanes}function Jc(){q(mo,ni),q($s,$s.current)}function tu(){ni=mo.current,D($s),D(mo)}var Be=A(null),an=null;function Ei(e){var n=e.alternate;q(Zt,Zt.current&1),q(Be,e),an===null&&(n===null||$s.current!==null||n.memoizedState!==null)&&(an=e)}function eu(e){q(Zt,Zt.current),q(Be,e),an===null&&(an=e)}function op(e){e.tag===22?(q(Zt,Zt.current),q(Be,e),an===null&&(an=e)):Ai()}function Ai(){q(Zt,Zt.current),q(Be,Be.current)}function $e(e){D(Be),an===e&&(an=null),D(Zt)}var Zt=A(0);function go(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||lf(r)||cf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Kn=0,dt=null,Mt=null,te=null,yo=!1,Fs=!1,rs=!1,vo=0,$r=0,Gs=null,QS=0;function Vt(){throw Error(a(321))}function nu(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!ze(e[r],n[r]))return!1;return!0}function iu(e,n,r,o,u,d){return Kn=d,dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?Hp:vu,rs=!1,d=r(o,u),rs=!1,Fs&&(d=cp(n,r,o,u)),lp(e),d}function lp(e){L.H=Hr;var n=Mt!==null&&Mt.next!==null;if(Kn=0,te=Mt=dt=null,yo=!1,$r=0,Gs=null,n)throw Error(a(300));e===null||ee||(e=e.dependencies,e!==null&&oo(e)&&(ee=!0))}function cp(e,n,r,o){dt=e;var u=0;do{if(Fs&&(Gs=null),$r=0,Fs=!1,25<=u)throw Error(a(301));if(u+=1,te=Mt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}L.H=Vp,d=n(r,o)}while(Fs);return d}function WS(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?Fr(n):n,e=e.useState()[0],(Mt!==null?Mt.memoizedState:null)!==e&&(dt.flags|=1024),n}function su(){var e=vo!==0;return vo=0,e}function ru(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function au(e){if(yo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}yo=!1}Kn=0,te=Mt=dt=null,Fs=!1,$r=vo=0,Gs=null}function Te(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return te===null?dt.memoizedState=te=e:te=te.next=e,te}function Qt(){if(Mt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var n=te===null?dt.memoizedState:te.next;if(n!==null)te=n,Mt=e;else{if(e===null)throw dt.alternate===null?Error(a(467)):Error(a(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},te===null?dt.memoizedState=te=e:te=te.next=e}return te}function To(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fr(e){var n=$r;return $r+=1,Gs===null&&(Gs=[]),e=Jd(Gs,e,n),n=dt,(te===null?n.memoizedState:te.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?Hp:vu),e}function So(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fr(e);if(e.$$typeof===I)return fe(e)}throw Error(a(438,String(e)))}function ou(e){var n=null,r=dt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=To(),dt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=ft;return n.index++,r}function Xn(e,n){return typeof n=="function"?n(e):n}function Eo(e){var n=Qt();return lu(n,Mt,e)}function lu(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var u=e.baseQueue,d=o.pending;if(d!==null){if(u!==null){var g=u.next;u.next=d.next,d.next=g}n.baseQueue=u=d,o.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{n=u.next;var T=g=null,E=null,_=n,j=!1;do{var $=_.lane&-536870913;if($!==_.lane?(Tt&$)===$:(Kn&$)===$){var M=_.revertLane;if(M===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),$===Ds&&(j=!0);else if((Kn&M)===M){_=_.next,M===Ds&&(j=!0);continue}else $={lane:0,revertLane:_.revertLane,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},E===null?(T=E=$,g=d):E=E.next=$,dt.lanes|=M,Oi|=M;$=_.action,rs&&r(d,$),d=_.hasEagerState?_.eagerState:r(d,$)}else M={lane:$,revertLane:_.revertLane,gesture:_.gesture,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},E===null?(T=E=M,g=d):E=E.next=M,dt.lanes|=$,Oi|=$;_=_.next}while(_!==null&&_!==n);if(E===null?g=d:E.next=T,!ze(d,e.memoizedState)&&(ee=!0,j&&(r=zs,r!==null)))throw r;e.memoizedState=d,e.baseState=g,e.baseQueue=E,o.lastRenderedState=d}return u===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function cu(e){var n=Qt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,u=r.pending,d=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do d=e(d,g.action),g=g.next;while(g!==u);ze(d,n.memoizedState)||(ee=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,o]}function up(e,n,r){var o=dt,u=Qt(),d=At;if(d){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!ze((Mt||u).memoizedState,r);if(g&&(u.memoizedState=r,ee=!0),u=u.queue,hu(dp.bind(null,o,u,e),[e]),u.getSnapshot!==n||g||te!==null&&te.memoizedState.tag&1){if(o.flags|=2048,Hs(9,{destroy:void 0},hp.bind(null,o,u,r,n),null),It===null)throw Error(a(349));d||(Kn&127)!==0||fp(o,n,r)}return r}function fp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=dt.updateQueue,n===null?(n=To(),dt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function hp(e,n,r,o){n.value=r,n.getSnapshot=o,pp(n)&&mp(e)}function dp(e,n,r){return r(function(){pp(n)&&mp(e)})}function pp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!ze(e,r)}catch{return!0}}function mp(e){var n=Zi(e,2);n!==null&&_e(n,e,2)}function uu(e){var n=Te();if(typeof e=="function"){var r=e;if(e=r(),rs){fi(!0);try{r()}finally{fi(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:e},n}function gp(e,n,r,o){return e.baseState=r,lu(e,Mt,typeof o=="function"?o:Xn)}function JS(e,n,r,o,u){if(xo(e))throw Error(a(485));if(e=n.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};L.T!==null?r(!0):d.isTransition=!1,o(d),r=n.pending,r===null?(d.next=n.pending=d,yp(n,d)):(d.next=r.next,n.pending=r.next=d)}}function yp(e,n){var r=n.action,o=n.payload,u=e.state;if(n.isTransition){var d=L.T,g={};L.T=g;try{var T=r(u,o),E=L.S;E!==null&&E(g,T),vp(e,n,T)}catch(_){fu(e,n,_)}finally{d!==null&&g.types!==null&&(d.types=g.types),L.T=d}}else try{d=r(u,o),vp(e,n,d)}catch(_){fu(e,n,_)}}function vp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Tp(e,n,o)},function(o){return fu(e,n,o)}):Tp(e,n,r)}function Tp(e,n,r){n.status="fulfilled",n.value=r,Sp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,yp(e,r)))}function fu(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Sp(n),n=n.next;while(n!==o)}e.action=null}function Sp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ep(e,n){return n}function Ap(e,n){if(At){var r=It.formState;if(r!==null){t:{var o=dt;if(At){if(Dt){e:{for(var u=Dt,d=rn;u.nodeType!==8;){if(!d){u=null;break e}if(u=on(u.nextSibling),u===null){u=null;break e}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){Dt=on(u.nextSibling),o=u.data==="F!";break t}}gi(o)}o=!1}o&&(n=r[0])}}return r=Te(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:n},r.queue=o,r=$p.bind(null,dt,o),o.dispatch=r,o=uu(!1),d=yu.bind(null,dt,!1,o.queue),o=Te(),u={state:n,dispatch:null,action:e,pending:null},o.queue=u,r=JS.bind(null,dt,u,d,r),u.dispatch=r,o.memoizedState=e,[n,r,!1]}function bp(e){var n=Qt();return xp(n,Mt,e)}function xp(e,n,r){if(n=lu(e,n,Ep)[0],e=Eo(Xn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Fr(n)}catch(g){throw g===Ps?uo:g}else o=n;n=Qt();var u=n.queue,d=u.dispatch;return r!==n.memoizedState&&(dt.flags|=2048,Hs(9,{destroy:void 0},tE.bind(null,u,r),null)),[o,d,e]}function tE(e,n){e.action=n}function Op(e){var n=Qt(),r=Mt;if(r!==null)return xp(n,r,e);Qt(),n=n.memoizedState,r=Qt();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Hs(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=dt.updateQueue,n===null&&(n=To(),dt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Rp(){return Qt().memoizedState}function Ao(e,n,r,o){var u=Te();dt.flags|=e,u.memoizedState=Hs(1|n,{destroy:void 0},r,o===void 0?null:o)}function bo(e,n,r,o){var u=Qt();o=o===void 0?null:o;var d=u.memoizedState.inst;Mt!==null&&o!==null&&nu(o,Mt.memoizedState.deps)?u.memoizedState=Hs(n,d,r,o):(dt.flags|=e,u.memoizedState=Hs(1|n,d,r,o))}function Cp(e,n){Ao(8390656,8,e,n)}function hu(e,n){bo(2048,8,e,n)}function eE(e){dt.flags|=4;var n=dt.updateQueue;if(n===null)n=To(),dt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Np(e){var n=Qt().memoizedState;return eE({ref:n,nextImpl:e}),function(){if((Nt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function _p(e,n){return bo(4,2,e,n)}function kp(e,n){return bo(4,4,e,n)}function Mp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Lp(e,n,r){r=r!=null?r.concat([e]):null,bo(4,4,Mp.bind(null,n,e),r)}function du(){}function wp(e,n){var r=Qt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&nu(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Ip(e,n){var r=Qt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&nu(n,o[1]))return o[0];if(o=e(),rs){fi(!0);try{e()}finally{fi(!1)}}return r.memoizedState=[o,n],o}function pu(e,n,r){return r===void 0||(Kn&1073741824)!==0&&(Tt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=jm(),dt.lanes|=e,Oi|=e,r)}function jp(e,n,r,o){return ze(r,n)?r:$s.current!==null?(e=pu(e,r,o),ze(e,n)||(ee=!0),e):(Kn&42)===0||(Kn&1073741824)!==0&&(Tt&261930)===0?(ee=!0,e.memoizedState=r):(e=jm(),dt.lanes|=e,Oi|=e,n)}function Up(e,n,r,o,u){var d=Y.p;Y.p=d!==0&&8>d?d:8;var g=L.T,T={};L.T=T,yu(e,!1,n,r);try{var E=u(),_=L.S;if(_!==null&&_(T,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var j=ZS(E,o);Gr(e,n,j,He(e))}else Gr(e,n,o,He(e))}catch($){Gr(e,n,{then:function(){},status:"rejected",reason:$},He())}finally{Y.p=d,g!==null&&T.types!==null&&(g.types=T.types),L.T=g}}function nE(){}function mu(e,n,r,o){if(e.tag!==5)throw Error(a(476));var u=Dp(e).queue;Up(e,u,n,tt,r===null?nE:function(){return zp(e),r(o)})}function Dp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:tt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function zp(e){var n=Dp(e);n.next===null&&(n=e.alternate.memoizedState),Gr(e,n.next.queue,{},He())}function gu(){return fe(aa)}function Pp(){return Qt().memoizedState}function Bp(){return Qt().memoizedState}function iE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=He();e=Ti(r);var o=Si(n,e,r);o!==null&&(_e(o,n,r),zr(o,n,r)),n={cache:Vc()},e.payload=n;return}n=n.return}}function sE(e,n,r){var o=He();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},xo(e)?Fp(n,r):(r=Ic(e,n,r,o),r!==null&&(_e(r,e,o),Gp(r,n,o)))}function $p(e,n,r){var o=He();Gr(e,n,r,o)}function Gr(e,n,r,o){var u={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(xo(e))Fp(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,T=d(g,r);if(u.hasEagerState=!0,u.eagerState=T,ze(T,g))return io(e,n,u,0),It===null&&no(),!1}catch{}if(r=Ic(e,n,u,o),r!==null)return _e(r,e,o),Gp(r,n,o),!0}return!1}function yu(e,n,r,o){if(o={lane:2,revertLane:Xu(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xo(e)){if(n)throw Error(a(479))}else n=Ic(e,r,o,2),n!==null&&_e(n,e,2)}function xo(e){var n=e.alternate;return e===dt||n!==null&&n===dt}function Fp(e,n){Fs=yo=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Gp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Kh(e,r)}}var Hr={readContext:fe,use:So,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};Hr.useEffectEvent=Vt;var Hp={readContext:fe,use:So,useCallback:function(e,n){return Te().memoizedState=[e,n===void 0?null:n],e},useContext:fe,useEffect:Cp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Ao(4194308,4,Mp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Ao(4194308,4,e,n)},useInsertionEffect:function(e,n){Ao(4,2,e,n)},useMemo:function(e,n){var r=Te();n=n===void 0?null:n;var o=e();if(rs){fi(!0);try{e()}finally{fi(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=Te();if(r!==void 0){var u=r(n);if(rs){fi(!0);try{r(n)}finally{fi(!1)}}}else u=n;return o.memoizedState=o.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},o.queue=e,e=e.dispatch=sE.bind(null,dt,e),[o.memoizedState,e]},useRef:function(e){var n=Te();return e={current:e},n.memoizedState=e},useState:function(e){e=uu(e);var n=e.queue,r=$p.bind(null,dt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:du,useDeferredValue:function(e,n){var r=Te();return pu(r,e,n)},useTransition:function(){var e=uu(!1);return e=Up.bind(null,dt,e.queue,!0,!1),Te().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=dt,u=Te();if(At){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),It===null)throw Error(a(349));(Tt&127)!==0||fp(o,n,r)}u.memoizedState=r;var d={value:r,getSnapshot:n};return u.queue=d,Cp(dp.bind(null,o,d,e),[e]),o.flags|=2048,Hs(9,{destroy:void 0},hp.bind(null,o,d,r,n),null),r},useId:function(){var e=Te(),n=It.identifierPrefix;if(At){var r=kn,o=_n;r=(o&~(1<<32-De(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=vo++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=QS++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:gu,useFormState:Ap,useActionState:Ap,useOptimistic:function(e){var n=Te();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yu.bind(null,dt,!0,r),r.dispatch=n,[e,n]},useMemoCache:ou,useCacheRefresh:function(){return Te().memoizedState=iE.bind(null,dt)},useEffectEvent:function(e){var n=Te(),r={impl:e};return n.memoizedState=r,function(){if((Nt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},vu={readContext:fe,use:So,useCallback:wp,useContext:fe,useEffect:hu,useImperativeHandle:Lp,useInsertionEffect:_p,useLayoutEffect:kp,useMemo:Ip,useReducer:Eo,useRef:Rp,useState:function(){return Eo(Xn)},useDebugValue:du,useDeferredValue:function(e,n){var r=Qt();return jp(r,Mt.memoizedState,e,n)},useTransition:function(){var e=Eo(Xn)[0],n=Qt().memoizedState;return[typeof e=="boolean"?e:Fr(e),n]},useSyncExternalStore:up,useId:Pp,useHostTransitionStatus:gu,useFormState:bp,useActionState:bp,useOptimistic:function(e,n){var r=Qt();return gp(r,Mt,e,n)},useMemoCache:ou,useCacheRefresh:Bp};vu.useEffectEvent=Np;var Vp={readContext:fe,use:So,useCallback:wp,useContext:fe,useEffect:hu,useImperativeHandle:Lp,useInsertionEffect:_p,useLayoutEffect:kp,useMemo:Ip,useReducer:cu,useRef:Rp,useState:function(){return cu(Xn)},useDebugValue:du,useDeferredValue:function(e,n){var r=Qt();return Mt===null?pu(r,e,n):jp(r,Mt.memoizedState,e,n)},useTransition:function(){var e=cu(Xn)[0],n=Qt().memoizedState;return[typeof e=="boolean"?e:Fr(e),n]},useSyncExternalStore:up,useId:Pp,useHostTransitionStatus:gu,useFormState:Op,useActionState:Op,useOptimistic:function(e,n){var r=Qt();return Mt!==null?gp(r,Mt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ou,useCacheRefresh:Bp};Vp.useEffectEvent=Np;function Tu(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:v({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Su={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=He(),u=Ti(o);u.payload=n,r!=null&&(u.callback=r),n=Si(e,u,o),n!==null&&(_e(n,e,o),zr(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=He(),u=Ti(o);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=Si(e,u,o),n!==null&&(_e(n,e,o),zr(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=He(),o=Ti(r);o.tag=2,n!=null&&(o.callback=n),n=Si(e,o,r),n!==null&&(_e(n,e,r),zr(n,e,r))}};function Yp(e,n,r,o,u,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,g):n.prototype&&n.prototype.isPureReactComponent?!kr(r,o)||!kr(u,d):!0}function qp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Su.enqueueReplaceState(n,n.state,null)}function as(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=v({},r));for(var u in e)r[u]===void 0&&(r[u]=e[u])}return r}function Kp(e){eo(e)}function Xp(e){console.error(e)}function Zp(e){eo(e)}function Oo(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Eu(e,n,r){return r=Ti(r),r.tag=3,r.payload={element:null},r.callback=function(){Oo(e,n)},r}function Wp(e){return e=Ti(e),e.tag=3,e}function Jp(e,n,r,o){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var d=o.value;e.payload=function(){return u(d)},e.callback=function(){Qp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Qp(n,r,o),typeof u!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function rE(e,n,r,o,u){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Us(n,r,u,!0),r=Be.current,r!==null){switch(r.tag){case 31:case 13:return an===null?Do():r.alternate===null&&Yt===0&&(Yt=3),r.flags&=-257,r.flags|=65536,r.lanes=u,o===fo?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Yu(e,o,u)),!1;case 22:return r.flags|=65536,o===fo?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Yu(e,o,u)),!1}throw Error(a(435,r.tag))}return Yu(e,o,u),Do(),!1}if(At)return n=Be.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,o!==Bc&&(e=Error(a(422),{cause:o}),wr(en(e,r)))):(o!==Bc&&(n=Error(a(423),{cause:o}),wr(en(n,r))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,o=en(o,r),u=Eu(e.stateNode,o,u),Qc(e,u),Yt!==4&&(Yt=2)),!1;var d=Error(a(520),{cause:o});if(d=en(d,r),Wr===null?Wr=[d]:Wr.push(d),Yt!==4&&(Yt=2),n===null)return!0;o=en(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=u&-u,r.lanes|=e,e=Eu(r.stateNode,o,e),Qc(r,e),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ri===null||!Ri.has(d))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Wp(u),Jp(u,e,r,o),Qc(r,u),!1}r=r.return}while(r!==null);return!1}var Au=Error(a(461)),ee=!1;function he(e,n,r,o){n.child=e===null?ip(n,null,r,o):ss(n,e.child,r,o)}function tm(e,n,r,o,u){r=r.render;var d=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return ts(n),o=iu(e,n,r,g,d,u),T=su(),e!==null&&!ee?(ru(e,n,u),Zn(e,n,u)):(At&&T&&zc(n),n.flags|=1,he(e,n,o,u),n.child)}function em(e,n,r,o,u){if(e===null){var d=r.type;return typeof d=="function"&&!jc(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,nm(e,n,d,o,u)):(e=ro(r.type,null,o,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!ku(e,u)){var g=d.memoizedProps;if(r=r.compare,r=r!==null?r:kr,r(g,o)&&e.ref===n.ref)return Zn(e,n,u)}return n.flags|=1,e=Hn(d,o),e.ref=n.ref,e.return=n,n.child=e}function nm(e,n,r,o,u){if(e!==null){var d=e.memoizedProps;if(kr(d,o)&&e.ref===n.ref)if(ee=!1,n.pendingProps=o=d,ku(e,u))(e.flags&131072)!==0&&(ee=!0);else return n.lanes=e.lanes,Zn(e,n,u)}return bu(e,n,r,o,u)}function im(e,n,r,o){var u=o.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(o=n.child=e.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;o=u&~d}else o=0,n.child=null;return sm(e,n,d,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&co(n,d!==null?d.cachePool:null),d!==null?ap(n,d):Jc(),op(n);else return o=n.lanes=536870912,sm(e,n,d!==null?d.baseLanes|r:r,r,o)}else d!==null?(co(n,d.cachePool),ap(n,d),Ai(),n.memoizedState=null):(e!==null&&co(n,null),Jc(),Ai());return he(e,n,u,r),n.child}function Vr(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sm(e,n,r,o,u){var d=qc();return d=d===null?null:{parent:Jt._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},e!==null&&co(n,null),Jc(),op(n),e!==null&&Us(e,n,o,!0),n.childLanes=u,null}function Ro(e,n){return n=No({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function rm(e,n,r){return ss(n,e.child,null,r),e=Ro(n,n.pendingProps),e.flags|=2,$e(n),n.memoizedState=null,e}function aE(e,n,r){var o=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(At){if(o.mode==="hidden")return e=Ro(n,o),n.lanes=536870912,Vr(null,e);if(eu(n),(e=Dt)?(e=yg(e,rn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pi!==null?{id:_n,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},r=Fd(e),r.return=n,n.child=r,ue=n,Dt=null)):e=null,e===null)throw gi(n);return n.lanes=536870912,null}return Ro(n,o)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if(eu(n),u)if(n.flags&256)n.flags&=-257,n=rm(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(ee||Us(e,n,r,!1),u=(r&e.childLanes)!==0,ee||u){if(o=It,o!==null&&(g=Xh(o,r),g!==0&&g!==d.retryLane))throw d.retryLane=g,Zi(e,g),_e(o,e,g),Au;Do(),n=rm(e,n,r)}else e=d.treeContext,Dt=on(g.nextSibling),ue=n,At=!0,mi=null,rn=!1,e!==null&&Vd(n,e),n=Ro(n,o),n.flags|=4096;return n}return e=Hn(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Co(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function bu(e,n,r,o,u){return ts(n),r=iu(e,n,r,o,void 0,u),o=su(),e!==null&&!ee?(ru(e,n,u),Zn(e,n,u)):(At&&o&&zc(n),n.flags|=1,he(e,n,r,u),n.child)}function am(e,n,r,o,u,d){return ts(n),n.updateQueue=null,r=cp(n,o,r,u),lp(e),o=su(),e!==null&&!ee?(ru(e,n,d),Zn(e,n,d)):(At&&o&&zc(n),n.flags|=1,he(e,n,r,d),n.child)}function om(e,n,r,o,u){if(ts(n),n.stateNode===null){var d=Ls,g=r.contextType;typeof g=="object"&&g!==null&&(d=fe(g)),d=new r(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Su,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Xc(n),g=r.contextType,d.context=typeof g=="object"&&g!==null?fe(g):Ls,d.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Tu(n,r,g,o),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Su.enqueueReplaceState(d,d.state,null),Br(n,o,d,u),Pr(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,E=as(r,T);d.props=E;var _=d.context,j=r.contextType;g=Ls,typeof j=="object"&&j!==null&&(g=fe(j));var $=r.getDerivedStateFromProps;j=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,j||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||_!==g)&&qp(n,d,o,g),vi=!1;var M=n.memoizedState;d.state=M,Br(n,o,d,u),Pr(),_=n.memoizedState,T||M!==_||vi?(typeof $=="function"&&(Tu(n,r,$,o),_=n.memoizedState),(E=vi||Yp(n,r,E,o,M,_,g))?(j||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=_),d.props=o,d.state=_,d.context=g,o=E):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Zc(e,n),g=n.memoizedProps,j=as(r,g),d.props=j,$=n.pendingProps,M=d.context,_=r.contextType,E=Ls,typeof _=="object"&&_!==null&&(E=fe(_)),T=r.getDerivedStateFromProps,(_=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==$||M!==E)&&qp(n,d,o,E),vi=!1,M=n.memoizedState,d.state=M,Br(n,o,d,u),Pr();var w=n.memoizedState;g!==$||M!==w||vi||e!==null&&e.dependencies!==null&&oo(e.dependencies)?(typeof T=="function"&&(Tu(n,r,T,o),w=n.memoizedState),(j=vi||Yp(n,r,j,o,M,w,E)||e!==null&&e.dependencies!==null&&oo(e.dependencies))?(_||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,w,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,w,E)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=w),d.props=o,d.state=w,d.context=E,o=j):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Co(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=ss(n,e.child,null,u),n.child=ss(n,null,r,u)):he(e,n,r,u),n.memoizedState=d.state,e=n.child):e=Zn(e,n,u),e}function lm(e,n,r,o){return Wi(),n.flags|=256,he(e,n,r,o),n.child}var xu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ou(e){return{baseLanes:e,cachePool:Qd()}}function Ru(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Ge),e}function cm(e,n,r){var o=n.pendingProps,u=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(Zt.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(At){if(u?Ei(n):Ai(),(e=Dt)?(e=yg(e,rn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pi!==null?{id:_n,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},r=Fd(e),r.return=n,n.child=r,ue=n,Dt=null)):e=null,e===null)throw gi(n);return cf(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,u?(Ai(),u=n.mode,T=No({mode:"hidden",children:T},u),o=Qi(o,u,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Ou(r),o.childLanes=Ru(e,g,r),n.memoizedState=xu,Vr(null,o)):(Ei(n),Cu(n,T))}var E=e.memoizedState;if(E!==null&&(T=E.dehydrated,T!==null)){if(d)n.flags&256?(Ei(n),n.flags&=-257,n=Nu(e,n,r)):n.memoizedState!==null?(Ai(),n.child=e.child,n.flags|=128,n=null):(Ai(),T=o.fallback,u=n.mode,o=No({mode:"visible",children:o.children},u),T=Qi(T,u,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,ss(n,e.child,null,r),o=n.child,o.memoizedState=Ou(r),o.childLanes=Ru(e,g,r),n.memoizedState=xu,n=Vr(null,o));else if(Ei(n),cf(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var _=g.dgst;g=_,o=Error(a(419)),o.stack="",o.digest=g,wr({value:o,source:null,stack:null}),n=Nu(e,n,r)}else if(ee||Us(e,n,r,!1),g=(r&e.childLanes)!==0,ee||g){if(g=It,g!==null&&(o=Xh(g,r),o!==0&&o!==E.retryLane))throw E.retryLane=o,Zi(e,o),_e(g,e,o),Au;lf(T)||Do(),n=Nu(e,n,r)}else lf(T)?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,Dt=on(T.nextSibling),ue=n,At=!0,mi=null,rn=!1,e!==null&&Vd(n,e),n=Cu(n,o.children),n.flags|=4096);return n}return u?(Ai(),T=o.fallback,u=n.mode,E=e.child,_=E.sibling,o=Hn(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,_!==null?T=Hn(_,T):(T=Qi(T,u,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Vr(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Ou(r):(u=T.cachePool,u!==null?(E=Jt._currentValue,u=u.parent!==E?{parent:E,pool:E}:u):u=Qd(),T={baseLanes:T.baseLanes|r,cachePool:u}),o.memoizedState=T,o.childLanes=Ru(e,g,r),n.memoizedState=xu,Vr(e.child,o)):(Ei(n),r=e.child,e=r.sibling,r=Hn(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Cu(e,n){return n=No({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function No(e,n){return e=Pe(22,e,null,n),e.lanes=0,e}function Nu(e,n,r){return ss(n,e.child,null,r),e=Cu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function um(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Gc(e.return,n,r)}function _u(e,n,r,o,u,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:u,treeForkCount:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=u,g.treeForkCount=d)}function fm(e,n,r){var o=n.pendingProps,u=o.revealOrder,d=o.tail;o=o.children;var g=Zt.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,q(Zt,g),he(e,n,o,r),o=At?Lr:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&um(e,r,n);else if(e.tag===19)um(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)e=r.alternate,e!==null&&go(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),_u(n,!1,u,r,d,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&go(e)===null){n.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}_u(n,!0,r,null,d,o);break;case"together":_u(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Zn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Oi|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Us(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Hn(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Hn(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function ku(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&oo(e)))}function oE(e,n,r){switch(n.tag){case 3:Ht(n,n.stateNode.containerInfo),yi(n,Jt,e.memoizedState.cache),Wi();break;case 27:case 5:ve(n);break;case 4:Ht(n,n.stateNode.containerInfo);break;case 10:yi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,eu(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ei(n),n.flags|=128,null):(r&n.child.childLanes)!==0?cm(e,n,r):(Ei(n),e=Zn(e,n,r),e!==null?e.sibling:null);Ei(n);break;case 19:var u=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Us(e,n,r,!1),o=(r&n.childLanes)!==0),u){if(o)return fm(e,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),q(Zt,Zt.current),o)break;return null;case 22:return n.lanes=0,im(e,n,r,n.pendingProps);case 24:yi(n,Jt,e.memoizedState.cache)}return Zn(e,n,r)}function hm(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ee=!0;else{if(!ku(e,r)&&(n.flags&128)===0)return ee=!1,oE(e,n,r);ee=(e.flags&131072)!==0}else ee=!1,At&&(n.flags&1048576)!==0&&Hd(n,Lr,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=ns(n.elementType),n.type=e,typeof e=="function")jc(e)?(o=as(e,o),n.tag=1,n=om(null,n,e,o,r)):(n.tag=0,n=bu(null,n,e,o,r));else{if(e!=null){var u=e.$$typeof;if(u===F){n.tag=11,n=tm(null,n,e,o,r);break t}else if(u===G){n.tag=14,n=em(null,n,e,o,r);break t}}throw n=Wt(e)||e,Error(a(306,n,""))}}return n;case 0:return bu(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,u=as(o,n.pendingProps),om(e,n,o,u,r);case 3:t:{if(Ht(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var d=n.memoizedState;u=d.element,Zc(e,n),Br(n,o,null,r);var g=n.memoizedState;if(o=g.cache,yi(n,Jt,o),o!==d.cache&&Hc(n,[Jt],r,!0),Pr(),o=g.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=lm(e,n,o,r);break t}else if(o!==u){u=en(Error(a(424)),n),wr(u),n=lm(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Dt=on(e.firstChild),ue=n,At=!0,mi=null,rn=!0,r=ip(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wi(),o===u){n=Zn(e,n,r);break t}he(e,n,o,r)}n=n.child}return n;case 26:return Co(e,n),e===null?(r=bg(n.type,null,n.pendingProps,null))?n.memoizedState=r:At||(r=n.type,e=n.pendingProps,o=Ho(nt.current).createElement(r),o[ce]=n,o[be]=e,de(o,r,e),oe(o),n.stateNode=o):n.memoizedState=bg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ve(n),e===null&&At&&(o=n.stateNode=Sg(n.type,n.pendingProps,nt.current),ue=n,rn=!0,u=Dt,ki(n.type)?(uf=u,Dt=on(o.firstChild)):Dt=u),he(e,n,n.pendingProps.children,r),Co(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&At&&((u=o=Dt)&&(o=DE(o,n.type,n.pendingProps,rn),o!==null?(n.stateNode=o,ue=n,Dt=on(o.firstChild),rn=!1,u=!0):u=!1),u||gi(n)),ve(n),u=n.type,d=n.pendingProps,g=e!==null?e.memoizedProps:null,o=d.children,rf(u,d)?o=null:g!==null&&rf(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=iu(e,n,WS,null,null,r),aa._currentValue=u),Co(e,n),he(e,n,o,r),n.child;case 6:return e===null&&At&&((e=r=Dt)&&(r=zE(r,n.pendingProps,rn),r!==null?(n.stateNode=r,ue=n,Dt=null,e=!0):e=!1),e||gi(n)),null;case 13:return cm(e,n,r);case 4:return Ht(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ss(n,null,o,r):he(e,n,o,r),n.child;case 11:return tm(e,n,n.type,n.pendingProps,r);case 7:return he(e,n,n.pendingProps,r),n.child;case 8:return he(e,n,n.pendingProps.children,r),n.child;case 12:return he(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,yi(n,n.type,o.value),he(e,n,o.children,r),n.child;case 9:return u=n.type._context,o=n.pendingProps.children,ts(n),u=fe(u),o=o(u),n.flags|=1,he(e,n,o,r),n.child;case 14:return em(e,n,n.type,n.pendingProps,r);case 15:return nm(e,n,n.type,n.pendingProps,r);case 19:return fm(e,n,r);case 31:return aE(e,n,r);case 22:return im(e,n,r,n.pendingProps);case 24:return ts(n),o=fe(Jt),e===null?(u=qc(),u===null&&(u=It,d=Vc(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=r),u=d),n.memoizedState={parent:o,cache:u},Xc(n),yi(n,Jt,u)):((e.lanes&r)!==0&&(Zc(e,n),Br(n,null,null,r),Pr()),u=e.memoizedState,d=n.memoizedState,u.parent!==o?(u={parent:o,cache:o},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),yi(n,Jt,o)):(o=d.cache,yi(n,Jt,o),o!==u.cache&&Hc(n,[Jt],r,!0))),he(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Qn(e){e.flags|=4}function Mu(e,n,r,o,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Pm())e.flags|=8192;else throw is=fo,Kc}else e.flags&=-16777217}function dm(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ng(n))if(Pm())e.flags|=8192;else throw is=fo,Kc}function _o(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Yh():536870912,e.lanes|=n,Ks|=n)}function Yr(e,n){if(!At)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function zt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function lE(e,n,r){var o=n.pendingProps;switch(Pc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(n),null;case 1:return zt(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),qn(Jt),Et(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(js(n)?Qn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$c())),zt(n),null;case 26:var u=n.type,d=n.memoizedState;return e===null?(Qn(n),d!==null?(zt(n),dm(n,d)):(zt(n),Mu(n,u,null,o,r))):d?d!==e.memoizedState?(Qn(n),zt(n),dm(n,d)):(zt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Qn(n),zt(n),Mu(n,u,e,o,r)),null;case 27:if(we(n),r=nt.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Qn(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return zt(n),null}e=K.current,js(n)?Yd(n):(e=Sg(u,o,r),n.stateNode=e,Qn(n))}return zt(n),null;case 5:if(we(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Qn(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return zt(n),null}if(d=K.current,js(n))Yd(n);else{var g=Ho(nt.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?g.createElement(u,{is:o.is}):g.createElement(u)}}d[ce]=n,d[be]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=d;t:switch(de(d,u,o),u){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Qn(n)}}return zt(n),Mu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Qn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=nt.current,js(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,u=ue,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}e[ce]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||cg(e.nodeValue,r)),e||gi(n,!0)}else e=Ho(e).createTextNode(o),e[ce]=n,n.stateNode=e}return zt(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=js(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ce]=n}else Wi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;zt(n),e=!1}else r=$c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?($e(n),n):($e(n),null);if((n.flags&128)!==0)throw Error(a(558))}return zt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=js(n),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(a(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[ce]=n}else Wi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;zt(n),u=!1}else u=$c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?($e(n),n):($e(n),null)}return $e(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),_o(n,n.updateQueue),zt(n),null);case 4:return Et(),e===null&&Ju(n.stateNode.containerInfo),zt(n),null;case 10:return qn(n.type),zt(n),null;case 19:if(D(Zt),o=n.memoizedState,o===null)return zt(n),null;if(u=(n.flags&128)!==0,d=o.rendering,d===null)if(u)Yr(o,!1);else{if(Yt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=go(e),d!==null){for(n.flags|=128,Yr(o,!1),e=d.updateQueue,n.updateQueue=e,_o(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)$d(r,e),r=r.sibling;return q(Zt,Zt.current&1|2),At&&Vn(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&je()>Io&&(n.flags|=128,u=!0,Yr(o,!1),n.lanes=4194304)}else{if(!u)if(e=go(d),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,_o(n,e),Yr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!At)return zt(n),null}else 2*je()-o.renderingStartTime>Io&&r!==536870912&&(n.flags|=128,u=!0,Yr(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(e=o.last,e!==null?e.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=je(),e.sibling=null,r=Zt.current,q(Zt,u?r&1|2:r&1),At&&Vn(n,o.treeForkCount),e):(zt(n),null);case 22:case 23:return $e(n),tu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(zt(n),n.subtreeFlags&6&&(n.flags|=8192)):zt(n),r=n.updateQueue,r!==null&&_o(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&D(es),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),qn(Jt),zt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function cE(e,n){switch(Pc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qn(Jt),Et(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return we(n),null;case 31:if(n.memoizedState!==null){if($e(n),n.alternate===null)throw Error(a(340));Wi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if($e(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Wi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return D(Zt),null;case 4:return Et(),null;case 10:return qn(n.type),null;case 22:case 23:return $e(n),tu(),e!==null&&D(es),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return qn(Jt),null;case 25:return null;default:return null}}function pm(e,n){switch(Pc(n),n.tag){case 3:qn(Jt),Et();break;case 26:case 27:case 5:we(n);break;case 4:Et();break;case 31:n.memoizedState!==null&&$e(n);break;case 13:$e(n);break;case 19:D(Zt);break;case 10:qn(n.type);break;case 22:case 23:$e(n),tu(),e!==null&&D(es);break;case 24:qn(Jt)}}function qr(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){o=void 0;var d=r.create,g=r.inst;o=d(),g.destroy=o}r=r.next}while(r!==u)}}catch(T){kt(n,n.return,T)}}function bi(e,n,r){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,u=n;var E=r,_=T;try{_()}catch(j){kt(u,E,j)}}}o=o.next}while(o!==d)}}catch(j){kt(n,n.return,j)}}function mm(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{rp(n,r)}catch(o){kt(e,e.return,o)}}}function gm(e,n,r){r.props=as(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){kt(e,n,o)}}function Kr(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(u){kt(e,n,u)}}function Mn(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(u){kt(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){kt(e,n,u)}else r.current=null}function ym(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(u){kt(e,e.return,u)}}function Lu(e,n,r){try{var o=e.stateNode;ME(o,e.type,r,n),o[be]=n}catch(u){kt(e,e.return,u)}}function vm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ki(e.type)||e.tag===4}function wu(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||vm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ki(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Iu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Fn));else if(o!==4&&(o===27&&ki(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Iu(e,n,r),e=e.sibling;e!==null;)Iu(e,n,r),e=e.sibling}function ko(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&ki(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ko(e,n,r),e=e.sibling;e!==null;)ko(e,n,r),e=e.sibling}function Tm(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);de(n,o,r),n[ce]=e,n[be]=r}catch(d){kt(e,e.return,d)}}var Wn=!1,ne=!1,ju=!1,Sm=typeof WeakSet=="function"?WeakSet:Set,le=null;function uE(e,n){if(e=e.containerInfo,nf=Qo,e=Ld(e),Nc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var u=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break t}var g=0,T=-1,E=-1,_=0,j=0,$=e,M=null;e:for(;;){for(var w;$!==r||u!==0&&$.nodeType!==3||(T=g+u),$!==d||o!==0&&$.nodeType!==3||(E=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(w=$.firstChild)!==null;)M=$,$=w;for(;;){if($===e)break e;if(M===r&&++_===u&&(T=g),M===d&&++j===o&&(E=g),(w=$.nextSibling)!==null)break;$=M,M=$.parentNode}$=w}r=T===-1||E===-1?null:{start:T,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(sf={focusedElem:e,selectionRange:r},Qo=!1,le=n;le!==null;)if(n=le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,le=e;else for(;le!==null;){switch(n=le,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)u=e[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=n,u=d.memoizedProps,d=d.memoizedState,o=r.stateNode;try{var Z=as(r.type,u);e=o.getSnapshotBeforeUpdate(Z,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(it){kt(r,r.return,it)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)of(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":of(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,le=e;break}le=n.return}}function Em(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ti(e,r),o&4&&qr(5,r);break;case 1:if(ti(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){kt(r,r.return,g)}else{var u=as(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){kt(r,r.return,g)}}o&64&&mm(r),o&512&&Kr(r,r.return);break;case 3:if(ti(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{rp(e,n)}catch(g){kt(r,r.return,g)}}break;case 27:n===null&&o&4&&Tm(r);case 26:case 5:ti(e,r),n===null&&o&4&&ym(r),o&512&&Kr(r,r.return);break;case 12:ti(e,r);break;case 31:ti(e,r),o&4&&xm(e,r);break;case 13:ti(e,r),o&4&&Om(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=TE.bind(null,r),PE(e,r))));break;case 22:if(o=r.memoizedState!==null||Wn,!o){n=n!==null&&n.memoizedState!==null||ne,u=Wn;var d=ne;Wn=o,(ne=n)&&!d?ei(e,r,(r.subtreeFlags&8772)!==0):ti(e,r),Wn=u,ne=d}break;case 30:break;default:ti(e,r)}}function Am(e){var n=e.alternate;n!==null&&(e.alternate=null,Am(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&fc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Bt=null,Oe=!1;function Jn(e,n,r){for(r=r.child;r!==null;)bm(e,n,r),r=r.sibling}function bm(e,n,r){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(vr,r)}catch{}switch(r.tag){case 26:ne||Mn(r,n),Jn(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ne||Mn(r,n);var o=Bt,u=Oe;ki(r.type)&&(Bt=r.stateNode,Oe=!1),Jn(e,n,r),ia(r.stateNode),Bt=o,Oe=u;break;case 5:ne||Mn(r,n);case 6:if(o=Bt,u=Oe,Bt=null,Jn(e,n,r),Bt=o,Oe=u,Bt!==null)if(Oe)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(r.stateNode)}catch(d){kt(r,n,d)}else try{Bt.removeChild(r.stateNode)}catch(d){kt(r,n,d)}break;case 18:Bt!==null&&(Oe?(e=Bt,mg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),nr(e)):mg(Bt,r.stateNode));break;case 4:o=Bt,u=Oe,Bt=r.stateNode.containerInfo,Oe=!0,Jn(e,n,r),Bt=o,Oe=u;break;case 0:case 11:case 14:case 15:bi(2,r,n),ne||bi(4,r,n),Jn(e,n,r);break;case 1:ne||(Mn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&gm(r,n,o)),Jn(e,n,r);break;case 21:Jn(e,n,r);break;case 22:ne=(o=ne)||r.memoizedState!==null,Jn(e,n,r),ne=o;break;default:Jn(e,n,r)}}function xm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{nr(e)}catch(r){kt(n,n.return,r)}}}function Om(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nr(e)}catch(r){kt(n,n.return,r)}}function fE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Sm),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Sm),n;default:throw Error(a(435,e.tag))}}function Mo(e,n){var r=fE(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var u=SE.bind(null,e,o);o.then(u,u)}})}function Re(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var u=r[o],d=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(ki(T.type)){Bt=T.stateNode,Oe=!1;break t}break;case 5:Bt=T.stateNode,Oe=!1;break t;case 3:case 4:Bt=T.stateNode.containerInfo,Oe=!0;break t}T=T.return}if(Bt===null)throw Error(a(160));bm(d,g,u),Bt=null,Oe=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Rm(n,e),n=n.sibling}var vn=null;function Rm(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Re(n,e),Ce(e),o&4&&(bi(3,e,e.return),qr(3,e),bi(5,e,e.return));break;case 1:Re(n,e),Ce(e),o&512&&(ne||r===null||Mn(r,r.return)),o&64&&Wn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var u=vn;if(Re(n,e),Ce(e),o&512&&(ne||r===null||Mn(r,r.return)),o&4){var d=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,u=u.ownerDocument||u;e:switch(o){case"title":d=u.getElementsByTagName("title")[0],(!d||d[Er]||d[ce]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(o),u.head.insertBefore(d,u.querySelector("head > title"))),de(d,o,r),d[ce]=e,oe(d),o=d;break t;case"link":var g=Rg("link","href",u).get(o+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(d=g[T],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break e}}d=u.createElement(o),de(d,o,r),u.head.appendChild(d);break;case"meta":if(g=Rg("meta","content",u).get(o+(r.content||""))){for(T=0;T<g.length;T++)if(d=g[T],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break e}}d=u.createElement(o),de(d,o,r),u.head.appendChild(d);break;default:throw Error(a(468,o))}d[ce]=e,oe(d),o=d}e.stateNode=o}else Cg(u,e.type,e.stateNode);else e.stateNode=Og(u,o,e.memoizedProps);else d!==o?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,o===null?Cg(u,e.type,e.stateNode):Og(u,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Lu(e,e.memoizedProps,r.memoizedProps)}break;case 27:Re(n,e),Ce(e),o&512&&(ne||r===null||Mn(r,r.return)),r!==null&&o&4&&Lu(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Re(n,e),Ce(e),o&512&&(ne||r===null||Mn(r,r.return)),e.flags&32){u=e.stateNode;try{Os(u,"")}catch(Z){kt(e,e.return,Z)}}o&4&&e.stateNode!=null&&(u=e.memoizedProps,Lu(e,u,r!==null?r.memoizedProps:u)),o&1024&&(ju=!0);break;case 6:if(Re(n,e),Ce(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(Z){kt(e,e.return,Z)}}break;case 3:if(qo=null,u=vn,vn=Vo(n.containerInfo),Re(n,e),vn=u,Ce(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{nr(n.containerInfo)}catch(Z){kt(e,e.return,Z)}ju&&(ju=!1,Cm(e));break;case 4:o=vn,vn=Vo(e.stateNode.containerInfo),Re(n,e),Ce(e),vn=o;break;case 12:Re(n,e),Ce(e);break;case 31:Re(n,e),Ce(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Mo(e,o)));break;case 13:Re(n,e),Ce(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(wo=je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Mo(e,o)));break;case 22:u=e.memoizedState!==null;var E=r!==null&&r.memoizedState!==null,_=Wn,j=ne;if(Wn=_||u,ne=j||E,Re(n,e),ne=j,Wn=_,Ce(e),o&8192)t:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||E||Wn||ne||os(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){E=r=n;try{if(d=E.stateNode,u)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=E.stateNode;var $=E.memoizedProps.style,M=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(Z){kt(E,E.return,Z)}}}else if(n.tag===6){if(r===null){E=n;try{E.stateNode.nodeValue=u?"":E.memoizedProps}catch(Z){kt(E,E.return,Z)}}}else if(n.tag===18){if(r===null){E=n;try{var w=E.stateNode;u?gg(w,!0):gg(E.stateNode,!1)}catch(Z){kt(E,E.return,Z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Mo(e,r))));break;case 19:Re(n,e),Ce(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Mo(e,o)));break;case 30:break;case 21:break;default:Re(n,e),Ce(e)}}function Ce(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(vm(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var u=r.stateNode,d=wu(e);ko(e,d,u);break;case 5:var g=r.stateNode;r.flags&32&&(Os(g,""),r.flags&=-33);var T=wu(e);ko(e,T,g);break;case 3:case 4:var E=r.stateNode.containerInfo,_=wu(e);Iu(e,_,E);break;default:throw Error(a(161))}}catch(j){kt(e,e.return,j)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Cm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Cm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ti(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Em(e,n.alternate,n),n=n.sibling}function os(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:bi(4,n,n.return),os(n);break;case 1:Mn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&gm(n,n.return,r),os(n);break;case 27:ia(n.stateNode);case 26:case 5:Mn(n,n.return),os(n);break;case 22:n.memoizedState===null&&os(n);break;case 30:os(n);break;default:os(n)}e=e.sibling}}function ei(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,u=e,d=n,g=d.flags;switch(d.tag){case 0:case 11:case 15:ei(u,d,r),qr(4,d);break;case 1:if(ei(u,d,r),o=d,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(_){kt(o,o.return,_)}if(o=d,u=o.updateQueue,u!==null){var T=o.stateNode;try{var E=u.shared.hiddenCallbacks;if(E!==null)for(u.shared.hiddenCallbacks=null,u=0;u<E.length;u++)sp(E[u],T)}catch(_){kt(o,o.return,_)}}r&&g&64&&mm(d),Kr(d,d.return);break;case 27:Tm(d);case 26:case 5:ei(u,d,r),r&&o===null&&g&4&&ym(d),Kr(d,d.return);break;case 12:ei(u,d,r);break;case 31:ei(u,d,r),r&&g&4&&xm(u,d);break;case 13:ei(u,d,r),r&&g&4&&Om(u,d);break;case 22:d.memoizedState===null&&ei(u,d,r),Kr(d,d.return);break;case 30:break;default:ei(u,d,r)}n=n.sibling}}function Uu(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ir(r))}function Du(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ir(e))}function Tn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Nm(e,n,r,o),n=n.sibling}function Nm(e,n,r,o){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Tn(e,n,r,o),u&2048&&qr(9,n);break;case 1:Tn(e,n,r,o);break;case 3:Tn(e,n,r,o),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ir(e)));break;case 12:if(u&2048){Tn(e,n,r,o),e=n.stateNode;try{var d=n.memoizedProps,g=d.id,T=d.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){kt(n,n.return,E)}}else Tn(e,n,r,o);break;case 31:Tn(e,n,r,o);break;case 13:Tn(e,n,r,o);break;case 23:break;case 22:d=n.stateNode,g=n.alternate,n.memoizedState!==null?d._visibility&2?Tn(e,n,r,o):Xr(e,n):d._visibility&2?Tn(e,n,r,o):(d._visibility|=2,Vs(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Uu(g,n);break;case 24:Tn(e,n,r,o),u&2048&&Du(n.alternate,n);break;default:Tn(e,n,r,o)}}function Vs(e,n,r,o,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,g=n,T=r,E=o,_=g.flags;switch(g.tag){case 0:case 11:case 15:Vs(d,g,T,E,u),qr(8,g);break;case 23:break;case 22:var j=g.stateNode;g.memoizedState!==null?j._visibility&2?Vs(d,g,T,E,u):Xr(d,g):(j._visibility|=2,Vs(d,g,T,E,u)),u&&_&2048&&Uu(g.alternate,g);break;case 24:Vs(d,g,T,E,u),u&&_&2048&&Du(g.alternate,g);break;default:Vs(d,g,T,E,u)}n=n.sibling}}function Xr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,u=o.flags;switch(o.tag){case 22:Xr(r,o),u&2048&&Uu(o.alternate,o);break;case 24:Xr(r,o),u&2048&&Du(o.alternate,o);break;default:Xr(r,o)}n=n.sibling}}var Zr=8192;function Ys(e,n,r){if(e.subtreeFlags&Zr)for(e=e.child;e!==null;)_m(e,n,r),e=e.sibling}function _m(e,n,r){switch(e.tag){case 26:Ys(e,n,r),e.flags&Zr&&e.memoizedState!==null&&QE(r,vn,e.memoizedState,e.memoizedProps);break;case 5:Ys(e,n,r);break;case 3:case 4:var o=vn;vn=Vo(e.stateNode.containerInfo),Ys(e,n,r),vn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Zr,Zr=16777216,Ys(e,n,r),Zr=o):Ys(e,n,r));break;default:Ys(e,n,r)}}function km(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Qr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];le=o,Lm(o,e)}km(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mm(e),e=e.sibling}function Mm(e){switch(e.tag){case 0:case 11:case 15:Qr(e),e.flags&2048&&bi(9,e,e.return);break;case 3:Qr(e);break;case 12:Qr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Lo(e)):Qr(e);break;default:Qr(e)}}function Lo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];le=o,Lm(o,e)}km(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:bi(8,n,n.return),Lo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Lo(n));break;default:Lo(n)}e=e.sibling}}function Lm(e,n){for(;le!==null;){var r=le;switch(r.tag){case 0:case 11:case 15:bi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ir(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,le=o;else t:for(r=e;le!==null;){o=le;var u=o.sibling,d=o.return;if(Am(o),o===r){le=null;break t}if(u!==null){u.return=d,le=u;break t}le=d}}}var hE={getCacheForType:function(e){var n=fe(Jt),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return fe(Jt).controller.signal}},dE=typeof WeakMap=="function"?WeakMap:Map,Nt=0,It=null,yt=null,Tt=0,_t=0,Fe=null,xi=!1,qs=!1,zu=!1,ni=0,Yt=0,Oi=0,ls=0,Pu=0,Ge=0,Ks=0,Wr=null,Ne=null,Bu=!1,wo=0,wm=0,Io=1/0,jo=null,Ri=null,ie=0,Ci=null,Xs=null,ii=0,$u=0,Fu=null,Im=null,Jr=0,Gu=null;function He(){return(Nt&2)!==0&&Tt!==0?Tt&-Tt:L.T!==null?Xu():Zh()}function jm(){if(Ge===0)if((Tt&536870912)===0||At){var e=Fa;Fa<<=1,(Fa&3932160)===0&&(Fa=262144),Ge=e}else Ge=536870912;return e=Be.current,e!==null&&(e.flags|=32),Ge}function _e(e,n,r){(e===It&&(_t===2||_t===9)||e.cancelPendingCommit!==null)&&(Zs(e,0),Ni(e,Tt,Ge,!1)),Sr(e,r),((Nt&2)===0||e!==It)&&(e===It&&((Nt&2)===0&&(ls|=r),Yt===4&&Ni(e,Tt,Ge,!1)),Ln(e))}function Um(e,n,r){if((Nt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Tr(e,n),u=o?gE(e,n):Vu(e,n,!0),d=o;do{if(u===0){qs&&!o&&Ni(e,n,0,!1);break}else{if(r=e.current.alternate,d&&!pE(r)){u=Vu(e,n,!1),d=!1;continue}if(u===2){if(d=n,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;u=Wr;var E=T.current.memoizedState.isDehydrated;if(E&&(Zs(T,g).flags|=256),g=Vu(T,g,!1),g!==2){if(zu&&!E){T.errorRecoveryDisabledLanes|=d,ls|=d,u=4;break t}d=Ne,Ne=u,d!==null&&(Ne===null?Ne=d:Ne.push.apply(Ne,d))}u=g}if(d=!1,u!==2)continue}}if(u===1){Zs(e,0),Ni(e,n,0,!0);break}t:{switch(o=e,d=u,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ni(o,n,Ge,!xi);break t;case 2:Ne=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(u=wo+300-je(),10<u)){if(Ni(o,n,Ge,!xi),Ha(o,0,!0)!==0)break t;ii=n,o.timeoutHandle=dg(Dm.bind(null,o,r,Ne,jo,Bu,n,Ge,ls,Ks,xi,d,"Throttled",-0,0),u);break t}Dm(o,r,Ne,jo,Bu,n,Ge,ls,Ks,xi,d,null,-0,0)}}break}while(!0);Ln(e)}function Dm(e,n,r,o,u,d,g,T,E,_,j,$,M,w){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},_m(n,d,$);var Z=(d&62914560)===d?wo-je():(d&4194048)===d?wm-je():0;if(Z=WE($,Z),Z!==null){ii=d,e.cancelPendingCommit=Z(Vm.bind(null,e,n,d,r,o,u,g,T,E,j,$,null,M,w)),Ni(e,d,g,!_);return}}Vm(e,n,d,r,o,u,g,T,E)}function pE(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var u=r[o],d=u.getSnapshot;u=u.value;try{if(!ze(d(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ni(e,n,r,o){n&=~Pu,n&=~ls,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var u=n;0<u;){var d=31-De(u),g=1<<d;o[d]=-1,u&=~g}r!==0&&qh(e,r,n)}function Uo(){return(Nt&6)===0?(ta(0),!1):!0}function Hu(){if(yt!==null){if(_t===0)var e=yt.return;else e=yt,Yn=Ji=null,au(e),Bs=null,Ur=0,e=yt;for(;e!==null;)pm(e.alternate,e),e=e.return;yt=null}}function Zs(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,IE(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ii=0,Hu(),It=e,yt=r=Hn(e.current,null),Tt=n,_t=0,Fe=null,xi=!1,qs=Tr(e,n),zu=!1,Ks=Ge=Pu=ls=Oi=Yt=0,Ne=Wr=null,Bu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var u=31-De(o),d=1<<u;n|=e[u],o&=~d}return ni=n,no(),r}function zm(e,n){dt=null,L.H=Hr,n===Ps||n===uo?(n=tp(),_t=3):n===Kc?(n=tp(),_t=4):_t=n===Au?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Fe=n,yt===null&&(Yt=1,Oo(e,en(n,e.current)))}function Pm(){var e=Be.current;return e===null?!0:(Tt&4194048)===Tt?an===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?e===an:!1}function Bm(){var e=L.H;return L.H=Hr,e===null?Hr:e}function $m(){var e=L.A;return L.A=hE,e}function Do(){Yt=4,xi||(Tt&4194048)!==Tt&&Be.current!==null||(qs=!0),(Oi&134217727)===0&&(ls&134217727)===0||It===null||Ni(It,Tt,Ge,!1)}function Vu(e,n,r){var o=Nt;Nt|=2;var u=Bm(),d=$m();(It!==e||Tt!==n)&&(jo=null,Zs(e,n)),n=!1;var g=Yt;t:do try{if(_t!==0&&yt!==null){var T=yt,E=Fe;switch(_t){case 8:Hu(),g=6;break t;case 3:case 2:case 9:case 6:Be.current===null&&(n=!0);var _=_t;if(_t=0,Fe=null,Qs(e,T,E,_),r&&qs){g=0;break t}break;default:_=_t,_t=0,Fe=null,Qs(e,T,E,_)}}mE(),g=Yt;break}catch(j){zm(e,j)}while(!0);return n&&e.shellSuspendCounter++,Yn=Ji=null,Nt=o,L.H=u,L.A=d,yt===null&&(It=null,Tt=0,no()),g}function mE(){for(;yt!==null;)Fm(yt)}function gE(e,n){var r=Nt;Nt|=2;var o=Bm(),u=$m();It!==e||Tt!==n?(jo=null,Io=je()+500,Zs(e,n)):qs=Tr(e,n);t:do try{if(_t!==0&&yt!==null){n=yt;var d=Fe;e:switch(_t){case 1:_t=0,Fe=null,Qs(e,n,d,1);break;case 2:case 9:if(Wd(d)){_t=0,Fe=null,Gm(n);break}n=function(){_t!==2&&_t!==9||It!==e||(_t=7),Ln(e)},d.then(n,n);break t;case 3:_t=7;break t;case 4:_t=5;break t;case 7:Wd(d)?(_t=0,Fe=null,Gm(n)):(_t=0,Fe=null,Qs(e,n,d,7));break;case 5:var g=null;switch(yt.tag){case 26:g=yt.memoizedState;case 5:case 27:var T=yt;if(g?Ng(g):T.stateNode.complete){_t=0,Fe=null;var E=T.sibling;if(E!==null)yt=E;else{var _=T.return;_!==null?(yt=_,zo(_)):yt=null}break e}}_t=0,Fe=null,Qs(e,n,d,5);break;case 6:_t=0,Fe=null,Qs(e,n,d,6);break;case 8:Hu(),Yt=6;break t;default:throw Error(a(462))}}yE();break}catch(j){zm(e,j)}while(!0);return Yn=Ji=null,L.H=o,L.A=u,Nt=r,yt!==null?0:(It=null,Tt=0,no(),Yt)}function yE(){for(;yt!==null&&!BT();)Fm(yt)}function Fm(e){var n=hm(e.alternate,e,ni);e.memoizedProps=e.pendingProps,n===null?zo(e):yt=n}function Gm(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=am(r,n,n.pendingProps,n.type,void 0,Tt);break;case 11:n=am(r,n,n.pendingProps,n.type.render,n.ref,Tt);break;case 5:au(n);default:pm(r,n),n=yt=$d(n,ni),n=hm(r,n,ni)}e.memoizedProps=e.pendingProps,n===null?zo(e):yt=n}function Qs(e,n,r,o){Yn=Ji=null,au(n),Bs=null,Ur=0;var u=n.return;try{if(rE(e,u,n,r,Tt)){Yt=1,Oo(e,en(r,e.current)),yt=null;return}}catch(d){if(u!==null)throw yt=u,d;Yt=1,Oo(e,en(r,e.current)),yt=null;return}n.flags&32768?(At||o===1?e=!0:qs||(Tt&536870912)!==0?e=!1:(xi=e=!0,(o===2||o===9||o===3||o===6)&&(o=Be.current,o!==null&&o.tag===13&&(o.flags|=16384))),Hm(n,e)):zo(n)}function zo(e){var n=e;do{if((n.flags&32768)!==0){Hm(n,xi);return}e=n.return;var r=lE(n.alternate,n,ni);if(r!==null){yt=r;return}if(n=n.sibling,n!==null){yt=n;return}yt=n=e}while(n!==null);Yt===0&&(Yt=5)}function Hm(e,n){do{var r=cE(e.alternate,e);if(r!==null){r.flags&=32767,yt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){yt=e;return}yt=e=r}while(e!==null);Yt=6,yt=null}function Vm(e,n,r,o,u,d,g,T,E){e.cancelPendingCommit=null;do Po();while(ie!==0);if((Nt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=wc,ZT(e,r,d,g,T,E),e===It&&(yt=It=null,Tt=0),Xs=n,Ci=e,ii=r,$u=d,Fu=u,Im=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,EE(Ba,function(){return Zm(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,u=Y.p,Y.p=2,g=Nt,Nt|=4;try{uE(e,n,r)}finally{Nt=g,Y.p=u,L.T=o}}ie=1,Ym(),qm(),Km()}}function Ym(){if(ie===1){ie=0;var e=Ci,n=Xs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=L.T,L.T=null;var o=Y.p;Y.p=2;var u=Nt;Nt|=4;try{Rm(n,e);var d=sf,g=Ld(e.containerInfo),T=d.focusedElem,E=d.selectionRange;if(g!==T&&T&&T.ownerDocument&&Md(T.ownerDocument.documentElement,T)){if(E!==null&&Nc(T)){var _=E.start,j=E.end;if(j===void 0&&(j=_),"selectionStart"in T)T.selectionStart=_,T.selectionEnd=Math.min(j,T.value.length);else{var $=T.ownerDocument||document,M=$&&$.defaultView||window;if(M.getSelection){var w=M.getSelection(),Z=T.textContent.length,it=Math.min(E.start,Z),wt=E.end===void 0?it:Math.min(E.end,Z);!w.extend&&it>wt&&(g=wt,wt=it,it=g);var R=kd(T,it),b=kd(T,wt);if(R&&b&&(w.rangeCount!==1||w.anchorNode!==R.node||w.anchorOffset!==R.offset||w.focusNode!==b.node||w.focusOffset!==b.offset)){var N=$.createRange();N.setStart(R.node,R.offset),w.removeAllRanges(),it>wt?(w.addRange(N),w.extend(b.node,b.offset)):(N.setEnd(b.node,b.offset),w.addRange(N))}}}}for($=[],w=T;w=w.parentNode;)w.nodeType===1&&$.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var z=$[T];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Qo=!!nf,sf=nf=null}finally{Nt=u,Y.p=o,L.T=r}}e.current=n,ie=2}}function qm(){if(ie===2){ie=0;var e=Ci,n=Xs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=L.T,L.T=null;var o=Y.p;Y.p=2;var u=Nt;Nt|=4;try{Em(e,n.alternate,n)}finally{Nt=u,Y.p=o,L.T=r}}ie=3}}function Km(){if(ie===4||ie===3){ie=0,$T();var e=Ci,n=Xs,r=ii,o=Im;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ie=5:(ie=0,Xs=Ci=null,Xm(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Ri=null),cc(r),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(vr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=L.T,u=Y.p,Y.p=2,L.T=null;try{for(var d=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];d(T.value,{componentStack:T.stack})}}finally{L.T=n,Y.p=u}}(ii&3)!==0&&Po(),Ln(e),u=e.pendingLanes,(r&261930)!==0&&(u&42)!==0?e===Gu?Jr++:(Jr=0,Gu=e):Jr=0,ta(0)}}function Xm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ir(n)))}function Po(){return Ym(),qm(),Km(),Zm()}function Zm(){if(ie!==5)return!1;var e=Ci,n=$u;$u=0;var r=cc(ii),o=L.T,u=Y.p;try{Y.p=32>r?32:r,L.T=null,r=Fu,Fu=null;var d=Ci,g=ii;if(ie=0,Xs=Ci=null,ii=0,(Nt&6)!==0)throw Error(a(331));var T=Nt;if(Nt|=4,Mm(d.current),Nm(d,d.current,g,r),Nt=T,ta(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(vr,d)}catch{}return!0}finally{Y.p=u,L.T=o,Xm(e,n)}}function Qm(e,n,r){n=en(r,n),n=Eu(e.stateNode,n,2),e=Si(e,n,2),e!==null&&(Sr(e,2),Ln(e))}function kt(e,n,r){if(e.tag===3)Qm(e,e,r);else for(;n!==null;){if(n.tag===3){Qm(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){e=en(r,e),r=Wp(2),o=Si(n,r,2),o!==null&&(Jp(r,o,n,e),Sr(o,2),Ln(o));break}}n=n.return}}function Yu(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new dE;var u=new Set;o.set(n,u)}else u=o.get(n),u===void 0&&(u=new Set,o.set(n,u));u.has(r)||(zu=!0,u.add(r),e=vE.bind(null,e,n,r),n.then(e,e))}function vE(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,It===e&&(Tt&r)===r&&(Yt===4||Yt===3&&(Tt&62914560)===Tt&&300>je()-wo?(Nt&2)===0&&Zs(e,0):Pu|=r,Ks===Tt&&(Ks=0)),Ln(e)}function Wm(e,n){n===0&&(n=Yh()),e=Zi(e,n),e!==null&&(Sr(e,n),Ln(e))}function TE(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Wm(e,r)}function SE(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Wm(e,r)}function EE(e,n){return rc(e,n)}var Bo=null,Ws=null,qu=!1,$o=!1,Ku=!1,_i=0;function Ln(e){e!==Ws&&e.next===null&&(Ws===null?Bo=Ws=e:Ws=Ws.next=e),$o=!0,qu||(qu=!0,bE())}function ta(e,n){if(!Ku&&$o){Ku=!0;do for(var r=!1,o=Bo;o!==null;){if(e!==0){var u=o.pendingLanes;if(u===0)var d=0;else{var g=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-De(42|e)+1)-1,d&=u&~(g&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,ng(o,d))}else d=Tt,d=Ha(o,o===It?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Tr(o,d)||(r=!0,ng(o,d));o=o.next}while(r);Ku=!1}}function AE(){Jm()}function Jm(){$o=qu=!1;var e=0;_i!==0&&wE()&&(e=_i);for(var n=je(),r=null,o=Bo;o!==null;){var u=o.next,d=tg(o,n);d===0?(o.next=null,r===null?Bo=u:r.next=u,u===null&&(Ws=r)):(r=o,(e!==0||(d&3)!==0)&&($o=!0)),o=u}ie!==0&&ie!==5||ta(e),_i!==0&&(_i=0)}function tg(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-De(d),T=1<<g,E=u[g];E===-1?((T&r)===0||(T&o)!==0)&&(u[g]=XT(T,n)):E<=n&&(e.expiredLanes|=T),d&=~T}if(n=It,r=Tt,r=Ha(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(_t===2||_t===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ac(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Tr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ac(o),cc(r)){case 2:case 8:r=Hh;break;case 32:r=Ba;break;case 268435456:r=Vh;break;default:r=Ba}return o=eg.bind(null,e),r=rc(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ac(o),e.callbackPriority=2,e.callbackNode=null,2}function eg(e,n){if(ie!==0&&ie!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Po()&&e.callbackNode!==r)return null;var o=Tt;return o=Ha(e,e===It?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Um(e,o,n),tg(e,je()),e.callbackNode!=null&&e.callbackNode===r?eg.bind(null,e):null)}function ng(e,n){if(Po())return null;Um(e,n,!0)}function bE(){jE(function(){(Nt&6)!==0?rc(Gh,AE):Jm()})}function Xu(){if(_i===0){var e=Ds;e===0&&(e=$a,$a<<=1,($a&261888)===0&&($a=256)),_i=e}return _i}function ig(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ka(""+e)}function sg(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function xE(e,n,r,o,u){if(n==="submit"&&r&&r.stateNode===u){var d=ig((u[be]||null).action),g=o.submitter;g&&(n=(n=g[be]||null)?ig(n.formAction):g.getAttribute("formAction"),n!==null&&(d=n,g=null));var T=new Wa("action","action",null,o,u);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(_i!==0){var E=g?sg(u,g):new FormData(u);mu(r,{pending:!0,data:E,method:u.method,action:d},null,E)}}else typeof d=="function"&&(T.preventDefault(),E=g?sg(u,g):new FormData(u),mu(r,{pending:!0,data:E,method:u.method,action:d},d,E))},currentTarget:u}]})}}for(var Zu=0;Zu<Lc.length;Zu++){var Qu=Lc[Zu],OE=Qu.toLowerCase(),RE=Qu[0].toUpperCase()+Qu.slice(1);yn(OE,"on"+RE)}yn(jd,"onAnimationEnd"),yn(Ud,"onAnimationIteration"),yn(Dd,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(FS,"onTransitionRun"),yn(GS,"onTransitionStart"),yn(HS,"onTransitionCancel"),yn(zd,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ea));function rg(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],u=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],E=T.instance,_=T.currentTarget;if(T=T.listener,E!==d&&u.isPropagationStopped())break t;d=T,u.currentTarget=_;try{d(u)}catch(j){eo(j)}u.currentTarget=null,d=E}else for(g=0;g<o.length;g++){if(T=o[g],E=T.instance,_=T.currentTarget,T=T.listener,E!==d&&u.isPropagationStopped())break t;d=T,u.currentTarget=_;try{d(u)}catch(j){eo(j)}u.currentTarget=null,d=E}}}}function vt(e,n){var r=n[uc];r===void 0&&(r=n[uc]=new Set);var o=e+"__bubble";r.has(o)||(ag(n,e,2,!1),r.add(o))}function Wu(e,n,r){var o=0;n&&(o|=4),ag(r,e,o,n)}var Fo="_reactListening"+Math.random().toString(36).slice(2);function Ju(e){if(!e[Fo]){e[Fo]=!0,Jh.forEach(function(r){r!=="selectionchange"&&(CE.has(r)||Wu(r,!1,e),Wu(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Fo]||(n[Fo]=!0,Wu("selectionchange",!1,n))}}function ag(e,n,r,o){switch(jg(n)){case 2:var u=eA;break;case 8:u=nA;break;default:u=mf}r=u.bind(null,n,r,e),u=void 0,!Tc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(n,r,{capture:!0,passive:u}):e.addEventListener(n,r,!0):u!==void 0?e.addEventListener(n,r,{passive:u}):e.addEventListener(n,r,!1)}function tf(e,n,r,o,u){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===u)break;if(g===4)for(g=o.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;T!==null;){if(g=Ss(T),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){o=d=g;continue t}T=T.parentNode}}o=o.return}fd(function(){var _=d,j=yc(r),$=[];t:{var M=Pd.get(e);if(M!==void 0){var w=Wa,Z=e;switch(e){case"keypress":if(Za(r)===0)break t;case"keydown":case"keyup":w=SS;break;case"focusin":Z="focus",w=bc;break;case"focusout":Z="blur",w=bc;break;case"beforeblur":case"afterblur":w=bc;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=lS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=bS;break;case jd:case Ud:case Dd:w=fS;break;case zd:w=OS;break;case"scroll":case"scrollend":w=aS;break;case"wheel":w=CS;break;case"copy":case"cut":case"paste":w=dS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=gd;break;case"toggle":case"beforetoggle":w=_S}var it=(n&4)!==0,wt=!it&&(e==="scroll"||e==="scrollend"),R=it?M!==null?M+"Capture":null:M;it=[];for(var b=_,N;b!==null;){var z=b;if(N=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||N===null||R===null||(z=br(b,R),z!=null&&it.push(na(b,z,N))),wt)break;b=b.return}0<it.length&&(M=new w(M,Z,null,r,j),$.push({event:M,listeners:it}))}}if((n&7)===0){t:{if(M=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",M&&r!==gc&&(Z=r.relatedTarget||r.fromElement)&&(Ss(Z)||Z[Ts]))break t;if((w||M)&&(M=j.window===j?j:(M=j.ownerDocument)?M.defaultView||M.parentWindow:window,w?(Z=r.relatedTarget||r.toElement,w=_,Z=Z?Ss(Z):null,Z!==null&&(wt=c(Z),it=Z.tag,Z!==wt||it!==5&&it!==27&&it!==6)&&(Z=null)):(w=null,Z=_),w!==Z)){if(it=pd,z="onMouseLeave",R="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(it=gd,z="onPointerLeave",R="onPointerEnter",b="pointer"),wt=w==null?M:Ar(w),N=Z==null?M:Ar(Z),M=new it(z,b+"leave",w,r,j),M.target=wt,M.relatedTarget=N,z=null,Ss(j)===_&&(it=new it(R,b+"enter",Z,r,j),it.target=N,it.relatedTarget=wt,z=it),wt=z,w&&Z)e:{for(it=NE,R=w,b=Z,N=0,z=R;z;z=it(z))N++;z=0;for(var et=b;et;et=it(et))z++;for(;0<N-z;)R=it(R),N--;for(;0<z-N;)b=it(b),z--;for(;N--;){if(R===b||b!==null&&R===b.alternate){it=R;break e}R=it(R),b=it(b)}it=null}else it=null;w!==null&&og($,M,w,it,!1),Z!==null&&wt!==null&&og($,wt,Z,it,!0)}}t:{if(M=_?Ar(_):window,w=M.nodeName&&M.nodeName.toLowerCase(),w==="select"||w==="input"&&M.type==="file")var Rt=xd;else if(Ad(M))if(Od)Rt=PS;else{Rt=DS;var Q=US}else w=M.nodeName,!w||w.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?_&&mc(_.elementType)&&(Rt=xd):Rt=zS;if(Rt&&(Rt=Rt(e,_))){bd($,Rt,r,j);break t}Q&&Q(e,M,_),e==="focusout"&&_&&M.type==="number"&&_.memoizedProps.value!=null&&pc(M,"number",M.value)}switch(Q=_?Ar(_):window,e){case"focusin":(Ad(Q)||Q.contentEditable==="true")&&(_s=Q,_c=_,Mr=null);break;case"focusout":Mr=_c=_s=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,wd($,r,j);break;case"selectionchange":if($S)break;case"keydown":case"keyup":wd($,r,j)}var pt;if(Oc)t:{switch(e){case"compositionstart":var St="onCompositionStart";break t;case"compositionend":St="onCompositionEnd";break t;case"compositionupdate":St="onCompositionUpdate";break t}St=void 0}else Ns?Sd(e,r)&&(St="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(St="onCompositionStart");St&&(yd&&r.locale!=="ko"&&(Ns||St!=="onCompositionStart"?St==="onCompositionEnd"&&Ns&&(pt=hd()):(di=j,Sc="value"in di?di.value:di.textContent,Ns=!0)),Q=Go(_,St),0<Q.length&&(St=new md(St,e,null,r,j),$.push({event:St,listeners:Q}),pt?St.data=pt:(pt=Ed(r),pt!==null&&(St.data=pt)))),(pt=MS?LS(e,r):wS(e,r))&&(St=Go(_,"onBeforeInput"),0<St.length&&(Q=new md("onBeforeInput","beforeinput",null,r,j),$.push({event:Q,listeners:St}),Q.data=pt)),xE($,e,_,r,j)}rg($,n)})}function na(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Go(e,n){for(var r=n+"Capture",o=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=br(e,r),u!=null&&o.unshift(na(e,u,d)),u=br(e,n),u!=null&&o.push(na(e,u,d))),e.tag===3)return o;e=e.return}return[]}function NE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function og(e,n,r,o,u){for(var d=n._reactName,g=[];r!==null&&r!==o;){var T=r,E=T.alternate,_=T.stateNode;if(T=T.tag,E!==null&&E===o)break;T!==5&&T!==26&&T!==27||_===null||(E=_,u?(_=br(r,d),_!=null&&g.unshift(na(r,_,E))):u||(_=br(r,d),_!=null&&g.push(na(r,_,E)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var _E=/\r\n?/g,kE=/\u0000|\uFFFD/g;function lg(e){return(typeof e=="string"?e:""+e).replace(_E,`
`).replace(kE,"")}function cg(e,n){return n=lg(n),lg(e)===n}function Lt(e,n,r,o,u,d){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Os(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Os(e,""+o);break;case"className":Ya(e,"class",o);break;case"tabIndex":Ya(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ya(e,r,o);break;case"style":cd(e,o,d);break;case"data":if(n!=="object"){Ya(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ka(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&Lt(e,n,"name",u.name,u,null),Lt(e,n,"formEncType",u.formEncType,u,null),Lt(e,n,"formMethod",u.formMethod,u,null),Lt(e,n,"formTarget",u.formTarget,u,null)):(Lt(e,n,"encType",u.encType,u,null),Lt(e,n,"method",u.method,u,null),Lt(e,n,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ka(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"onScroll":o!=null&&vt("scroll",e);break;case"onScrollEnd":o!=null&&vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Ka(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":vt("beforetoggle",e),vt("toggle",e),Va(e,"popover",o);break;case"xlinkActuate":$n(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":$n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":$n(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":$n(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":$n(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":$n(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":$n(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":$n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":$n(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Va(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=sS.get(r)||r,Va(e,r,o))}}function ef(e,n,r,o,u,d){switch(r){case"style":cd(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Os(e,o):(typeof o=="number"||typeof o=="bigint")&&Os(e,""+o);break;case"onScroll":o!=null&&vt("scroll",e);break;case"onScrollEnd":o!=null&&vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!td.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),d=e[be]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(n,d,u),typeof o=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,u);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Va(e,r,o)}}}function de(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",e),vt("load",e);var o=!1,u=!1,d;for(d in r)if(r.hasOwnProperty(d)){var g=r[d];if(g!=null)switch(d){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Lt(e,n,d,g,r,null)}}u&&Lt(e,n,"srcSet",r.srcSet,r,null),o&&Lt(e,n,"src",r.src,r,null);return;case"input":vt("invalid",e);var T=d=g=u=null,E=null,_=null;for(o in r)if(r.hasOwnProperty(o)){var j=r[o];if(j!=null)switch(o){case"name":u=j;break;case"type":g=j;break;case"checked":E=j;break;case"defaultChecked":_=j;break;case"value":d=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Lt(e,n,o,j,r,null)}}rd(e,d,T,E,_,g,u,!1);return;case"select":vt("invalid",e),o=g=d=null;for(u in r)if(r.hasOwnProperty(u)&&(T=r[u],T!=null))switch(u){case"value":d=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:Lt(e,n,u,T,r,null)}n=d,r=g,e.multiple=!!o,n!=null?xs(e,!!o,n,!1):r!=null&&xs(e,!!o,r,!0);return;case"textarea":vt("invalid",e),d=u=o=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":u=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Lt(e,n,g,T,r,null)}od(e,o,u,d);return;case"option":for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null)&&(E==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Lt(e,n,E,o,r,null));return;case"dialog":vt("beforetoggle",e),vt("toggle",e),vt("cancel",e),vt("close",e);break;case"iframe":case"object":vt("load",e);break;case"video":case"audio":for(o=0;o<ea.length;o++)vt(ea[o],e);break;case"image":vt("error",e),vt("load",e);break;case"details":vt("toggle",e);break;case"embed":case"source":case"link":vt("error",e),vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in r)if(r.hasOwnProperty(_)&&(o=r[_],o!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Lt(e,n,_,o,r,null)}return;default:if(mc(n)){for(j in r)r.hasOwnProperty(j)&&(o=r[j],o!==void 0&&ef(e,n,j,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&Lt(e,n,T,o,r,null))}function ME(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,g=null,T=null,E=null,_=null,j=null;for(w in r){var $=r[w];if(r.hasOwnProperty(w)&&$!=null)switch(w){case"checked":break;case"value":break;case"defaultValue":E=$;default:o.hasOwnProperty(w)||Lt(e,n,w,null,o,$)}}for(var M in o){var w=o[M];if($=r[M],o.hasOwnProperty(M)&&(w!=null||$!=null))switch(M){case"type":d=w;break;case"name":u=w;break;case"checked":_=w;break;case"defaultChecked":j=w;break;case"value":g=w;break;case"defaultValue":T=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(137,n));break;default:w!==$&&Lt(e,n,M,w,o,$)}}dc(e,g,T,E,_,j,d,u);return;case"select":w=g=T=M=null;for(d in r)if(E=r[d],r.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":w=E;default:o.hasOwnProperty(d)||Lt(e,n,d,null,o,E)}for(u in o)if(d=o[u],E=r[u],o.hasOwnProperty(u)&&(d!=null||E!=null))switch(u){case"value":M=d;break;case"defaultValue":T=d;break;case"multiple":g=d;default:d!==E&&Lt(e,n,u,d,o,E)}n=T,r=g,o=w,M!=null?xs(e,!!r,M,!1):!!o!=!!r&&(n!=null?xs(e,!!r,n,!0):xs(e,!!r,r?[]:"",!1));return;case"textarea":w=M=null;for(T in r)if(u=r[T],r.hasOwnProperty(T)&&u!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Lt(e,n,T,null,o,u)}for(g in o)if(u=o[g],d=r[g],o.hasOwnProperty(g)&&(u!=null||d!=null))switch(g){case"value":M=u;break;case"defaultValue":w=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==d&&Lt(e,n,g,u,o,d)}ad(e,M,w);return;case"option":for(var Z in r)M=r[Z],r.hasOwnProperty(Z)&&M!=null&&!o.hasOwnProperty(Z)&&(Z==="selected"?e.selected=!1:Lt(e,n,Z,null,o,M));for(E in o)M=o[E],w=r[E],o.hasOwnProperty(E)&&M!==w&&(M!=null||w!=null)&&(E==="selected"?e.selected=M&&typeof M!="function"&&typeof M!="symbol":Lt(e,n,E,M,o,w));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in r)M=r[it],r.hasOwnProperty(it)&&M!=null&&!o.hasOwnProperty(it)&&Lt(e,n,it,null,o,M);for(_ in o)if(M=o[_],w=r[_],o.hasOwnProperty(_)&&M!==w&&(M!=null||w!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(137,n));break;default:Lt(e,n,_,M,o,w)}return;default:if(mc(n)){for(var wt in r)M=r[wt],r.hasOwnProperty(wt)&&M!==void 0&&!o.hasOwnProperty(wt)&&ef(e,n,wt,void 0,o,M);for(j in o)M=o[j],w=r[j],!o.hasOwnProperty(j)||M===w||M===void 0&&w===void 0||ef(e,n,j,M,o,w);return}}for(var R in r)M=r[R],r.hasOwnProperty(R)&&M!=null&&!o.hasOwnProperty(R)&&Lt(e,n,R,null,o,M);for($ in o)M=o[$],w=r[$],!o.hasOwnProperty($)||M===w||M==null&&w==null||Lt(e,n,$,M,o,w)}function ug(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var u=r[o],d=u.transferSize,g=u.initiatorType,T=u.duration;if(d&&T&&ug(g)){for(g=0,T=u.responseEnd,o+=1;o<r.length;o++){var E=r[o],_=E.startTime;if(_>T)break;var j=E.transferSize,$=E.initiatorType;j&&ug($)&&(E=E.responseEnd,g+=j*(E<T?1:(T-_)/(E-_)))}if(--o,n+=8*(d+g)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nf=null,sf=null;function Ho(e){return e.nodeType===9?e:e.ownerDocument}function fg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var af=null;function wE(){var e=window.event;return e&&e.type==="popstate"?e===af?!1:(af=e,!0):(af=null,!1)}var dg=typeof setTimeout=="function"?setTimeout:void 0,IE=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,jE=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(e){return pg.resolve(null).then(e).catch(UE)}:dg;function UE(e){setTimeout(function(){throw e})}function ki(e){return e==="head"}function mg(e,n){var r=n,o=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(u),nr(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ia(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ia(r);for(var d=r.firstChild;d;){var g=d.nextSibling,T=d.nodeName;d[Er]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=g}}else r==="body"&&ia(e.ownerDocument.body);r=u}while(r);nr(n)}function gg(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function of(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":of(r),fc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function DE(e,n,r,o){for(;e.nodeType===1;){var u=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Er])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=on(e.nextSibling),e===null)break}return null}function zE(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=on(e.nextSibling),e===null))return null;return e}function yg(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=on(e.nextSibling),e===null))return null;return e}function lf(e){return e.data==="$?"||e.data==="$~"}function cf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function PE(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function on(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var uf=null;function vg(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return on(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Tg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Sg(e,n,r){switch(n=Ho(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ia(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);fc(e)}var ln=new Map,Eg=new Set;function Vo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var si=Y.d;Y.d={f:BE,r:$E,D:FE,C:GE,L:HE,m:VE,X:qE,S:YE,M:KE};function BE(){var e=si.f(),n=Uo();return e||n}function $E(e){var n=Es(e);n!==null&&n.tag===5&&n.type==="form"?zp(n):si.r(e)}var Js=typeof document>"u"?null:document;function Ag(e,n,r){var o=Js;if(o&&typeof n=="string"&&n){var u=Je(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),Eg.has(u)||(Eg.add(u),e={rel:e,crossOrigin:r,href:n},o.querySelector(u)===null&&(n=o.createElement("link"),de(n,"link",e),oe(n),o.head.appendChild(n)))}}function FE(e){si.D(e),Ag("dns-prefetch",e,null)}function GE(e,n){si.C(e,n),Ag("preconnect",e,n)}function HE(e,n,r){si.L(e,n,r);var o=Js;if(o&&e&&n){var u='link[rel="preload"][as="'+Je(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+Je(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+Je(r.imageSizes)+'"]')):u+='[href="'+Je(e)+'"]';var d=u;switch(n){case"style":d=tr(e);break;case"script":d=er(e)}ln.has(d)||(e=v({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),ln.set(d,e),o.querySelector(u)!==null||n==="style"&&o.querySelector(sa(d))||n==="script"&&o.querySelector(ra(d))||(n=o.createElement("link"),de(n,"link",e),oe(n),o.head.appendChild(n)))}}function VE(e,n){si.m(e,n);var r=Js;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Je(o)+'"][href="'+Je(e)+'"]',d=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=er(e)}if(!ln.has(d)&&(e=v({rel:"modulepreload",href:e},n),ln.set(d,e),r.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ra(d)))return}o=r.createElement("link"),de(o,"link",e),oe(o),r.head.appendChild(o)}}}function YE(e,n,r){si.S(e,n,r);var o=Js;if(o&&e){var u=As(o).hoistableStyles,d=tr(e);n=n||"default";var g=u.get(d);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(sa(d)))T.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},r),(r=ln.get(d))&&ff(e,r);var E=g=o.createElement("link");oe(E),de(E,"link",e),E._p=new Promise(function(_,j){E.onload=_,E.onerror=j}),E.addEventListener("load",function(){T.loading|=1}),E.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Yo(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},u.set(d,g)}}}function qE(e,n){si.X(e,n);var r=Js;if(r&&e){var o=As(r).hoistableScripts,u=er(e),d=o.get(u);d||(d=r.querySelector(ra(u)),d||(e=v({src:e,async:!0},n),(n=ln.get(u))&&hf(e,n),d=r.createElement("script"),oe(d),de(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(u,d))}}function KE(e,n){si.M(e,n);var r=Js;if(r&&e){var o=As(r).hoistableScripts,u=er(e),d=o.get(u);d||(d=r.querySelector(ra(u)),d||(e=v({src:e,async:!0,type:"module"},n),(n=ln.get(u))&&hf(e,n),d=r.createElement("script"),oe(d),de(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(u,d))}}function bg(e,n,r,o){var u=(u=nt.current)?Vo(u):null;if(!u)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=tr(r.href),r=As(u).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=tr(r.href);var d=As(u).hoistableStyles,g=d.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=u.querySelector(sa(e)))&&!d._p&&(g.instance=d,g.state.loading=5),ln.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ln.set(e,r),d||XE(u,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=er(r),r=As(u).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function tr(e){return'href="'+Je(e)+'"'}function sa(e){return'link[rel="stylesheet"]['+e+"]"}function xg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function XE(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),de(n,"link",r),oe(n),e.head.appendChild(n))}function er(e){return'[src="'+Je(e)+'"]'}function ra(e){return"script[async]"+e}function Og(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Je(r.href)+'"]');if(o)return n.instance=o,oe(o),o;var u=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),oe(o),de(o,"style",u),Yo(o,r.precedence,e),n.instance=o;case"stylesheet":u=tr(r.href);var d=e.querySelector(sa(u));if(d)return n.state.loading|=4,n.instance=d,oe(d),d;o=xg(r),(u=ln.get(u))&&ff(o,u),d=(e.ownerDocument||e).createElement("link"),oe(d);var g=d;return g._p=new Promise(function(T,E){g.onload=T,g.onerror=E}),de(d,"link",o),n.state.loading|=4,Yo(d,r.precedence,e),n.instance=d;case"script":return d=er(r.src),(u=e.querySelector(ra(d)))?(n.instance=u,oe(u),u):(o=r,(u=ln.get(d))&&(o=v({},r),hf(o,u)),e=e.ownerDocument||e,u=e.createElement("script"),oe(u),de(u,"link",o),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Yo(o,r.precedence,e));return n.instance}function Yo(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,d=u,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)d=T;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ff(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function hf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var qo=null;function Rg(e,n,r){if(qo===null){var o=new Map,u=qo=new Map;u.set(r,o)}else u=qo,o=u.get(r),o||(o=new Map,u.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),u=0;u<r.length;u++){var d=r[u];if(!(d[Er]||d[ce]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(d):o.set(g,[d])}}return o}function Cg(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function ZE(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ng(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function QE(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=tr(o.href),d=n.querySelector(sa(u));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ko.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=d,oe(d);return}d=n.ownerDocument||n,o=xg(o),(u=ln.get(u))&&ff(o,u),d=d.createElement("link"),oe(d);var g=d;g._p=new Promise(function(T,E){g.onload=T,g.onerror=E}),de(d,"link",o),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Ko.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var df=0;function WE(e,n){return e.stylesheets&&e.count===0&&Zo(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Zo(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&df===0&&(df=62500*LE());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zo(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>df?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(u)}}:null}function Ko(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xo=null;function Zo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xo=new Map,n.forEach(JE,e),Xo=null,Ko.call(e))}function JE(e,n){if(!(n.state.loading&4)){var r=Xo.get(e);if(r)var o=r.get(null);else{r=new Map,Xo.set(e,r);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var g=u[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}u=n.instance,g=u.getAttribute("data-precedence"),d=r.get(g)||o,d===o&&r.set(null,u),r.set(g,u),this.count++,o=Ko.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var aa={$$typeof:I,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function tA(e,n,r,o,u,d,g,T,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.hiddenUpdates=oc(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function _g(e,n,r,o,u,d,g,T,E,_,j,$){return e=new tA(e,n,r,g,E,_,j,$,T),n=1,d===!0&&(n|=24),d=Pe(3,null,null,n),e.current=d,d.stateNode=e,n=Vc(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:r,cache:n},Xc(d),e}function kg(e){return e?(e=Ls,e):Ls}function Mg(e,n,r,o,u,d){u=kg(u),o.context===null?o.context=u:o.pendingContext=u,o=Ti(n),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=Si(e,o,n),r!==null&&(_e(r,e,n),zr(r,e,n))}function Lg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function pf(e,n){Lg(e,n),(e=e.alternate)&&Lg(e,n)}function wg(e){if(e.tag===13||e.tag===31){var n=Zi(e,67108864);n!==null&&_e(n,e,67108864),pf(e,67108864)}}function Ig(e){if(e.tag===13||e.tag===31){var n=He();n=lc(n);var r=Zi(e,n);r!==null&&_e(r,e,n),pf(e,n)}}var Qo=!0;function eA(e,n,r,o){var u=L.T;L.T=null;var d=Y.p;try{Y.p=2,mf(e,n,r,o)}finally{Y.p=d,L.T=u}}function nA(e,n,r,o){var u=L.T;L.T=null;var d=Y.p;try{Y.p=8,mf(e,n,r,o)}finally{Y.p=d,L.T=u}}function mf(e,n,r,o){if(Qo){var u=gf(o);if(u===null)tf(e,n,o,Wo,r),Ug(e,o);else if(sA(u,e,n,r,o))o.stopPropagation();else if(Ug(e,o),n&4&&-1<iA.indexOf(e)){for(;u!==null;){var d=Es(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Vi(d.pendingLanes);if(g!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var E=1<<31-De(g);T.entanglements[1]|=E,g&=~E}Ln(d),(Nt&6)===0&&(Io=je()+500,ta(0))}}break;case 31:case 13:T=Zi(d,2),T!==null&&_e(T,d,2),Uo(),pf(d,2)}if(d=gf(o),d===null&&tf(e,n,o,Wo,r),d===u)break;u=d}u!==null&&o.stopPropagation()}else tf(e,n,o,null,r)}}function gf(e){return e=yc(e),yf(e)}var Wo=null;function yf(e){if(Wo=null,e=Ss(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=f(n),e!==null)return e;e=null}else if(r===31){if(e=h(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Wo=e,null}function jg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(FT()){case Gh:return 2;case Hh:return 8;case Ba:case GT:return 32;case Vh:return 268435456;default:return 32}default:return 32}}var vf=!1,Mi=null,Li=null,wi=null,oa=new Map,la=new Map,Ii=[],iA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ug(e,n){switch(e){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":oa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(n.pointerId)}}function ca(e,n,r,o,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:d,targetContainers:[u]},n!==null&&(n=Es(n),n!==null&&wg(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function sA(e,n,r,o,u){switch(n){case"focusin":return Mi=ca(Mi,e,n,r,o,u),!0;case"dragenter":return Li=ca(Li,e,n,r,o,u),!0;case"mouseover":return wi=ca(wi,e,n,r,o,u),!0;case"pointerover":var d=u.pointerId;return oa.set(d,ca(oa.get(d)||null,e,n,r,o,u)),!0;case"gotpointercapture":return d=u.pointerId,la.set(d,ca(la.get(d)||null,e,n,r,o,u)),!0}return!1}function Dg(e){var n=Ss(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){e.blockedOn=n,Qh(e.priority,function(){Ig(r)});return}}else if(n===31){if(n=h(r),n!==null){e.blockedOn=n,Qh(e.priority,function(){Ig(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=gf(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);gc=o,r.target.dispatchEvent(o),gc=null}else return n=Es(r),n!==null&&wg(n),e.blockedOn=r,!1;n.shift()}return!0}function zg(e,n,r){Jo(e)&&r.delete(n)}function rA(){vf=!1,Mi!==null&&Jo(Mi)&&(Mi=null),Li!==null&&Jo(Li)&&(Li=null),wi!==null&&Jo(wi)&&(wi=null),oa.forEach(zg),la.forEach(zg)}function tl(e,n){e.blockedOn===n&&(e.blockedOn=null,vf||(vf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,rA)))}var el=null;function Pg(e){el!==e&&(el=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){el===e&&(el=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],u=e[n+2];if(typeof o!="function"){if(yf(o||r)===null)continue;break}var d=Es(r);d!==null&&(e.splice(n,3),n-=3,mu(d,{pending:!0,data:u,method:r.method,action:o},o,u))}}))}function nr(e){function n(E){return tl(E,e)}Mi!==null&&tl(Mi,e),Li!==null&&tl(Li,e),wi!==null&&tl(wi,e),oa.forEach(n),la.forEach(n);for(var r=0;r<Ii.length;r++){var o=Ii[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ii.length&&(r=Ii[0],r.blockedOn===null);)Dg(r),r.blockedOn===null&&Ii.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var u=r[o],d=r[o+1],g=u[be]||null;if(typeof d=="function")g||Pg(r);else if(g){var T=null;if(d&&d.hasAttribute("formAction")){if(u=d,g=d[be]||null)T=g.formAction;else if(yf(u)!==null)continue}else T=g.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),Pg(r)}}}function Bg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function Tf(e){this._internalRoot=e}nl.prototype.render=Tf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=He();Mg(r,o,e,n,null,null)},nl.prototype.unmount=Tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Mg(e.current,2,null,e,null,null),Uo(),n[Ts]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zh();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ii.length&&n!==0&&n<Ii[r].priority;r++);Ii.splice(r,0,e),r===0&&Dg(e)}};var $g=t.version;if($g!=="19.2.4")throw Error(a(527,$g,"19.2.4"));Y.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var aA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{vr=il.inject(aA),Ue=il}catch{}}return fa.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",u=Kp,d=Xp,g=Zp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=_g(e,1,!1,null,null,r,o,null,u,d,g,Bg),e[Ts]=n.current,Ju(e),new Tf(n)},fa.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,u="",d=Kp,g=Xp,T=Zp,E=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(E=r.formState)),n=_g(e,1,!0,n,r??null,o,u,E,d,g,T,Bg),n.context=kg(null),r=n.current,o=He(),o=lc(o),u=Ti(o),u.callback=null,Si(r,u,o),r=o,n.current.lanes=r,Sr(n,r),Ln(n),e[Ts]=n.current,Ju(e),new nl(n)},fa.version="19.2.4",fa}var Qg;function yA(){if(Qg)return Af.exports;Qg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Af.exports=gA(),Af.exports}var vA=yA();const Wg=s=>{let t;const i=new Set,a=(m,y)=>{const v=typeof m=="function"?m(t):m;if(!Object.is(v,t)){const S=t;t=y??(typeof v!="object"||v===null)?v:Object.assign({},t,v),i.forEach(x=>x(t,S))}},l=()=>t,h={setState:a,getState:l,getInitialState:()=>p,subscribe:m=>(i.add(m),()=>i.delete(m))},p=t=s(a,l,h);return h},TA=(s=>s?Wg(s):Wg),SA=s=>s;function EA(s,t=SA){const i=Sn.useSyncExternalStore(s.subscribe,Sn.useCallback(()=>t(s.getState()),[s,t]),Sn.useCallback(()=>t(s.getInitialState()),[s,t]));return Sn.useDebugValue(i),i}const Jg=s=>{const t=TA(s),i=a=>EA(t,a);return Object.assign(i,t),i},AA=(s=>s?Jg(s):Jg),bA=`@meta {
  id: "skills-example"
  syntax: "1.0.0"
}

@identity {
  """
  You are a development assistant with custom skills and commands.
  You help developers write better code through reviews and testing.
  """
}

@context {
  languages: ["TypeScript", "JavaScript"]
  runtime: "Node.js 20+"
  frameworks: ["React", "Vite"]
}

@skills {
  review: {
    description: "Review code for bugs and improvements"
    content: """
    When reviewing code:
    1. Check for potential bugs and edge cases
    2. Suggest performance improvements
    3. Verify error handling is complete
    4. Check for security vulnerabilities
    """
  }
  test: {
    description: "Run tests and analyze coverage"
    content: """
    When running tests:
    1. Execute the test suite with coverage
    2. Report failures clearly with context
    3. Suggest missing test cases
    4. Verify edge cases are covered
    """
  }
  refactor: {
    description: "Refactor code for better maintainability"
    content: """
    When refactoring:
    1. Identify code smells and duplication
    2. Apply SOLID principles
    3. Improve naming and readability
    4. Ensure tests still pass
    """
  }
}

@shortcuts {
  "/review": "Run the review skill on current file"
  "/test": "Run the test skill"
  "/refactor": "Refactor the selected code"
  "/docs": "Generate documentation for current file"
}

@standards {
  code: {
    languages: ["TypeScript"]
    testing: ["Vitest", "Testing Library"]
  }
  git: {
    format: "Conventional Commits"
    types: ["feat", "fix", "docs", "refactor", "test"]
  }
}

@restrictions {
  - "Always explain your reasoning before making changes"
  - "Ask for clarification when requirements are unclear"
  - "Never skip writing tests for new functionality"
}
`,xA={targets:{github:{enabled:!0,version:"full"},claude:{enabled:!0,version:"full"},cursor:{enabled:!0,version:"standard"},antigravity:{enabled:!0,version:"frontmatter"}},formatting:{tabWidth:2,proseWrap:"preserve",printWidth:80},envVars:{}},st=AA(s=>({files:[{path:"project.prs",content:bA}],activeFile:"project.prs",isCompiling:!1,compileResult:null,lastCompileTime:null,config:xA,activeFormatter:"github",showErrors:!1,showExamples:!1,showConfig:!1,showEnvVars:!1,setActiveFile:t=>s({activeFile:t}),updateFile:(t,i)=>s(a=>({files:a.files.map(l=>l.path===t?{...l,content:i}:l)})),addFile:(t,i)=>s(a=>({files:[...a.files,{path:t,content:i}],activeFile:t})),deleteFile:t=>s(i=>{const a=i.files.filter(c=>c.path!==t),l=i.activeFile===t?a[0]?.path??"project.prs":i.activeFile;return{files:a,activeFile:l}}),renameFile:(t,i)=>s(a=>({files:a.files.map(l=>l.path===t?{...l,path:i}:l),activeFile:a.activeFile===t?i:a.activeFile})),setFiles:t=>s({files:t,activeFile:t[0]?.path??"project.prs"}),setCompiling:t=>s({isCompiling:t}),setCompileResult:t=>s({compileResult:t,lastCompileTime:Date.now(),showErrors:t!==null&&!t.success}),setTargetEnabled:(t,i)=>s(a=>({config:{...a.config,targets:{...a.config.targets,[t]:{...a.config.targets[t],enabled:i}}}})),setTargetVersion:(t,i)=>s(a=>({config:{...a.config,targets:{...a.config.targets,[t]:{...a.config.targets[t],version:i}}}})),setTargetConvention:(t,i)=>s(a=>({config:{...a.config,targets:{...a.config.targets,[t]:{...a.config.targets[t],convention:i}}}})),setFormatting:t=>s(i=>({config:{...i.config,formatting:{...i.config.formatting,...t}}})),setConfig:t=>s({config:t}),setEnvVar:(t,i)=>s(a=>({config:{...a.config,envVars:{...a.config.envVars,[t]:i}}})),deleteEnvVar:t=>s(i=>{const{[t]:a,...l}=i.config.envVars;return{config:{...i.config,envVars:l}}}),setEnvVars:t=>s(i=>({config:{...i.config,envVars:t}})),setActiveFormatter:t=>s({activeFormatter:t}),setShowErrors:t=>s({showErrors:t}),setShowExamples:t=>s({showExamples:t}),setShowConfig:t=>s({showConfig:t}),setShowEnvVars:t=>s({showEnvVars:t})})),OA=s=>s.files.find(t=>t.path===s.activeFile)?.content??"",RA=s=>{const t={};for(const i of s.files)t[i.path]=i.content;return t},CA=(s,t)=>{if(!s.compileResult?.outputs)return[];const i=s.compileResult.outputs,a=[],c={claude:[/CLAUDE\.md$/,/\.claude\/rules\/.*\.md$/,/\.claude\/skills\/.*\.md$/,/\.claude\/memories\/.*\.md$/],github:[/\.github\/copilot-instructions\.md$/,/copilot-instructions\.md$/,/\.github\/instructions\/.*\.instructions\.md$/,/\.github\/prompts\/.*\.prompt\.md$/,/\.github\/skills\/.*\/SKILL\.md$/,/\.github\/agents\/.*\.md$/,/^AGENTS\.md$/],cursor:[/\.cursor\/rules\/.*\.mdc$/,/\.cursorrules$/],antigravity:[/\.agent\/rules\/.*\.md$/,/\.agent\/workflows\/.*\.md$/]}[t];for(const[p,m]of i)c.some(y=>y.test(p))&&a.push(m);const h={claude:"CLAUDE.md",github:"copilot-instructions.md",cursor:"instructions.mdc",antigravity:"project.md"}[t];return a.sort((p,m)=>{const y=p.path.endsWith(h),v=m.path.endsWith(h);return y&&!v?-1:!y&&v?1:p.path.localeCompare(m.path)}),a},NA=s=>Object.entries(s.config.targets).filter(([,t])=>t.enabled).map(([t])=>t);var Rf={exports:{}},ty;function _A(){return ty||(ty=1,(function(s){var t=(function(){var i=String.fromCharCode,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",c={};function f(p,m){if(!c[p]){c[p]={};for(var y=0;y<p.length;y++)c[p][p.charAt(y)]=y}return c[p][m]}var h={compressToBase64:function(p){if(p==null)return"";var m=h._compress(p,6,function(y){return a.charAt(y)});switch(m.length%4){default:case 0:return m;case 1:return m+"===";case 2:return m+"==";case 3:return m+"="}},decompressFromBase64:function(p){return p==null?"":p==""?null:h._decompress(p.length,32,function(m){return f(a,p.charAt(m))})},compressToUTF16:function(p){return p==null?"":h._compress(p,15,function(m){return i(m+32)})+" "},decompressFromUTF16:function(p){return p==null?"":p==""?null:h._decompress(p.length,16384,function(m){return p.charCodeAt(m)-32})},compressToUint8Array:function(p){for(var m=h.compress(p),y=new Uint8Array(m.length*2),v=0,S=m.length;v<S;v++){var x=m.charCodeAt(v);y[v*2]=x>>>8,y[v*2+1]=x%256}return y},decompressFromUint8Array:function(p){if(p==null)return h.decompress(p);for(var m=new Array(p.length/2),y=0,v=m.length;y<v;y++)m[y]=p[y*2]*256+p[y*2+1];var S=[];return m.forEach(function(x){S.push(i(x))}),h.decompress(S.join(""))},compressToEncodedURIComponent:function(p){return p==null?"":h._compress(p,6,function(m){return l.charAt(m)})},decompressFromEncodedURIComponent:function(p){return p==null?"":p==""?null:(p=p.replace(/ /g,"+"),h._decompress(p.length,32,function(m){return f(l,p.charAt(m))}))},compress:function(p){return h._compress(p,16,function(m){return i(m)})},_compress:function(p,m,y){if(p==null)return"";var v,S,x={},C={},k="",H="",P="",U=2,I=3,F=2,V=[],B=0,G=0,X;for(X=0;X<p.length;X+=1)if(k=p.charAt(X),Object.prototype.hasOwnProperty.call(x,k)||(x[k]=I++,C[k]=!0),H=P+k,Object.prototype.hasOwnProperty.call(x,H))P=H;else{if(Object.prototype.hasOwnProperty.call(C,P)){if(P.charCodeAt(0)<256){for(v=0;v<F;v++)B=B<<1,G==m-1?(G=0,V.push(y(B)),B=0):G++;for(S=P.charCodeAt(0),v=0;v<8;v++)B=B<<1|S&1,G==m-1?(G=0,V.push(y(B)),B=0):G++,S=S>>1}else{for(S=1,v=0;v<F;v++)B=B<<1|S,G==m-1?(G=0,V.push(y(B)),B=0):G++,S=0;for(S=P.charCodeAt(0),v=0;v<16;v++)B=B<<1|S&1,G==m-1?(G=0,V.push(y(B)),B=0):G++,S=S>>1}U--,U==0&&(U=Math.pow(2,F),F++),delete C[P]}else for(S=x[P],v=0;v<F;v++)B=B<<1|S&1,G==m-1?(G=0,V.push(y(B)),B=0):G++,S=S>>1;U--,U==0&&(U=Math.pow(2,F),F++),x[H]=I++,P=String(k)}if(P!==""){if(Object.prototype.hasOwnProperty.call(C,P)){if(P.charCodeAt(0)<256){for(v=0;v<F;v++)B=B<<1,G==m-1?(G=0,V.push(y(B)),B=0):G++;for(S=P.charCodeAt(0),v=0;v<8;v++)B=B<<1|S&1,G==m-1?(G=0,V.push(y(B)),B=0):G++,S=S>>1}else{for(S=1,v=0;v<F;v++)B=B<<1|S,G==m-1?(G=0,V.push(y(B)),B=0):G++,S=0;for(S=P.charCodeAt(0),v=0;v<16;v++)B=B<<1|S&1,G==m-1?(G=0,V.push(y(B)),B=0):G++,S=S>>1}U--,U==0&&(U=Math.pow(2,F),F++),delete C[P]}else for(S=x[P],v=0;v<F;v++)B=B<<1|S&1,G==m-1?(G=0,V.push(y(B)),B=0):G++,S=S>>1;U--,U==0&&(U=Math.pow(2,F),F++)}for(S=2,v=0;v<F;v++)B=B<<1|S&1,G==m-1?(G=0,V.push(y(B)),B=0):G++,S=S>>1;for(;;)if(B=B<<1,G==m-1){V.push(y(B));break}else G++;return V.join("")},decompress:function(p){return p==null?"":p==""?null:h._decompress(p.length,32768,function(m){return p.charCodeAt(m)})},_decompress:function(p,m,y){var v=[],S=4,x=4,C=3,k="",H=[],P,U,I,F,V,B,G,X={val:y(0),position:m,index:1};for(P=0;P<3;P+=1)v[P]=P;for(I=0,V=Math.pow(2,2),B=1;B!=V;)F=X.val&X.position,X.position>>=1,X.position==0&&(X.position=m,X.val=y(X.index++)),I|=(F>0?1:0)*B,B<<=1;switch(I){case 0:for(I=0,V=Math.pow(2,8),B=1;B!=V;)F=X.val&X.position,X.position>>=1,X.position==0&&(X.position=m,X.val=y(X.index++)),I|=(F>0?1:0)*B,B<<=1;G=i(I);break;case 1:for(I=0,V=Math.pow(2,16),B=1;B!=V;)F=X.val&X.position,X.position>>=1,X.position==0&&(X.position=m,X.val=y(X.index++)),I|=(F>0?1:0)*B,B<<=1;G=i(I);break;case 2:return""}for(v[3]=G,U=G,H.push(G);;){if(X.index>p)return"";for(I=0,V=Math.pow(2,C),B=1;B!=V;)F=X.val&X.position,X.position>>=1,X.position==0&&(X.position=m,X.val=y(X.index++)),I|=(F>0?1:0)*B,B<<=1;switch(G=I){case 0:for(I=0,V=Math.pow(2,8),B=1;B!=V;)F=X.val&X.position,X.position>>=1,X.position==0&&(X.position=m,X.val=y(X.index++)),I|=(F>0?1:0)*B,B<<=1;v[x++]=i(I),G=x-1,S--;break;case 1:for(I=0,V=Math.pow(2,16),B=1;B!=V;)F=X.val&X.position,X.position>>=1,X.position==0&&(X.position=m,X.val=y(X.index++)),I|=(F>0?1:0)*B,B<<=1;v[x++]=i(I),G=x-1,S--;break;case 2:return H.join("")}if(S==0&&(S=Math.pow(2,C),C++),v[G])k=v[G];else if(G===x)k=U+U.charAt(0);else return null;H.push(k),v[x++]=U+k.charAt(0),S--,U=k,S==0&&(S=Math.pow(2,C),C++)}}};return h})();s!=null?s.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(Rf)),Rf.exports}var kA=_A();const $v=Bv(kA),MA="1",zi={targets:{github:{enabled:!0,version:"full"},claude:{enabled:!0,version:"full"},cursor:{enabled:!0,version:"standard"},antigravity:{enabled:!0,version:"frontmatter"}},formatting:{tabWidth:2,proseWrap:"preserve",printWidth:80},envVars:{}};function LA(s){const t={},i={};for(const[l,c]of Object.entries(s.targets)){const f=zi.targets[l],h={};c.enabled!==f.enabled&&(h.enabled=c.enabled),c.version!==f.version&&(h.version=c.version),c.convention!==f.convention&&(h.convention=c.convention),Object.keys(h).length>0&&(i[l]=h)}Object.keys(i).length>0&&(t.targets=i);const a={};return s.formatting.tabWidth!==zi.formatting.tabWidth&&(a.tabWidth=s.formatting.tabWidth),s.formatting.proseWrap!==zi.formatting.proseWrap&&(a.proseWrap=s.formatting.proseWrap),s.formatting.printWidth!==zi.formatting.printWidth&&(a.printWidth=s.formatting.printWidth),Object.keys(a).length>0&&(t.formatting=a),s.envVars&&Object.keys(s.envVars).length>0&&(t.envVars=s.envVars),Object.keys(t).length>0?t:void 0}function wA(s){if(!s)return{...zi};const t={targets:{...zi.targets},formatting:{...zi.formatting},envVars:{...zi.envVars}};if(s.targets)for(const[i,a]of Object.entries(s.targets))t.targets[i]={...t.targets[i],...a};return s.formatting&&(t.formatting={...t.formatting,...s.formatting}),s.envVars&&(t.envVars={...s.envVars}),t}function Fv(s,t,i,a){const l={files:s.map(h=>({path:h.path,content:h.content})),entry:s[0]?.path,formatter:t,config:a?LA(a):void 0,version:MA},c=JSON.stringify(l);return $v.compressToEncodedURIComponent(c)}function IA(s){try{const t=$v.decompressFromEncodedURIComponent(s);if(!t)return null;const i=JSON.parse(t);if(!i.files||!Array.isArray(i.files))return null;for(const a of i.files)if(typeof a.path!="string"||typeof a.content!="string")return null;return i}catch{return null}}function jA(s,t,i,a){const l=Fv(s,t,i,a),c=new URL(window.location.href);return c.searchParams.set("s",l),t&&c.searchParams.set("f",t),c.toString()}function UA(){const s=new URL(window.location.href),t=s.searchParams.get("s");if(!t)return null;const i=IA(t);if(!i)return null;const a=s.searchParams.get("f");return a&&(i.formatter=a),i}function DA(){return new URL(window.location.href).searchParams.get("e")}function zA(s,t,i,a){const l=Fv(s,t,i,a),c=new URL(window.location.href);c.searchParams.set("s",l),t&&c.searchParams.set("f",t),c.searchParams.delete("e"),window.history.replaceState(null,"",c.toString())}async function PA(s,t,i,a){try{const l=jA(s,t,i,a);return await navigator.clipboard.writeText(l),!0}catch{return!1}}function BA(){const s=st(m=>m.files),t=st(m=>m.activeFormatter),i=st(m=>m.config),a=st(m=>m.setFiles),l=st(m=>m.setActiveFormatter),c=st(m=>m.setConfig),f=W.useRef(!1),h=W.useRef(null);return W.useEffect(()=>{if(f.current||(f.current=!0,DA()))return;const y=UA();y&&(a(y.files),y.formatter&&l(y.formatter),y.config&&c(wA(y.config)))},[a,l,c]),W.useEffect(()=>{if(f.current)return h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{zA(s,t,void 0,i)},1e3),()=>{h.current&&clearTimeout(h.current)}},[s,t,i]),{handleShare:W.useCallback(async()=>await PA(s,t,void 0,i),[s,t,i])}}const $A="1.0.0-rc.3",FA="https://github.com/mrwogu/promptscript";function GA(){const s=st(k=>k.isCompiling),t=st(k=>k.compileResult),i=st(k=>k.showExamples),a=st(k=>k.setShowExamples),l=st(k=>k.showConfig),c=st(k=>k.setShowConfig),f=st(k=>k.showEnvVars),h=st(k=>k.setShowEnvVars),p=Object.keys(st(k=>k.config.envVars)).length,{handleShare:m}=BA(),[y,v]=W.useState(!1),S=t&&!t.success,x=t?.stats,C=async()=>{await m()&&(v(!0),setTimeout(()=>v(!1),2e3))};return O.jsxs("header",{className:"flex items-center justify-between px-4 py-2 bg-ps-surface border-b border-ps-border",children:[O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsxs("h1",{className:"text-lg font-semibold flex items-center gap-2",children:[O.jsx("span",{className:"text-ps-primary",children:"PRS"}),O.jsx("span",{children:"PromptScript Playground"})]}),O.jsxs("span",{className:"text-xs text-gray-500",children:["v",$A]})]}),O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsx("div",{className:"flex items-center gap-2 text-sm",children:s?O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),O.jsx("span",{className:"text-gray-400",children:"Compiling..."})]}):S?O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),O.jsxs("span",{className:"text-red-400",children:[t.errors.length," error",t.errors.length!==1?"s":""]})]}):t?O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),O.jsxs("span",{className:"text-green-400",children:["Compiled in ",x?.totalTime,"ms"]})]}):null}),O.jsxs("button",{onClick:()=>c(!l),className:`px-3 py-1 text-sm rounded flex items-center gap-1 ${l?"bg-ps-primary text-white":"bg-ps-bg hover:bg-ps-surface text-gray-300"}`,title:"Configuration",children:[O.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Config"]}),O.jsxs("button",{onClick:()=>h(!f),className:`px-3 py-1 text-sm rounded flex items-center gap-1 ${f?"bg-ps-primary text-white":"bg-ps-bg hover:bg-ps-surface text-gray-300"}`,title:"Environment Variables",children:[O.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Env",p>0&&O.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-indigo-500 rounded-full",children:p})]}),O.jsx("button",{onClick:()=>a(!i),className:`px-3 py-1 text-sm rounded ${i?"bg-ps-primary text-white":"bg-ps-bg hover:bg-ps-surface text-gray-300"}`,children:"Examples"}),O.jsx("button",{onClick:C,className:"px-3 py-1 text-sm bg-ps-primary hover:bg-ps-secondary rounded text-white relative",children:y?"Copied!":"Share"}),O.jsx("a",{href:FA,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white",children:O.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0012 2z",clipRule:"evenodd"})})})]})]})}function HA(){const s=st(x=>x.files),t=st(x=>x.activeFile),i=st(x=>x.setActiveFile),a=st(x=>x.addFile),l=st(x=>x.deleteFile),c=st(x=>x.renameFile),[f,h]=W.useState(null),[p,m]=W.useState(""),y=()=>{const x="new-file";let C=`${x}.prs`,k=1;for(;s.some(H=>H.path===C);)C=`${x}-${k}.prs`,k++;a(C,`@meta {
  id: "`+C.replace(".prs","")+`"
  syntax: "1.0.0"
}
`)},v=x=>{h(x),m(x)},S=x=>{if(p&&p!==x){const C=p.endsWith(".prs")?p:`${p}.prs`;s.some(k=>k.path===C)||c(x,C)}h(null)};return O.jsxs("div",{className:"flex items-center bg-ps-bg border-b border-ps-border overflow-x-auto",children:[s.map(x=>O.jsx("div",{className:`group flex items-center px-3 py-2 text-sm cursor-pointer border-r border-ps-border ${t===x.path?"bg-ps-surface text-white":"text-gray-400 hover:bg-ps-surface/50"}`,onClick:()=>i(x.path),onDoubleClick:()=>v(x.path),children:f===x.path?O.jsx("input",{type:"text",value:p,onChange:C=>m(C.target.value),onBlur:()=>S(x.path),onKeyDown:C=>{C.key==="Enter"&&S(x.path),C.key==="Escape"&&h(null)},className:"bg-transparent border-b border-ps-primary outline-none w-24",autoFocus:!0,onClick:C=>C.stopPropagation()}):O.jsxs(O.Fragment,{children:[O.jsx("span",{className:"truncate max-w-[120px]",children:x.path}),s.length>1&&O.jsx("button",{onClick:C=>{C.stopPropagation(),l(x.path)},className:"ml-2 opacity-0 group-hover:opacity-100 text-gray-500 hover:text-red-400",children:""})]})},x.path)),O.jsx("button",{onClick:y,className:"px-3 py-2 text-gray-500 hover:text-white hover:bg-ps-surface/50",title:"Add new file",children:"+"})]})}function ey(s,t){(t==null||t>s.length)&&(t=s.length);for(var i=0,a=Array(t);i<t;i++)a[i]=s[i];return a}function VA(s){if(Array.isArray(s))return s}function YA(s,t,i){return(t=JA(t))in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}function qA(s,t){var i=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(i!=null){var a,l,c,f,h=[],p=!0,m=!1;try{if(c=(i=i.call(s)).next,t!==0)for(;!(p=(a=c.call(i)).done)&&(h.push(a.value),h.length!==t);p=!0);}catch(y){m=!0,l=y}finally{try{if(!p&&i.return!=null&&(f=i.return(),Object(f)!==f))return}finally{if(m)throw l}}return h}}function KA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ny(s,t){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,a)}return i}function iy(s){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ny(Object(i),!0).forEach(function(a){YA(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):ny(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}function XA(s,t){if(s==null)return{};var i,a,l=ZA(s,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(a=0;a<c.length;a++)i=c[a],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(s,i)&&(l[i]=s[i])}return l}function ZA(s,t){if(s==null)return{};var i={};for(var a in s)if({}.hasOwnProperty.call(s,a)){if(t.indexOf(a)!==-1)continue;i[a]=s[a]}return i}function QA(s,t){return VA(s)||qA(s,t)||tb(s,t)||KA()}function WA(s,t){if(typeof s!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function JA(s){var t=WA(s,"string");return typeof t=="symbol"?t:t+""}function tb(s,t){if(s){if(typeof s=="string")return ey(s,t);var i={}.toString.call(s).slice(8,-1);return i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set"?Array.from(s):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ey(s,t):void 0}}function eb(s,t,i){return t in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}function sy(s,t){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,a)}return i}function ry(s){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?sy(Object(i),!0).forEach(function(a){eb(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):sy(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}function nb(){for(var s=arguments.length,t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];return function(a){return t.reduceRight(function(l,c){return c(l)},a)}}function ya(s){return function t(){for(var i=this,a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return l.length>=s.length?s.apply(this,l):function(){for(var f=arguments.length,h=new Array(f),p=0;p<f;p++)h[p]=arguments[p];return t.apply(i,[].concat(l,h))}}}function xl(s){return{}.toString.call(s).includes("Object")}function ib(s){return!Object.keys(s).length}function Oa(s){return typeof s=="function"}function sb(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function rb(s,t){return xl(t)||Pi("changeType"),Object.keys(t).some(function(i){return!sb(s,i)})&&Pi("changeField"),t}function ab(s){Oa(s)||Pi("selectorType")}function ob(s){Oa(s)||xl(s)||Pi("handlerType"),xl(s)&&Object.values(s).some(function(t){return!Oa(t)})&&Pi("handlersType")}function lb(s){s||Pi("initialIsRequired"),xl(s)||Pi("initialType"),ib(s)&&Pi("initialContent")}function cb(s,t){throw new Error(s[t]||s.default)}var ub={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Pi=ya(cb)(ub),sl={changes:rb,selector:ab,handler:ob,initial:lb};function fb(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};sl.initial(s),sl.handler(t);var i={current:s},a=ya(pb)(i,t),l=ya(db)(i),c=ya(sl.changes)(s),f=ya(hb)(i);function h(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(y){return y};return sl.selector(m),m(i.current)}function p(m){nb(a,l,c,f)(m)}return[h,p]}function hb(s,t){return Oa(t)?t(s.current):t}function db(s,t){return s.current=ry(ry({},s.current),t),t}function pb(s,t,i){return Oa(t)?t(s.current):Object.keys(i).forEach(function(a){var l;return(l=t[a])===null||l===void 0?void 0:l.call(t,s.current[a])}),i}var mb={create:fb},gb={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function yb(s){return function t(){for(var i=this,a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return l.length>=s.length?s.apply(this,l):function(){for(var f=arguments.length,h=new Array(f),p=0;p<f;p++)h[p]=arguments[p];return t.apply(i,[].concat(l,h))}}}function vb(s){return{}.toString.call(s).includes("Object")}function Tb(s){return s||ay("configIsRequired"),vb(s)||ay("configType"),s.urls?(Sb(),{paths:{vs:s.urls.monacoBase}}):s}function Sb(){console.warn(Gv.deprecation)}function Eb(s,t){throw new Error(s[t]||s.default)}var Gv={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ay=yb(Eb)(Gv),Ab={config:Tb},bb=function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return function(l){return i.reduceRight(function(c,f){return f(c)},l)}};function Hv(s,t){return Object.keys(t).forEach(function(i){t[i]instanceof Object&&s[i]&&Object.assign(t[i],Hv(s[i],t[i]))}),iy(iy({},s),t)}var xb={type:"cancelation",msg:"operation is manually canceled"};function Cf(s){var t=!1,i=new Promise(function(a,l){s.then(function(c){return t?l(xb):a(c)}),s.catch(l)});return i.cancel=function(){return t=!0},i}var Ob=["monaco"],Rb=mb.create({config:gb,isInitialized:!1,resolve:null,reject:null,monaco:null}),Vv=QA(Rb,2),ka=Vv[0],zl=Vv[1];function Cb(s){var t=Ab.config(s),i=t.monaco,a=XA(t,Ob);zl(function(l){return{config:Hv(l.config,a),monaco:i}})}function Nb(){var s=ka(function(t){var i=t.monaco,a=t.isInitialized,l=t.resolve;return{monaco:i,isInitialized:a,resolve:l}});if(!s.isInitialized){if(zl({isInitialized:!0}),s.monaco)return s.resolve(s.monaco),Cf(Nf);if(window.monaco&&window.monaco.editor)return Yv(window.monaco),s.resolve(window.monaco),Cf(Nf);bb(_b,Mb)(Lb)}return Cf(Nf)}function _b(s){return document.body.appendChild(s)}function kb(s){var t=document.createElement("script");return s&&(t.src=s),t}function Mb(s){var t=ka(function(a){var l=a.config,c=a.reject;return{config:l,reject:c}}),i=kb("".concat(t.config.paths.vs,"/loader.js"));return i.onload=function(){return s()},i.onerror=t.reject,i}function Lb(){var s=ka(function(i){var a=i.config,l=i.resolve,c=i.reject;return{config:a,resolve:l,reject:c}}),t=window.require;t.config(s.config),t(["vs/editor/editor.main"],function(i){var a=i.m||i;Yv(a),s.resolve(a)},function(i){s.reject(i)})}function Yv(s){ka().monaco||zl({monaco:s})}function wb(){return ka(function(s){var t=s.monaco;return t})}var Nf=new Promise(function(s,t){return zl({resolve:s,reject:t})}),qv={config:Cb,init:Nb,__getMonacoInstance:wb},Ib={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},_f=Ib,jb={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Ub=jb;function Db({children:s}){return Sn.createElement("div",{style:Ub.container},s)}var zb=Db,Pb=zb;function Bb({width:s,height:t,isEditorReady:i,loading:a,_ref:l,className:c,wrapperProps:f}){return Sn.createElement("section",{style:{..._f.wrapper,width:s,height:t},...f},!i&&Sn.createElement(Pb,null,a),Sn.createElement("div",{ref:l,style:{..._f.fullWidth,...!i&&_f.hide},className:c}))}var $b=Bb,Kv=W.memo($b);function Fb(s){W.useEffect(s,[])}var Xv=Fb;function Gb(s,t,i=!0){let a=W.useRef(!0);W.useEffect(a.current||!i?()=>{a.current=!1}:s,t)}var Ye=Gb;function Ea(){}function cr(s,t,i,a){return Hb(s,a)||Vb(s,t,i,a)}function Hb(s,t){return s.editor.getModel(Zv(s,t))}function Vb(s,t,i,a){return s.editor.createModel(t,i,a?Zv(s,a):void 0)}function Zv(s,t){return s.Uri.parse(t)}function Yb({original:s,modified:t,language:i,originalLanguage:a,modifiedLanguage:l,originalModelPath:c,modifiedModelPath:f,keepCurrentOriginalModel:h=!1,keepCurrentModifiedModel:p=!1,theme:m="light",loading:y="Loading...",options:v={},height:S="100%",width:x="100%",className:C,wrapperProps:k={},beforeMount:H=Ea,onMount:P=Ea}){let[U,I]=W.useState(!1),[F,V]=W.useState(!0),B=W.useRef(null),G=W.useRef(null),X=W.useRef(null),xt=W.useRef(P),ft=W.useRef(H),$t=W.useRef(!1);Xv(()=>{let lt=qv.init();return lt.then(L=>(G.current=L)&&V(!1)).catch(L=>L?.type!=="cancelation"&&console.error("Monaco initialization: error:",L)),()=>B.current?Wt():lt.cancel()}),Ye(()=>{if(B.current&&G.current){let lt=B.current.getOriginalEditor(),L=cr(G.current,s||"",a||i||"text",c||"");L!==lt.getModel()&&lt.setModel(L)}},[c],U),Ye(()=>{if(B.current&&G.current){let lt=B.current.getModifiedEditor(),L=cr(G.current,t||"",l||i||"text",f||"");L!==lt.getModel()&&lt.setModel(L)}},[f],U),Ye(()=>{let lt=B.current.getModifiedEditor();lt.getOption(G.current.editor.EditorOption.readOnly)?lt.setValue(t||""):t!==lt.getValue()&&(lt.executeEdits("",[{range:lt.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),lt.pushUndoStop())},[t],U),Ye(()=>{B.current?.getModel()?.original.setValue(s||"")},[s],U),Ye(()=>{let{original:lt,modified:L}=B.current.getModel();G.current.editor.setModelLanguage(lt,a||i||"text"),G.current.editor.setModelLanguage(L,l||i||"text")},[i,a,l],U),Ye(()=>{G.current?.editor.setTheme(m)},[m],U),Ye(()=>{B.current?.updateOptions(v)},[v],U);let Xt=W.useCallback(()=>{if(!G.current)return;ft.current(G.current);let lt=cr(G.current,s||"",a||i||"text",c||""),L=cr(G.current,t||"",l||i||"text",f||"");B.current?.setModel({original:lt,modified:L})},[i,t,l,s,a,c,f]),ge=W.useCallback(()=>{!$t.current&&X.current&&(B.current=G.current.editor.createDiffEditor(X.current,{automaticLayout:!0,...v}),Xt(),G.current?.editor.setTheme(m),I(!0),$t.current=!0)},[v,m,Xt]);W.useEffect(()=>{U&&xt.current(B.current,G.current)},[U]),W.useEffect(()=>{!F&&!U&&ge()},[F,U,ge]);function Wt(){let lt=B.current?.getModel();h||lt?.original?.dispose(),p||lt?.modified?.dispose(),B.current?.dispose()}return Sn.createElement(Kv,{width:x,height:S,isEditorReady:U,loading:y,_ref:X,className:C,wrapperProps:k})}var qb=Yb;W.memo(qb);function Kb(s){let t=W.useRef();return W.useEffect(()=>{t.current=s},[s]),t.current}var Xb=Kb,rl=new Map;function Zb({defaultValue:s,defaultLanguage:t,defaultPath:i,value:a,language:l,path:c,theme:f="light",line:h,loading:p="Loading...",options:m={},overrideServices:y={},saveViewState:v=!0,keepCurrentModel:S=!1,width:x="100%",height:C="100%",className:k,wrapperProps:H={},beforeMount:P=Ea,onMount:U=Ea,onChange:I,onValidate:F=Ea}){let[V,B]=W.useState(!1),[G,X]=W.useState(!0),xt=W.useRef(null),ft=W.useRef(null),$t=W.useRef(null),Xt=W.useRef(U),ge=W.useRef(P),Wt=W.useRef(),lt=W.useRef(a),L=Xb(c),Y=W.useRef(!1),tt=W.useRef(!1);Xv(()=>{let A=qv.init();return A.then(D=>(xt.current=D)&&X(!1)).catch(D=>D?.type!=="cancelation"&&console.error("Monaco initialization: error:",D)),()=>ft.current?Ot():A.cancel()}),Ye(()=>{let A=cr(xt.current,s||a||"",t||l||"",c||i||"");A!==ft.current?.getModel()&&(v&&rl.set(L,ft.current?.saveViewState()),ft.current?.setModel(A),v&&ft.current?.restoreViewState(rl.get(c)))},[c],V),Ye(()=>{ft.current?.updateOptions(m)},[m],V),Ye(()=>{!ft.current||a===void 0||(ft.current.getOption(xt.current.editor.EditorOption.readOnly)?ft.current.setValue(a):a!==ft.current.getValue()&&(tt.current=!0,ft.current.executeEdits("",[{range:ft.current.getModel().getFullModelRange(),text:a,forceMoveMarkers:!0}]),ft.current.pushUndoStop(),tt.current=!1))},[a],V),Ye(()=>{let A=ft.current?.getModel();A&&l&&xt.current?.editor.setModelLanguage(A,l)},[l],V),Ye(()=>{h!==void 0&&ft.current?.revealLine(h)},[h],V),Ye(()=>{xt.current?.editor.setTheme(f)},[f],V);let gt=W.useCallback(()=>{if(!(!$t.current||!xt.current)&&!Y.current){ge.current(xt.current);let A=c||i,D=cr(xt.current,a||s||"",t||l||"",A||"");ft.current=xt.current?.editor.create($t.current,{model:D,automaticLayout:!0,...m},y),v&&ft.current.restoreViewState(rl.get(A)),xt.current.editor.setTheme(f),h!==void 0&&ft.current.revealLine(h),B(!0),Y.current=!0}},[s,t,i,a,l,c,m,y,v,f,h]);W.useEffect(()=>{V&&Xt.current(ft.current,xt.current)},[V]),W.useEffect(()=>{!G&&!V&&gt()},[G,V,gt]),lt.current=a,W.useEffect(()=>{V&&I&&(Wt.current?.dispose(),Wt.current=ft.current?.onDidChangeModelContent(A=>{tt.current||I(ft.current.getValue(),A)}))},[V,I]),W.useEffect(()=>{if(V){let A=xt.current.editor.onDidChangeMarkers(D=>{let q=ft.current.getModel()?.uri;if(q&&D.find(K=>K.path===q.path)){let K=xt.current.editor.getModelMarkers({resource:q});F?.(K)}});return()=>{A?.dispose()}}return()=>{}},[V,F]);function Ot(){Wt.current?.dispose(),S?v&&rl.set(c,ft.current.saveViewState()):ft.current.getModel()?.dispose(),ft.current.dispose()}return Sn.createElement(Kv,{width:x,height:C,isEditorReady:V,loading:p,_ref:$t,className:k,wrapperProps:H})}var Qb=Zb,Wb=W.memo(Qb),Jb=Wb;const ur="promptscript",t1={defaultToken:"",tokenPostfix:".prs",keywords:["true","false","null","string","number","boolean","enum"],directives:["@meta","@inherit","@extend","@use","@identity","@context","@standards","@restrictions","@guardrails","@shortcuts","@tools","@skills","@knowledge","@examples","@output","@behavior","@memory","@guards","@agents","@params","@project"],operators:[":"],symbols:/[=><!~?:&|+\-*/^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/#.*$/,"comment"],[/@\w+/,{cases:{"@directives":"keyword.directive","@default":"keyword.directive"}}],[/[a-zA-Z_][\w-]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],{include:"@whitespace"},[/[{}()[\]]/,"@brackets"],[/:/,"delimiter"],[/,/,"delimiter"],[/\{\{/,"variable.template","@templateExpression"],[/\$\{[A-Z_][A-Z0-9_]*(?::-[^}]*)?\}/,"variable.env"],[/\d*\.\d+([eE][-+]?\d+)?/,"number.float"],[/\d+/,"number"],[/"""/,"string","@multilineString"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"]],templateExpression:[[/[a-zA-Z_][a-zA-Z0-9_]*/,"variable.name"],[/\}\}/,"variable.template","@pop"]],whitespace:[[/[ \t\r\n]+/,"white"],[/#.*$/,"comment"]],string:[[/\$\{[A-Z_][A-Z0-9_]*(?::-[^}]*)?\}/,"variable.env"],[/[^\\"$]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/\$(?!\{)/,"string"],[/"/,"string","@pop"]],multilineString:[[/\{\{/,"variable.template","@templateExpressionInString"],[/\$\{[A-Z_][A-Z0-9_]*(?::-[^}]*)?\}/,"variable.env"],[/[^"{$]+/,"string"],[/\$(?!\{)/,"string"],[/"""/,"string","@pop"],[/"/,"string"]],templateExpressionInString:[[/[a-zA-Z_][a-zA-Z0-9_]*/,"variable.name"],[/\}\}/,"variable.template","@pop"]]}},e1={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}],folding:{markers:{start:/^\s*@\w+\s*\{/,end:/^\s*\}/}}},n1=[{token:"keyword.directive",foreground:"818cf8",fontStyle:"bold"},{token:"keyword",foreground:"93c5fd"},{token:"string",foreground:"a3e635"},{token:"string.escape",foreground:"facc15"},{token:"comment",foreground:"6b7280",fontStyle:"italic"},{token:"number",foreground:"f472b6"},{token:"identifier",foreground:"f8fafc"},{token:"delimiter",foreground:"94a3b8"},{token:"variable.template",foreground:"f472b6",fontStyle:"bold"},{token:"variable.name",foreground:"fb923c"},{token:"variable.env",foreground:"fbbf24"}];function i1(s){s.languages.getLanguages().some(i=>i.id===ur)||(s.languages.register({id:ur,extensions:[".prs"],aliases:["PromptScript","prs"],mimetypes:["text/x-promptscript"]}),s.languages.setMonarchTokensProvider(ur,t1),s.languages.setLanguageConfiguration(ur,e1),s.editor.defineTheme("prs-dark",{base:"vs-dark",inherit:!0,rules:n1,colors:{"editor.background":"#0f172a","editor.foreground":"#f8fafc","editor.lineHighlightBackground":"#1e293b","editorCursor.foreground":"#6366f1","editor.selectionBackground":"#334155","editorLineNumber.foreground":"#475569","editorLineNumber.activeForeground":"#94a3b8"}}))}function s1(s){return{provideCompletionItems:(t,i)=>{const a=t.getWordUntilPosition(i),l={startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:a.startColumn,endColumn:a.endColumn};return{suggestions:[{label:"@meta",kind:s.languages.CompletionItemKind.Keyword,insertText:`@meta {
  id: "$1"
  syntax: "1.0.0"
}`,insertTextRules:s.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Define metadata for the PromptScript file",range:l},{label:"@inherit",kind:s.languages.CompletionItemKind.Keyword,insertText:"@inherit $1",insertTextRules:s.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Inherit from another PromptScript file",range:l},{label:"@use",kind:s.languages.CompletionItemKind.Keyword,insertText:"@use $1",insertTextRules:s.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Import and merge directives from another file",range:l},{label:"@identity",kind:s.languages.CompletionItemKind.Keyword,insertText:`@identity {
  """
  $1
  """
}`,insertTextRules:s.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Define the AI identity/persona",range:l},{label:"@context",kind:s.languages.CompletionItemKind.Keyword,insertText:`@context {
  """
  $1
  """
}`,insertTextRules:s.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Provide contextual information",range:l},{label:"@standards",kind:s.languages.CompletionItemKind.Keyword,insertText:`@standards {
  $1: [$2]
}`,insertTextRules:s.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Define coding standards and guidelines",range:l},{label:"@restrictions",kind:s.languages.CompletionItemKind.Keyword,insertText:`@restrictions {
  - "$1"
}`,insertTextRules:s.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Define things the AI should NOT do",range:l},{label:"@shortcuts",kind:s.languages.CompletionItemKind.Keyword,insertText:`@shortcuts {
  "/$1": "$2"
}`,insertTextRules:s.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Define custom command shortcuts",range:l},{label:"@tools",kind:s.languages.CompletionItemKind.Keyword,insertText:`@tools {
  $1: {
    description: "$2"
  }
}`,insertTextRules:s.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Define available tools",range:l},{label:"@examples",kind:s.languages.CompletionItemKind.Keyword,insertText:`@examples {
  $1: {
    input: """
    $2
    """
    output: """
    $3
    """
  }
}`,insertTextRules:s.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Provide example interactions",range:l}]}}}}function r1(){const s=st(f=>f.activeFile),t=st(OA),i=st(f=>f.updateFile),a=W.useRef(null),l=f=>{i1(f),f.languages.registerCompletionItemProvider(ur,s1(f)),a.current=f},c=f=>{f.focus()};return O.jsx("div",{className:"h-full",children:O.jsx(Jb,{height:"100%",language:ur,theme:"prs-dark",value:t,onChange:f=>{f!==void 0&&i(s,f)},beforeMount:l,onMount:c,options:{fontSize:14,fontFamily:"'JetBrains Mono', 'Fira Code', Consolas, monospace",minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"line",tabSize:2,wordWrap:"on",automaticLayout:!0,padding:{top:12},suggestOnTriggerCharacters:!0,quickSuggestions:{other:!0,strings:!1,comments:!1}}})})}const oy=s=>Symbol.iterator in s,ly=s=>"entries"in s,cy=(s,t)=>{const i=s instanceof Map?s:new Map(s.entries()),a=t instanceof Map?t:new Map(t.entries());if(i.size!==a.size)return!1;for(const[l,c]of i)if(!a.has(l)||!Object.is(c,a.get(l)))return!1;return!0},a1=(s,t)=>{const i=s[Symbol.iterator](),a=t[Symbol.iterator]();let l=i.next(),c=a.next();for(;!l.done&&!c.done;){if(!Object.is(l.value,c.value))return!1;l=i.next(),c=a.next()}return!!l.done&&!!c.done};function o1(s,t){return Object.is(s,t)?!0:typeof s!="object"||s===null||typeof t!="object"||t===null||Object.getPrototypeOf(s)!==Object.getPrototypeOf(t)?!1:oy(s)&&oy(t)?ly(s)&&ly(t)?cy(s,t):a1(s,t):cy({entries:()=>Object.entries(s)},{entries:()=>Object.entries(t)})}function Ff(s){const t=Sn.useRef(void 0);return i=>{const a=s(i);return o1(t.current,a)?t.current:t.current=a}}const l1=[{name:"github",label:"GitHub",icon:""},{name:"claude",label:"Claude",icon:""},{name:"cursor",label:"Cursor",icon:""},{name:"antigravity",label:"Antigravity",icon:""}];function c1(s){const t=new Map,i=s.map(l=>{const c=l.split("/");return c[c.length-1]??l}),a=new Map;for(const l of i)a.set(l,(a.get(l)??0)+1);for(const[l,c]of s.entries()){const f=i[l]??c;if((a.get(f)??0)>1){const h=c.split("/");if(h.length>=2){const p=h[h.length-2]??"";t.set(c,`${p}/${f}`)}else t.set(c,f)}else t.set(c,f)}return t}function u1(){const s=st(y=>y.activeFormatter),t=st(y=>y.setActiveFormatter),i=st(y=>y.compileResult),a=st(y=>y.isCompiling),l=st(Ff(NA)),c=st(Ff(y=>CA(y,s))),[f,h]=W.useState(0);W.useEffect(()=>{h(0)},[s,c.length]),W.useEffect(()=>{!l.includes(s)&&l.length>0&&t(l[0])},[s,l,t]);const p=W.useMemo(()=>c1(c.map(y=>y.path)),[c]),m=c[f];return O.jsxs("div",{className:"h-full flex flex-col",children:[O.jsx("div",{className:"flex border-b border-ps-border bg-ps-bg",children:l1.map(y=>{const v=l.includes(y.name),S=s===y.name;return O.jsxs("button",{onClick:()=>v&&t(y.name),disabled:!v,className:`px-4 py-2 text-sm flex items-center gap-2 ${v?S?"tab-active text-white":"tab-inactive text-gray-400":"opacity-30 cursor-not-allowed text-gray-500"}`,title:v?void 0:`${y.label} is disabled in config`,children:[O.jsx("span",{children:y.icon}),O.jsx("span",{children:y.label})]},y.name)})}),O.jsx("div",{className:"flex-1 flex flex-col overflow-hidden bg-ps-surface",children:a?O.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:"w-4 h-4 border-2 border-ps-primary border-t-transparent rounded-full animate-spin"}),O.jsx("span",{children:"Compiling..."})]})}):i&&!i.success?O.jsxs("div",{className:"p-4 overflow-auto",children:[O.jsx("div",{className:"text-red-400 font-medium mb-2",children:"Compilation Failed"}),O.jsx("ul",{className:"space-y-2",children:i.errors.map((y,v)=>O.jsx("li",{className:"text-sm",children:O.jsxs("div",{className:"text-red-300",children:[y.location?.file&&O.jsxs("span",{className:"text-gray-400",children:[y.location.file,":",y.location.line,":",y.location.column," "]}),O.jsxs("span",{className:"text-yellow-400",children:["[",y.code,"]"]})," ",y.message]})},v))})]}):c.length>0?O.jsxs(O.Fragment,{children:[c.length>1&&O.jsx("div",{className:"flex border-b border-ps-border bg-ps-bg overflow-x-auto",children:c.map((y,v)=>O.jsx("button",{onClick:()=>h(v),className:`px-3 py-1.5 text-xs font-mono whitespace-nowrap ${v===f?"bg-ps-surface text-white border-b-2 border-ps-primary":"text-gray-400 hover:text-gray-300 hover:bg-ps-surface/50"}`,title:y.path,children:p.get(y.path)||y.path},y.path))}),m&&O.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[O.jsxs("div",{className:"flex items-center justify-between mb-2",children:[O.jsx("span",{className:"text-xs text-gray-500 font-mono",children:m.path}),O.jsx("button",{onClick:()=>{navigator.clipboard.writeText(m.content)},className:"text-xs text-gray-400 hover:text-white px-2 py-1 rounded bg-ps-bg",children:"Copy"})]}),O.jsx("pre",{className:"text-sm font-mono whitespace-pre-wrap text-gray-300 bg-ps-bg p-4 rounded overflow-auto",children:m.content})]})]}):O.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No output available"})})]})}const kf=[{id:"hello-world",name:"Hello World",description:"The simplest possible configuration",complexity:"beginner",files:[{path:"project.prs",content:`@meta {
  id: "hello-world"
  syntax: "1.0.0"
}

@identity {
  """
  You are a helpful AI assistant.
  """
}
`}]},{id:"minimal",name:"Minimal Setup",description:"Basic identity with multiline description",complexity:"beginner",files:[{path:"project.prs",content:`@meta {
  id: "minimal-project"
  syntax: "1.0.0"
}

@identity {
  """
  You are a helpful AI assistant.
  You provide clear and concise answers.
  You ask for clarification when needed.
  """
}
`}]},{id:"with-context",name:"With Context",description:"Adding project context and environment info",complexity:"beginner",files:[{path:"project.prs",content:`@meta {
  id: "context-example"
  syntax: "1.0.0"
}

@identity {
  """
  You are a coding assistant for web development.
  You write modern, accessible code.
  """
}

@context {
  """
  This is a React frontend project using TypeScript.
  We use Tailwind CSS for styling.
  The project follows component-driven development.
  """
}
`}]},{id:"with-env-vars",name:"Environment Variables",description:"Using ${VAR} and ${VAR:-default} for dynamic configuration",complexity:"intermediate",envVars:{PROJECT_NAME:"My Awesome Project",API_VERSION:"v2",TEAM_NAME:"Platform Team"},files:[{path:"project.prs",content:`@meta {
  id: "env-vars-example"
  syntax: "1.0.0"
}

@identity {
  """
  You are an assistant for \${PROJECT_NAME}.
  You help the \${TEAM_NAME} build great software.
  """
}

@context {
  """
  Project: \${PROJECT_NAME}
  API Version: \${API_VERSION}
  Team: \${TEAM_NAME}
  Environment: \${ENVIRONMENT:-development}
  Debug Mode: \${DEBUG:-false}
  """

  # Object properties also support env vars
  project: "\${PROJECT_NAME}"
  apiVersion: "\${API_VERSION}"
  logLevel: "\${LOG_LEVEL:-info}"
}

@standards {
  # Env vars work in nested structures too
  api: {
    version: "\${API_VERSION}"
    baseUrl: "\${API_BASE_URL:-https://api.example.com}"
  }
}

@restrictions {
  - "Follow \${TEAM_NAME} coding guidelines"
  - "Use \${API_VERSION} API endpoints"
  - "Log level must be \${LOG_LEVEL:-info} or higher"
}
`}]},{id:"with-standards",name:"With Standards",description:"Configuration with coding standards and restrictions",complexity:"intermediate",files:[{path:"project.prs",content:`@meta {
  id: "coding-assistant"
  syntax: "1.0.0"
  tags: [development, typescript]
}

@identity {
  """
  You are an expert software developer.
  You write clean, maintainable, and well-tested code.
  """
}

@context {
  languages: ["TypeScript", "JavaScript"]
  runtime: "Node.js 20+"
  testing: "Vitest"
}

@standards {
  code: {
    languages: ["TypeScript"]
    frameworks: ["React 18", "Vite"]
    testing: ["Vitest", "Testing Library"]
  }
  documentation: ["JSDoc comments", "README updates"]
  git: {
    format: "Conventional Commits"
    types: ["feat", "fix", "docs", "chore", "refactor"]
  }
}

@restrictions {
  - "Never write untested code"
  - "Always handle errors properly"
  - "Don't use 'any' type in TypeScript"
  - "Don't commit secrets or credentials"
}
`}]},{id:"with-inheritance",name:"With Inheritance",description:"Using @inherit to extend shared base configs",complexity:"intermediate",files:[{path:"project.prs",content:`@meta {
  id: "frontend-project"
  syntax: "1.0.0"
}

# Inherit from promptscript-registry (github.com/mrwogu/promptscript-registry)
@inherit @core/base
@use @core/quality
@use @core/security

@context {
  """
  This is a React frontend project.
  We use TypeScript and Tailwind CSS.
  State management with Zustand.
  """
}

@standards {
  frameworks: ["React 18", "TypeScript 5", "Tailwind CSS"]
  testing: ["Vitest", "Playwright"]
}

@restrictions {
  - "Use functional components with hooks"
  - "No class components"
  - "Keep components under 200 lines"
}
`}]},{id:"parameterized-templates",name:"Parameterized Templates",description:"Reusable templates with {{variable}} interpolation",complexity:"intermediate",files:[{path:"project.prs",content:`@meta {
  id: "my-react-app"
  syntax: "1.0.0"
}

# Inherit from template with parameters
@inherit ./react-template(projectName: "Checkout App", port: 8080, strict: true)

@identity {
  """
  You specialize in e-commerce checkout flows.
  You understand payment integrations and cart management.
  """
}

@context {
  """
  E-commerce checkout application with Stripe integration.
  """
}
`},{path:"react-template.prs",content:`@meta {
  id: "react-template"
  syntax: "1.0.0"
  params: {
    # Required: Name of the project
    projectName: string

    # Optional: Development server port (default: 3000)
    port: number = 3000

    # Optional: Enable strict mode (default: true)
    strict: boolean = true

    # Optional: Test framework choice
    testFramework: enum("vitest", "jest") = "vitest"
  }
}

@identity {
  """
  You are a React developer working on {{projectName}}.
  You follow best practices and write clean code.
  """
}

@context {
  project: {{projectName}}
  devServer: "http://localhost:{{port}}"
  strictMode: {{strict}}
  testing: {{testFramework}}
}

@standards {
  code: {
    language: "TypeScript"
    framework: "React 18"
    testing: "{{testFramework}}"
  }
}

@restrictions {
  - "Use functional components only"
  - "Test coverage must be above 80%"
}
`}]},{id:"multi-file",name:"Multi-File Project",description:"Local inheritance with shared base configuration",complexity:"intermediate",files:[{path:"project.prs",content:`@meta {
  id: "team-project"
  syntax: "1.0.0"
}

# Inherit from local base file
@inherit ./base

@context {
  languages: ["TypeScript", "React"]
  runtime: "Node.js 20+"
}

@standards {
  code: {
    languages: ["TypeScript"]
    frameworks: ["React 18", "Vite"]
    testing: ["Vitest", "Testing Library"]
  }
}

@restrictions {
  - "Use Zustand for state management"
  - "Keep bundle size under 200KB"
}
`},{path:"base.prs",content:`@meta {
  id: "team-base"
  syntax: "1.0.0"
}

@identity {
  """
  You are a helpful team assistant.
  You follow our established conventions.
  You prioritize code quality and maintainability.
  """
}

@standards {
  git: {
    format: "Conventional Commits"
    types: ["feat", "fix", "docs", "chore", "refactor", "test"]
  }
  documentation: ["README", "JSDoc", "CHANGELOG"]
}

@restrictions {
  - "Don't commit without tests"
  - "Don't push directly to main"
  - "Always request code review"
}
`}]},{id:"with-skills",name:"With Skills & Shortcuts",description:"Custom skills and shortcuts for automation",complexity:"advanced",files:[{path:"project.prs",content:`@meta {
  id: "skills-example"
  syntax: "1.0.0"
}

@identity {
  """
  You are a development assistant with custom skills.
  You help developers write better code through reviews and testing.
  """
}

@context {
  languages: ["TypeScript", "JavaScript"]
  runtime: "Node.js 20+"
  frameworks: ["React", "Vite"]
}

@skills {
  review: {
    description: "Review code for bugs and improvements"
    content: """
    When reviewing code:
    1. Check for potential bugs and edge cases
    2. Suggest performance improvements
    3. Verify error handling is complete
    4. Check for security vulnerabilities
    """
  }
  test: {
    description: "Run tests and analyze coverage"
    content: """
    When running tests:
    1. Execute the test suite with coverage
    2. Report failures clearly with context
    3. Suggest missing test cases
    4. Verify edge cases are covered
    """
  }
  refactor: {
    description: "Refactor code for better maintainability"
    content: """
    When refactoring:
    1. Identify code smells and duplication
    2. Apply SOLID principles
    3. Improve naming and readability
    4. Ensure tests still pass
    """
  }
}

@shortcuts {
  "/review": "Run the review skill on current file"
  "/test": "Run the test skill"
  "/refactor": "Refactor the selected code"
  "/docs": "Generate documentation"
}

@restrictions {
  - "Always explain your reasoning"
  - "Ask for clarification when unsure"
  - "Never skip writing tests"
}
`}]},{id:"with-guards",name:"With Guards",description:"File-pattern guards for context-specific rules",complexity:"advanced",files:[{path:"project.prs",content:`@meta {
  id: "guards-example"
  syntax: "1.0.0"
}

@identity {
  """
  You are an expert full-stack developer.
  You understand different contexts require different rules.
  """
}

@context {
  languages: ["TypeScript"]
  runtime: "Node.js 20+"
}

@guards {
  # Apply TypeScript rules to all TS files
  globs: ["**/*.ts", "**/*.tsx"]

  # Testing-specific rules
  testing: {
    applyTo: ["**/*.test.ts", "**/*.spec.ts", "**/__tests__/**"]
    description: "Testing rules"
    content: """
    - Use describe/it blocks for organization
    - Follow AAA pattern (Arrange, Act, Assert)
    - Mock external dependencies
    - Test edge cases and error conditions
    """
  }

  # Component-specific rules
  components: {
    applyTo: ["**/components/**/*.tsx"]
    description: "React component rules"
    content: """
    - Use functional components with hooks
    - Keep components focused and small
    - Extract logic into custom hooks
    - Use TypeScript for props interfaces
    """
  }
}

@standards {
  code: {
    languages: ["TypeScript"]
    testing: ["Vitest"]
  }
}
`}]},{id:"with-agents",name:"With Agents",description:"Custom AI agents with specific roles",complexity:"advanced",files:[{path:"project.prs",content:`@meta {
  id: "agents-example"
  syntax: "1.0.0"
}

@identity {
  """
  You are a development team coordinator.
  You can delegate tasks to specialized agents.
  """
}

@agents {
  coder: {
    description: "Expert code writer"
    model: "sonnet"
    tools: ["Read", "Edit", "Write", "Bash"]
    content: """
    You are an expert code writer.
    You write clean, efficient, and well-documented code.
    You follow established patterns in the codebase.
    """
  }
  reviewer: {
    description: "Code review specialist"
    model: "sonnet"
    tools: ["Read", "Grep", "Glob"]
    content: """
    You are a code review specialist.
    You identify bugs, security issues, and improvements.
    You provide constructive feedback.
    """
  }
  tester: {
    description: "Test writing specialist"
    model: "haiku"
    tools: ["Read", "Write", "Bash"]
    content: """
    You are a test writing specialist.
    You write comprehensive unit and integration tests.
    You ensure good coverage of edge cases.
    """
  }
}

@skills {
  implement: {
    description: "Implement a feature using the coder agent"
    content: "Delegate implementation to the coder agent"
  }
  review: {
    description: "Review code using the reviewer agent"
    content: "Delegate review to the reviewer agent"
  }
}

@shortcuts {
  "/implement": "Start implementing a feature"
  "/review": "Review recent changes"
  "/test": "Write tests for current code"
}
`}]},{id:"enterprise",name:"Enterprise Setup",description:"Full enterprise configuration with all features",complexity:"advanced",files:[{path:"project.prs",content:`@meta {
  id: "enterprise-project"
  syntax: "1.0.0"
  tags: [enterprise, typescript, react]
}

# Inherit from local file + registry (github.com/mrwogu/promptscript-registry)
@inherit ./org-base
@use @core/security

@context {
  """
  Enterprise React application with strict security requirements.
  Follows organizational coding standards and compliance rules.
  """

  languages: ["TypeScript"]
  runtime: "Node.js 20 LTS"
  frameworks: ["React 18", "Next.js 14"]
  infrastructure: ["AWS", "Docker", "Kubernetes"]
}

@skills {
  "security-review": {
    description: "Review code for security vulnerabilities"
    content: """
    Perform security review:
    1. Check for OWASP Top 10 vulnerabilities
    2. Verify input validation and sanitization
    3. Check authentication and authorization
    4. Review data exposure and logging
    5. Verify secure communication
    """
  }
  deploy: {
    description: "Prepare deployment checklist"
    content: """
    Deployment preparation:
    1. Run full test suite
    2. Check for security vulnerabilities
    3. Verify environment variables
    4. Update changelog
    5. Create release notes
    """
  }
}

@guards {
  api: {
    applyTo: ["**/api/**", "**/routes/**"]
    description: "API security rules"
    content: """
    - Validate all input parameters
    - Use parameterized queries
    - Implement rate limiting
    - Log security events
    """
  }
  auth: {
    applyTo: ["**/auth/**", "**/middleware/**"]
    description: "Authentication rules"
    content: """
    - Never log credentials
    - Use secure session management
    - Implement proper CORS
    - Use HTTPS only
    """
  }
}

@shortcuts {
  "/security": "Run security review"
  "/deploy": "Prepare deployment"
  "/audit": "Run compliance audit"
}

@restrictions {
  - "All API endpoints must have authentication"
  - "No secrets in code - use environment variables"
  - "All user input must be validated"
  - "PII must be encrypted at rest"
  - "Changes require security team approval"
}
`},{path:"org-base.prs",content:`@meta {
  id: "org-base"
  syntax: "1.0.0"
}

@identity {
  """
  You are an enterprise development assistant.
  You follow strict organizational standards.
  Security and compliance are top priorities.
  """
}

@standards {
  code: {
    languages: ["TypeScript"]
    strictMode: true
    exports: "named only"
  }
  git: {
    format: "Conventional Commits"
    types: ["feat", "fix", "docs", "chore", "refactor", "test", "security"]
    requireIssueReference: true
  }
  documentation: {
    required: ["README", "API docs", "CHANGELOG", "SECURITY.md"]
  }
  testing: {
    minimumCoverage: 80
    requiredTypes: ["unit", "integration", "e2e"]
  }
}

@restrictions {
  - "No direct database queries - use ORM"
  - "All functions must have return type annotations"
  - "No console.log in production code"
  - "Dependencies must be approved"
  - "No force push to protected branches"
}
`}]}],f1={beginner:"bg-green-500/20 text-green-400",intermediate:"bg-yellow-500/20 text-yellow-400",advanced:"bg-purple-500/20 text-purple-400"},h1={beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced"};function d1(){const s=st(p=>p.setFiles),t=st(p=>p.setShowExamples),i=st(p=>p.setEnvVars),a=p=>{s(p.files),i(p.envVars??{}),t(!1)},l=kf.filter(p=>p.complexity==="beginner"),c=kf.filter(p=>p.complexity==="intermediate"),f=kf.filter(p=>p.complexity==="advanced"),h=p=>O.jsxs("button",{onClick:()=>a(p),className:"text-left p-4 bg-ps-bg rounded-lg hover:bg-ps-border transition-colors",children:[O.jsxs("div",{className:"flex items-start justify-between gap-2",children:[O.jsx("h3",{className:"font-medium text-white",children:p.name}),O.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${f1[p.complexity]}`,children:h1[p.complexity]})]}),O.jsx("p",{className:"text-sm text-gray-400 mt-1",children:p.description}),O.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[O.jsxs("span",{className:"text-xs text-gray-500",children:[p.files.length," file",p.files.length!==1?"s":""]}),p.files.some(m=>m.content.includes("@inherit"))&&O.jsx("span",{className:"text-xs px-2 py-0.5 bg-ps-primary/20 text-ps-primary rounded",children:"inheritance"}),p.files.some(m=>m.content.includes("@use"))&&O.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-500/20 text-blue-400 rounded",children:"imports"}),p.files.some(m=>m.content.includes("@skills"))&&O.jsx("span",{className:"text-xs px-2 py-0.5 bg-orange-500/20 text-orange-400 rounded",children:"skills"}),p.files.some(m=>m.content.includes("@guards"))&&O.jsx("span",{className:"text-xs px-2 py-0.5 bg-red-500/20 text-red-400 rounded",children:"guards"}),p.files.some(m=>m.content.includes("@agents"))&&O.jsx("span",{className:"text-xs px-2 py-0.5 bg-cyan-500/20 text-cyan-400 rounded",children:"agents"}),p.files.some(m=>m.content.includes("params:")&&m.content.includes("{{"))&&O.jsx("span",{className:"text-xs px-2 py-0.5 bg-pink-500/20 text-pink-400 rounded",children:"templates"}),p.envVars&&Object.keys(p.envVars).length>0&&O.jsx("span",{className:"text-xs px-2 py-0.5 bg-emerald-500/20 text-emerald-400 rounded",children:"env vars"})]})]},p.id);return O.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:O.jsxs("div",{className:"bg-ps-surface rounded-lg shadow-xl max-w-3xl w-full mx-4 max-h-[85vh] overflow-hidden",children:[O.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-ps-border",children:[O.jsx("h2",{className:"text-lg font-semibold",children:"Example Gallery"}),O.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white",children:""})]}),O.jsxs("div",{className:"p-4 overflow-y-auto max-h-[70vh] space-y-6",children:[O.jsxs("section",{children:[O.jsxs("h3",{className:"text-sm font-medium text-green-400 mb-3 flex items-center gap-2",children:[O.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Getting Started"]}),O.jsx("div",{className:"grid gap-3",children:l.map(h)})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"text-sm font-medium text-yellow-400 mb-3 flex items-center gap-2",children:[O.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),"Intermediate"]}),O.jsx("div",{className:"grid gap-3",children:c.map(h)})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"text-sm font-medium text-purple-400 mb-3 flex items-center gap-2",children:[O.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full"}),"Advanced"]}),O.jsx("div",{className:"grid gap-3",children:f.map(h)})]})]}),O.jsx("div",{className:"p-4 border-t border-ps-border text-center text-sm text-gray-500",children:"Click an example to load it into the editor"})]})})}const p1={github:{label:"GitHub Copilot",versions:["simple","multifile","full"],supportsXml:!0},claude:{label:"Claude Code",versions:["simple","multifile","full"],supportsXml:!0},cursor:{label:"Cursor",versions:["standard","legacy"],supportsXml:!1},antigravity:{label:"Antigravity",versions:["simple","frontmatter"],supportsXml:!0}},m1=[{value:"markdown",label:"Markdown"},{value:"xml",label:"XML"}],g1=["always","never","preserve"],y1=[2,4];function v1(){const s=st(h=>h.config),t=st(h=>h.setTargetEnabled),i=st(h=>h.setTargetVersion),a=st(h=>h.setTargetConvention),l=st(h=>h.setFormatting),c=st(h=>h.showConfig),f=st(h=>h.setShowConfig);return c?O.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:O.jsxs("div",{className:"bg-ps-surface border border-ps-border rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto",children:[O.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-ps-border",children:[O.jsx("h2",{className:"text-lg font-semibold text-white",children:"Configuration"}),O.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-white p-1","aria-label":"Close",children:O.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),O.jsxs("div",{className:"p-4 space-y-6",children:[O.jsxs("section",{children:[O.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-3",children:"Targets"}),O.jsx("div",{className:"space-y-3",children:Object.entries(p1).map(([h,p])=>{const m=s.targets[h];return O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsxs("label",{className:"flex items-center gap-2 min-w-[140px]",children:[O.jsx("input",{type:"checkbox",checked:m.enabled,onChange:y=>t(h,y.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-indigo-500 focus:ring-indigo-500 focus:ring-offset-0"}),O.jsx("span",{className:"text-sm text-gray-200",children:p.label})]}),O.jsx("select",{value:m.version??p.versions[0],onChange:y=>i(h,y.target.value),disabled:!m.enabled,className:"flex-1 px-2 py-1 text-sm bg-gray-700 border border-gray-600 rounded text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:border-indigo-500",children:p.versions.map(y=>O.jsx("option",{value:y,children:y},y))}),O.jsx("select",{value:m.convention??"markdown",onChange:y=>a(h,y.target.value==="markdown"?void 0:y.target.value),disabled:!m.enabled||!p.supportsXml,title:p.supportsXml?void 0:`${p.label} only supports markdown`,className:"w-24 px-2 py-1 text-sm bg-gray-700 border border-gray-600 rounded text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:border-indigo-500",children:m1.map(y=>O.jsx("option",{value:y.value,disabled:y.value==="xml"&&!p.supportsXml,children:y.label},y.value))})]},h)})})]}),O.jsxs("section",{children:[O.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-3",children:"Formatting"}),O.jsxs("div",{className:"space-y-3",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("label",{className:"text-sm text-gray-200 min-w-[100px]",children:"Tab Width"}),O.jsx("div",{className:"flex gap-2",children:y1.map(h=>O.jsx("button",{onClick:()=>l({tabWidth:h}),className:`px-3 py-1 text-sm rounded ${s.formatting.tabWidth===h?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:h},h))})]}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("label",{className:"text-sm text-gray-200 min-w-[100px]",children:"Prose Wrap"}),O.jsx("select",{value:s.formatting.proseWrap,onChange:h=>l({proseWrap:h.target.value}),className:"flex-1 px-2 py-1 text-sm bg-gray-700 border border-gray-600 rounded text-gray-200 focus:outline-none focus:border-indigo-500",children:g1.map(h=>O.jsx("option",{value:h,children:h},h))})]}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("label",{className:"text-sm text-gray-200 min-w-[100px]",children:"Print Width"}),O.jsx("input",{type:"number",min:40,max:200,value:s.formatting.printWidth,onChange:h=>l({printWidth:parseInt(h.target.value,10)||80}),className:"w-20 px-2 py-1 text-sm bg-gray-700 border border-gray-600 rounded text-gray-200 focus:outline-none focus:border-indigo-500"})]})]})]})]}),O.jsx("div",{className:"flex justify-end px-4 py-3 border-t border-ps-border",children:O.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-sm bg-indigo-600 hover:bg-indigo-500 text-white rounded",children:"Done"})})]})}):null}const T1=/^[A-Za-z_][A-Za-z0-9_]*$/;function S1(){const s=st(C=>C.config),t=st(C=>C.setEnvVar),i=st(C=>C.deleteEnvVar),a=st(C=>C.showEnvVars),l=st(C=>C.setShowEnvVars),[c,f]=W.useState(""),[h,p]=W.useState(""),[m,y]=W.useState(null);if(!a)return null;const v=Object.entries(s.envVars),S=()=>{const C=c.trim(),k=h.trim();if(!C){y("Variable name is required");return}if(!T1.test(C)){y("Invalid name: must start with letter or underscore");return}if(s.envVars[C]!==void 0){y("Variable already exists");return}t(C,k),f(""),p(""),y(null)},x=C=>{C.key==="Enter"&&S()};return O.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:O.jsxs("div",{className:"bg-ps-surface border border-ps-border rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto",children:[O.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-ps-border",children:[O.jsx("h2",{className:"text-lg font-semibold text-white",children:"Environment Variables"}),O.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-white p-1","aria-label":"Close",children:O.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),O.jsxs("div",{className:"p-4 space-y-4",children:[v.length>0&&O.jsx("div",{className:"space-y-2",children:v.map(([C,k])=>O.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 rounded px-3 py-2",children:[O.jsx("span",{className:"font-mono text-sm text-blue-400 min-w-[120px]",children:C}),O.jsx("span",{className:"text-gray-400",children:"="}),O.jsx("span",{className:"font-mono text-sm text-gray-200 flex-1 truncate",children:k}),O.jsx("button",{onClick:()=>i(C),className:"text-gray-500 hover:text-red-400 p-1",title:"Delete variable",children:O.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},C))}),v.length===0&&O.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No environment variables defined"}),O.jsxs("div",{className:"border-t border-ps-border pt-4",children:[O.jsxs("div",{className:"flex gap-2",children:[O.jsx("input",{type:"text",value:c,onChange:C=>{f(C.target.value),y(null)},onKeyDown:x,placeholder:"NAME",className:"flex-1 px-3 py-2 text-sm font-mono bg-gray-700 border border-gray-600 rounded text-gray-200 placeholder-gray-500 focus:outline-none focus:border-indigo-500"}),O.jsx("input",{type:"text",value:h,onChange:C=>p(C.target.value),onKeyDown:x,placeholder:"value",className:"flex-1 px-3 py-2 text-sm font-mono bg-gray-700 border border-gray-600 rounded text-gray-200 placeholder-gray-500 focus:outline-none focus:border-indigo-500"}),O.jsx("button",{onClick:S,className:"px-4 py-2 text-sm bg-indigo-600 hover:bg-indigo-500 text-white rounded",children:"Add"})]}),m&&O.jsx("p",{className:"text-red-400 text-xs mt-2",children:m})]}),O.jsxs("p",{className:"text-gray-500 text-xs",children:["These are simulated variables for testing. Use"," ",O.jsxs("code",{className:"text-gray-400",children:["$","{VAR}"]})," or"," ",O.jsxs("code",{className:"text-gray-400",children:["$","{VAR:-default}"]})," in your PRS files.",O.jsx("br",{}),O.jsx("strong",{children:"Note:"})," Do not use real secrets."]})]}),O.jsx("div",{className:"flex justify-end px-4 py-3 border-t border-ps-border",children:O.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-sm bg-indigo-600 hover:bg-indigo-500 text-white rounded",children:"Done"})})]})})}class mh{files;constructor(t){if(this.files=new Map,t)if(t instanceof Map)for(const[i,a]of t)this.files.set(this.normalizePath(i),a);else for(const[i,a]of Object.entries(t))this.files.set(this.normalizePath(i),a)}normalizePath(t){let i=t.replace(/\\/g,"/");return i.startsWith("/")&&(i=i.slice(1)),i.endsWith("/")&&(i=i.slice(0,-1)),i}exists(t){return this.files.has(this.normalizePath(t))}read(t){const i=this.normalizePath(t),a=this.files.get(i);if(a===void 0)throw new Error(`File not found: ${t}`);return a}write(t,i){this.files.set(this.normalizePath(t),i)}delete(t){return this.files.delete(this.normalizePath(t))}list(){return Array.from(this.files.keys())}glob(t){const i=this.normalizePath(t),a=this.patternToRegex(i);return Array.from(this.files.keys()).filter(l=>a.test(l))}patternToRegex(t){let i=t.replace(/[.+^${}()|[\]\\]/g,"\\$&");return i=i.replace(/\*\*/g,"\0DOUBLESTAR\0"),i=i.replace(/\*/g,"[^/]*"),i=i.replace(/\0DOUBLESTAR\0/g,".*"),i=i.replace(/\?/g,"[^/]"),new RegExp(`^${i}$`)}clear(){this.files.clear()}get size(){return this.files.size}toMap(){return new Map(this.files)}toObject(){const t={};for(const[i,a]of this.files)t[i]=a;return t}clone(){return new mh(this.files)}merge(t){for(const[i,a]of t.files)this.files.set(i,a)}}var Qv=typeof global=="object"&&global&&global.Object===Object&&global,E1=typeof self=="object"&&self&&self.Object===Object&&self,jn=Qv||E1||Function("return this")(),hn=jn.Symbol,Wv=Object.prototype,A1=Wv.hasOwnProperty,b1=Wv.toString,ha=hn?hn.toStringTag:void 0;function x1(s){var t=A1.call(s,ha),i=s[ha];try{s[ha]=void 0;var a=!0}catch{}var l=b1.call(s);return a&&(t?s[ha]=i:delete s[ha]),l}var O1=Object.prototype,R1=O1.toString;function C1(s){return R1.call(s)}var N1="[object Null]",_1="[object Undefined]",uy=hn?hn.toStringTag:void 0;function Fi(s){return s==null?s===void 0?_1:N1:uy&&uy in Object(s)?x1(s):C1(s)}function bn(s){return s!=null&&typeof s=="object"}var k1="[object Symbol]";function Pl(s){return typeof s=="symbol"||bn(s)&&Fi(s)==k1}function Bl(s,t){for(var i=-1,a=s==null?0:s.length,l=Array(a);++i<a;)l[i]=t(s[i],i,s);return l}var bt=Array.isArray,fy=hn?hn.prototype:void 0,hy=fy?fy.toString:void 0;function Jv(s){if(typeof s=="string")return s;if(bt(s))return Bl(s,Jv)+"";if(Pl(s))return hy?hy.call(s):"";var t=s+"";return t=="0"&&1/s==-1/0?"-0":t}var M1=/\s/;function L1(s){for(var t=s.length;t--&&M1.test(s.charAt(t)););return t}var w1=/^\s+/;function I1(s){return s&&s.slice(0,L1(s)+1).replace(w1,"")}function dn(s){var t=typeof s;return s!=null&&(t=="object"||t=="function")}var dy=NaN,j1=/^[-+]0x[0-9a-f]+$/i,U1=/^0b[01]+$/i,D1=/^0o[0-7]+$/i,z1=parseInt;function P1(s){if(typeof s=="number")return s;if(Pl(s))return dy;if(dn(s)){var t=typeof s.valueOf=="function"?s.valueOf():s;s=dn(t)?t+"":t}if(typeof s!="string")return s===0?s:+s;s=I1(s);var i=U1.test(s);return i||D1.test(s)?z1(s.slice(2),i?2:8):j1.test(s)?dy:+s}var py=1/0,B1=17976931348623157e292;function $1(s){if(!s)return s===0?s:0;if(s=P1(s),s===py||s===-py){var t=s<0?-1:1;return t*B1}return s===s?s:0}function $l(s){var t=$1(s),i=t%1;return t===t?i?t-i:t:0}function hr(s){return s}var F1="[object AsyncFunction]",G1="[object Function]",H1="[object GeneratorFunction]",V1="[object Proxy]";function li(s){if(!dn(s))return!1;var t=Fi(s);return t==G1||t==H1||t==F1||t==V1}var Mf=jn["__core-js_shared__"],my=(function(){var s=/[^.]+$/.exec(Mf&&Mf.keys&&Mf.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function Y1(s){return!!my&&my in s}var q1=Function.prototype,K1=q1.toString;function ms(s){if(s!=null){try{return K1.call(s)}catch{}try{return s+""}catch{}}return""}var X1=/[\\^$.*+?()[\]{}|]/g,Z1=/^\[object .+?Constructor\]$/,Q1=Function.prototype,W1=Object.prototype,J1=Q1.toString,tx=W1.hasOwnProperty,ex=RegExp("^"+J1.call(tx).replace(X1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nx(s){if(!dn(s)||Y1(s))return!1;var t=li(s)?ex:Z1;return t.test(ms(s))}function ix(s,t){return s?.[t]}function gs(s,t){var i=ix(s,t);return nx(i)?i:void 0}var Gf=gs(jn,"WeakMap"),gy=Object.create,sx=(function(){function s(){}return function(t){if(!dn(t))return{};if(gy)return gy(t);s.prototype=t;var i=new s;return s.prototype=void 0,i}})();function rx(s,t,i){switch(i.length){case 0:return s.call(t);case 1:return s.call(t,i[0]);case 2:return s.call(t,i[0],i[1]);case 3:return s.call(t,i[0],i[1],i[2])}return s.apply(t,i)}function se(){}function ax(s,t){var i=-1,a=s.length;for(t||(t=Array(a));++i<a;)t[i]=s[i];return t}var ox=800,lx=16,cx=Date.now;function ux(s){var t=0,i=0;return function(){var a=cx(),l=lx-(a-i);if(i=a,l>0){if(++t>=ox)return arguments[0]}else t=0;return s.apply(void 0,arguments)}}function fx(s){return function(){return s}}var Ol=(function(){try{var s=gs(Object,"defineProperty");return s({},"",{}),s}catch{}})(),hx=Ol?function(s,t){return Ol(s,"toString",{configurable:!0,enumerable:!1,value:fx(t),writable:!0})}:hr,dx=ux(hx);function t0(s,t){for(var i=-1,a=s==null?0:s.length;++i<a&&t(s[i],i,s)!==!1;);return s}function e0(s,t,i,a){for(var l=s.length,c=i+-1;++c<l;)if(t(s[c],c,s))return c;return-1}function px(s){return s!==s}function mx(s,t,i){for(var a=i-1,l=s.length;++a<l;)if(s[a]===t)return a;return-1}function gh(s,t,i){return t===t?mx(s,t,i):e0(s,px,i)}function n0(s,t){var i=s==null?0:s.length;return!!i&&gh(s,t,0)>-1}var gx=9007199254740991,yx=/^(?:0|[1-9]\d*)$/;function Fl(s,t){var i=typeof s;return t=t??gx,!!t&&(i=="number"||i!="symbol"&&yx.test(s))&&s>-1&&s%1==0&&s<t}function yh(s,t,i){t=="__proto__"&&Ol?Ol(s,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):s[t]=i}function Ma(s,t){return s===t||s!==s&&t!==t}var vx=Object.prototype,Tx=vx.hasOwnProperty;function Gl(s,t,i){var a=s[t];(!(Tx.call(s,t)&&Ma(a,i))||i===void 0&&!(t in s))&&yh(s,t,i)}function vh(s,t,i,a){var l=!i;i||(i={});for(var c=-1,f=t.length;++c<f;){var h=t[c],p=void 0;p===void 0&&(p=s[h]),l?yh(i,h,p):Gl(i,h,p)}return i}var yy=Math.max;function Sx(s,t,i){return t=yy(t===void 0?s.length-1:t,0),function(){for(var a=arguments,l=-1,c=yy(a.length-t,0),f=Array(c);++l<c;)f[l]=a[t+l];l=-1;for(var h=Array(t+1);++l<t;)h[l]=a[l];return h[t]=i(f),rx(s,this,h)}}function Th(s,t){return dx(Sx(s,t,hr),s+"")}var Ex=9007199254740991;function Sh(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Ex}function Un(s){return s!=null&&Sh(s.length)&&!li(s)}function i0(s,t,i){if(!dn(i))return!1;var a=typeof t;return(a=="number"?Un(i)&&Fl(t,i.length):a=="string"&&t in i)?Ma(i[t],s):!1}function Ax(s){return Th(function(t,i){var a=-1,l=i.length,c=l>1?i[l-1]:void 0,f=l>2?i[2]:void 0;for(c=s.length>3&&typeof c=="function"?(l--,c):void 0,f&&i0(i[0],i[1],f)&&(c=l<3?void 0:c,l=1),t=Object(t);++a<l;){var h=i[a];h&&s(t,h,a,c)}return t})}var bx=Object.prototype;function La(s){var t=s&&s.constructor,i=typeof t=="function"&&t.prototype||bx;return s===i}function xx(s,t){for(var i=-1,a=Array(s);++i<s;)a[i]=t(i);return a}var Ox="[object Arguments]";function vy(s){return bn(s)&&Fi(s)==Ox}var s0=Object.prototype,Rx=s0.hasOwnProperty,Cx=s0.propertyIsEnumerable,Hl=vy((function(){return arguments})())?vy:function(s){return bn(s)&&Rx.call(s,"callee")&&!Cx.call(s,"callee")};function Nx(){return!1}var r0=typeof qe=="object"&&qe&&!qe.nodeType&&qe,Ty=r0&&typeof Ke=="object"&&Ke&&!Ke.nodeType&&Ke,_x=Ty&&Ty.exports===r0,Sy=_x?jn.Buffer:void 0,kx=Sy?Sy.isBuffer:void 0,Ra=kx||Nx,Mx="[object Arguments]",Lx="[object Array]",wx="[object Boolean]",Ix="[object Date]",jx="[object Error]",Ux="[object Function]",Dx="[object Map]",zx="[object Number]",Px="[object Object]",Bx="[object RegExp]",$x="[object Set]",Fx="[object String]",Gx="[object WeakMap]",Hx="[object ArrayBuffer]",Vx="[object DataView]",Yx="[object Float32Array]",qx="[object Float64Array]",Kx="[object Int8Array]",Xx="[object Int16Array]",Zx="[object Int32Array]",Qx="[object Uint8Array]",Wx="[object Uint8ClampedArray]",Jx="[object Uint16Array]",tO="[object Uint32Array]",Pt={};Pt[Yx]=Pt[qx]=Pt[Kx]=Pt[Xx]=Pt[Zx]=Pt[Qx]=Pt[Wx]=Pt[Jx]=Pt[tO]=!0;Pt[Mx]=Pt[Lx]=Pt[Hx]=Pt[wx]=Pt[Vx]=Pt[Ix]=Pt[jx]=Pt[Ux]=Pt[Dx]=Pt[zx]=Pt[Px]=Pt[Bx]=Pt[$x]=Pt[Fx]=Pt[Gx]=!1;function eO(s){return bn(s)&&Sh(s.length)&&!!Pt[Fi(s)]}function Vl(s){return function(t){return s(t)}}var a0=typeof qe=="object"&&qe&&!qe.nodeType&&qe,Aa=a0&&typeof Ke=="object"&&Ke&&!Ke.nodeType&&Ke,nO=Aa&&Aa.exports===a0,Lf=nO&&Qv.process,Bi=(function(){try{var s=Aa&&Aa.require&&Aa.require("util").types;return s||Lf&&Lf.binding&&Lf.binding("util")}catch{}})(),Ey=Bi&&Bi.isTypedArray,Eh=Ey?Vl(Ey):eO,iO=Object.prototype,sO=iO.hasOwnProperty;function o0(s,t){var i=bt(s),a=!i&&Hl(s),l=!i&&!a&&Ra(s),c=!i&&!a&&!l&&Eh(s),f=i||a||l||c,h=f?xx(s.length,String):[],p=h.length;for(var m in s)(t||sO.call(s,m))&&!(f&&(m=="length"||l&&(m=="offset"||m=="parent")||c&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||Fl(m,p)))&&h.push(m);return h}function l0(s,t){return function(i){return s(t(i))}}var rO=l0(Object.keys,Object),aO=Object.prototype,oO=aO.hasOwnProperty;function c0(s){if(!La(s))return rO(s);var t=[];for(var i in Object(s))oO.call(s,i)&&i!="constructor"&&t.push(i);return t}function pn(s){return Un(s)?o0(s):c0(s)}var lO=Object.prototype,cO=lO.hasOwnProperty,Xe=Ax(function(s,t){if(La(t)||Un(t)){vh(t,pn(t),s);return}for(var i in t)cO.call(t,i)&&Gl(s,i,t[i])});function uO(s){var t=[];if(s!=null)for(var i in Object(s))t.push(i);return t}var fO=Object.prototype,hO=fO.hasOwnProperty;function dO(s){if(!dn(s))return uO(s);var t=La(s),i=[];for(var a in s)a=="constructor"&&(t||!hO.call(s,a))||i.push(a);return i}function u0(s){return Un(s)?o0(s,!0):dO(s)}var pO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mO=/^\w*$/;function Ah(s,t){if(bt(s))return!1;var i=typeof s;return i=="number"||i=="symbol"||i=="boolean"||s==null||Pl(s)?!0:mO.test(s)||!pO.test(s)||t!=null&&s in Object(t)}var Ca=gs(Object,"create");function gO(){this.__data__=Ca?Ca(null):{},this.size=0}function yO(s){var t=this.has(s)&&delete this.__data__[s];return this.size-=t?1:0,t}var vO="__lodash_hash_undefined__",TO=Object.prototype,SO=TO.hasOwnProperty;function EO(s){var t=this.__data__;if(Ca){var i=t[s];return i===vO?void 0:i}return SO.call(t,s)?t[s]:void 0}var AO=Object.prototype,bO=AO.hasOwnProperty;function xO(s){var t=this.__data__;return Ca?t[s]!==void 0:bO.call(t,s)}var OO="__lodash_hash_undefined__";function RO(s,t){var i=this.__data__;return this.size+=this.has(s)?0:1,i[s]=Ca&&t===void 0?OO:t,this}function fs(s){var t=-1,i=s==null?0:s.length;for(this.clear();++t<i;){var a=s[t];this.set(a[0],a[1])}}fs.prototype.clear=gO;fs.prototype.delete=yO;fs.prototype.get=EO;fs.prototype.has=xO;fs.prototype.set=RO;function CO(){this.__data__=[],this.size=0}function Yl(s,t){for(var i=s.length;i--;)if(Ma(s[i][0],t))return i;return-1}var NO=Array.prototype,_O=NO.splice;function kO(s){var t=this.__data__,i=Yl(t,s);if(i<0)return!1;var a=t.length-1;return i==a?t.pop():_O.call(t,i,1),--this.size,!0}function MO(s){var t=this.__data__,i=Yl(t,s);return i<0?void 0:t[i][1]}function LO(s){return Yl(this.__data__,s)>-1}function wO(s,t){var i=this.__data__,a=Yl(i,s);return a<0?(++this.size,i.push([s,t])):i[a][1]=t,this}function ci(s){var t=-1,i=s==null?0:s.length;for(this.clear();++t<i;){var a=s[t];this.set(a[0],a[1])}}ci.prototype.clear=CO;ci.prototype.delete=kO;ci.prototype.get=MO;ci.prototype.has=LO;ci.prototype.set=wO;var Na=gs(jn,"Map");function IO(){this.size=0,this.__data__={hash:new fs,map:new(Na||ci),string:new fs}}function jO(s){var t=typeof s;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?s!=="__proto__":s===null}function ql(s,t){var i=s.__data__;return jO(t)?i[typeof t=="string"?"string":"hash"]:i.map}function UO(s){var t=ql(this,s).delete(s);return this.size-=t?1:0,t}function DO(s){return ql(this,s).get(s)}function zO(s){return ql(this,s).has(s)}function PO(s,t){var i=ql(this,s),a=i.size;return i.set(s,t),this.size+=i.size==a?0:1,this}function ui(s){var t=-1,i=s==null?0:s.length;for(this.clear();++t<i;){var a=s[t];this.set(a[0],a[1])}}ui.prototype.clear=IO;ui.prototype.delete=UO;ui.prototype.get=DO;ui.prototype.has=zO;ui.prototype.set=PO;var BO="Expected a function";function bh(s,t){if(typeof s!="function"||t!=null&&typeof t!="function")throw new TypeError(BO);var i=function(){var a=arguments,l=t?t.apply(this,a):a[0],c=i.cache;if(c.has(l))return c.get(l);var f=s.apply(this,a);return i.cache=c.set(l,f)||c,f};return i.cache=new(bh.Cache||ui),i}bh.Cache=ui;var $O=500;function FO(s){var t=bh(s,function(a){return i.size===$O&&i.clear(),a}),i=t.cache;return t}var GO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,HO=/\\(\\)?/g,VO=FO(function(s){var t=[];return s.charCodeAt(0)===46&&t.push(""),s.replace(GO,function(i,a,l,c){t.push(l?c.replace(HO,"$1"):a||i)}),t});function YO(s){return s==null?"":Jv(s)}function Kl(s,t){return bt(s)?s:Ah(s,t)?[s]:VO(YO(s))}function wa(s){if(typeof s=="string"||Pl(s))return s;var t=s+"";return t=="0"&&1/s==-1/0?"-0":t}function xh(s,t){t=Kl(t,s);for(var i=0,a=t.length;s!=null&&i<a;)s=s[wa(t[i++])];return i&&i==a?s:void 0}function qO(s,t,i){var a=s==null?void 0:xh(s,t);return a===void 0?i:a}function Oh(s,t){for(var i=-1,a=t.length,l=s.length;++i<a;)s[l+i]=t[i];return s}var Ay=hn?hn.isConcatSpreadable:void 0;function KO(s){return bt(s)||Hl(s)||!!(Ay&&s&&s[Ay])}function Rh(s,t,i,a,l){var c=-1,f=s.length;for(i||(i=KO),l||(l=[]);++c<f;){var h=s[c];i(h)?Oh(l,h):a||(l[l.length]=h)}return l}function En(s){var t=s==null?0:s.length;return t?Rh(s):[]}var f0=l0(Object.getPrototypeOf,Object);function h0(s,t,i){var a=-1,l=s.length;t<0&&(t=-t>l?0:l+t),i=i>l?l:i,i<0&&(i+=l),l=t>i?0:i-t>>>0,t>>>=0;for(var c=Array(l);++a<l;)c[a]=s[a+t];return c}function XO(s,t,i,a){var l=-1,c=s==null?0:s.length;for(a&&c&&(i=s[++l]);++l<c;)i=t(i,s[l],l,s);return i}function ZO(){this.__data__=new ci,this.size=0}function QO(s){var t=this.__data__,i=t.delete(s);return this.size=t.size,i}function WO(s){return this.__data__.get(s)}function JO(s){return this.__data__.has(s)}var tR=200;function eR(s,t){var i=this.__data__;if(i instanceof ci){var a=i.__data__;if(!Na||a.length<tR-1)return a.push([s,t]),this.size=++i.size,this;i=this.__data__=new ui(a)}return i.set(s,t),this.size=i.size,this}function In(s){var t=this.__data__=new ci(s);this.size=t.size}In.prototype.clear=ZO;In.prototype.delete=QO;In.prototype.get=WO;In.prototype.has=JO;In.prototype.set=eR;function nR(s,t){return s&&vh(t,pn(t),s)}var d0=typeof qe=="object"&&qe&&!qe.nodeType&&qe,by=d0&&typeof Ke=="object"&&Ke&&!Ke.nodeType&&Ke,iR=by&&by.exports===d0,xy=iR?jn.Buffer:void 0,Oy=xy?xy.allocUnsafe:void 0;function sR(s,t){var i=s.length,a=Oy?Oy(i):new s.constructor(i);return s.copy(a),a}function Ch(s,t){for(var i=-1,a=s==null?0:s.length,l=0,c=[];++i<a;){var f=s[i];t(f,i,s)&&(c[l++]=f)}return c}function p0(){return[]}var rR=Object.prototype,aR=rR.propertyIsEnumerable,Ry=Object.getOwnPropertySymbols,Nh=Ry?function(s){return s==null?[]:(s=Object(s),Ch(Ry(s),function(t){return aR.call(s,t)}))}:p0;function oR(s,t){return vh(s,Nh(s),t)}var lR=Object.getOwnPropertySymbols,cR=lR?function(s){for(var t=[];s;)Oh(t,Nh(s)),s=f0(s);return t}:p0;function m0(s,t,i){var a=t(s);return bt(s)?a:Oh(a,i(s))}function Hf(s){return m0(s,pn,Nh)}function uR(s){return m0(s,u0,cR)}var Vf=gs(jn,"DataView"),Yf=gs(jn,"Promise"),fr=gs(jn,"Set"),Cy="[object Map]",fR="[object Object]",Ny="[object Promise]",_y="[object Set]",ky="[object WeakMap]",My="[object DataView]",hR=ms(Vf),dR=ms(Na),pR=ms(Yf),mR=ms(fr),gR=ms(Gf),un=Fi;(Vf&&un(new Vf(new ArrayBuffer(1)))!=My||Na&&un(new Na)!=Cy||Yf&&un(Yf.resolve())!=Ny||fr&&un(new fr)!=_y||Gf&&un(new Gf)!=ky)&&(un=function(s){var t=Fi(s),i=t==fR?s.constructor:void 0,a=i?ms(i):"";if(a)switch(a){case hR:return My;case dR:return Cy;case pR:return Ny;case mR:return _y;case gR:return ky}return t});var yR=Object.prototype,vR=yR.hasOwnProperty;function TR(s){var t=s.length,i=new s.constructor(t);return t&&typeof s[0]=="string"&&vR.call(s,"index")&&(i.index=s.index,i.input=s.input),i}var Rl=jn.Uint8Array;function SR(s){var t=new s.constructor(s.byteLength);return new Rl(t).set(new Rl(s)),t}function ER(s,t){var i=s.buffer;return new s.constructor(i,s.byteOffset,s.byteLength)}var AR=/\w*$/;function bR(s){var t=new s.constructor(s.source,AR.exec(s));return t.lastIndex=s.lastIndex,t}var Ly=hn?hn.prototype:void 0,wy=Ly?Ly.valueOf:void 0;function xR(s){return wy?Object(wy.call(s)):{}}function OR(s,t){var i=s.buffer;return new s.constructor(i,s.byteOffset,s.length)}var RR="[object Boolean]",CR="[object Date]",NR="[object Map]",_R="[object Number]",kR="[object RegExp]",MR="[object Set]",LR="[object String]",wR="[object Symbol]",IR="[object ArrayBuffer]",jR="[object DataView]",UR="[object Float32Array]",DR="[object Float64Array]",zR="[object Int8Array]",PR="[object Int16Array]",BR="[object Int32Array]",$R="[object Uint8Array]",FR="[object Uint8ClampedArray]",GR="[object Uint16Array]",HR="[object Uint32Array]";function VR(s,t,i){var a=s.constructor;switch(t){case IR:return SR(s);case RR:case CR:return new a(+s);case jR:return ER(s);case UR:case DR:case zR:case PR:case BR:case $R:case FR:case GR:case HR:return OR(s);case NR:return new a;case _R:case LR:return new a(s);case kR:return bR(s);case MR:return new a;case wR:return xR(s)}}function YR(s){return typeof s.constructor=="function"&&!La(s)?sx(f0(s)):{}}var qR="[object Map]";function KR(s){return bn(s)&&un(s)==qR}var Iy=Bi&&Bi.isMap,XR=Iy?Vl(Iy):KR,ZR="[object Set]";function QR(s){return bn(s)&&un(s)==ZR}var jy=Bi&&Bi.isSet,WR=jy?Vl(jy):QR,g0="[object Arguments]",JR="[object Array]",tC="[object Boolean]",eC="[object Date]",nC="[object Error]",y0="[object Function]",iC="[object GeneratorFunction]",sC="[object Map]",rC="[object Number]",v0="[object Object]",aC="[object RegExp]",oC="[object Set]",lC="[object String]",cC="[object Symbol]",uC="[object WeakMap]",fC="[object ArrayBuffer]",hC="[object DataView]",dC="[object Float32Array]",pC="[object Float64Array]",mC="[object Int8Array]",gC="[object Int16Array]",yC="[object Int32Array]",vC="[object Uint8Array]",TC="[object Uint8ClampedArray]",SC="[object Uint16Array]",EC="[object Uint32Array]",jt={};jt[g0]=jt[JR]=jt[fC]=jt[hC]=jt[tC]=jt[eC]=jt[dC]=jt[pC]=jt[mC]=jt[gC]=jt[yC]=jt[sC]=jt[rC]=jt[v0]=jt[aC]=jt[oC]=jt[lC]=jt[cC]=jt[vC]=jt[TC]=jt[SC]=jt[EC]=!0;jt[nC]=jt[y0]=jt[uC]=!1;function dl(s,t,i,a,l,c){var f;if(f!==void 0)return f;if(!dn(s))return s;var h=bt(s);if(h)return f=TR(s),ax(s,f);var p=un(s),m=p==y0||p==iC;if(Ra(s))return sR(s);if(p==v0||p==g0||m&&!l)return f=m?{}:YR(s),oR(s,nR(f,s));if(!jt[p])return l?s:{};f=VR(s,p),c||(c=new In);var y=c.get(s);if(y)return y;c.set(s,f),WR(s)?s.forEach(function(x){f.add(dl(x,t,i,x,s,c))}):XR(s)&&s.forEach(function(x,C){f.set(C,dl(x,t,i,C,s,c))});var v=Hf,S=h?void 0:v(s);return t0(S||s,function(x,C){S&&(C=x,x=s[C]),Gl(f,C,dl(x,t,i,C,s,c))}),f}var AC=4;function me(s){return dl(s,AC)}function Ia(s){for(var t=-1,i=s==null?0:s.length,a=0,l=[];++t<i;){var c=s[t];c&&(l[a++]=c)}return l}var bC="__lodash_hash_undefined__";function xC(s){return this.__data__.set(s,bC),this}function OC(s){return this.__data__.has(s)}function dr(s){var t=-1,i=s==null?0:s.length;for(this.__data__=new ui;++t<i;)this.add(s[t])}dr.prototype.add=dr.prototype.push=xC;dr.prototype.has=OC;function T0(s,t){for(var i=-1,a=s==null?0:s.length;++i<a;)if(t(s[i],i,s))return!0;return!1}function _h(s,t){return s.has(t)}var RC=1,CC=2;function S0(s,t,i,a,l,c){var f=i&RC,h=s.length,p=t.length;if(h!=p&&!(f&&p>h))return!1;var m=c.get(s),y=c.get(t);if(m&&y)return m==t&&y==s;var v=-1,S=!0,x=i&CC?new dr:void 0;for(c.set(s,t),c.set(t,s);++v<h;){var C=s[v],k=t[v];if(a)var H=f?a(k,C,v,t,s,c):a(C,k,v,s,t,c);if(H!==void 0){if(H)continue;S=!1;break}if(x){if(!T0(t,function(P,U){if(!_h(x,U)&&(C===P||l(C,P,i,a,c)))return x.push(U)})){S=!1;break}}else if(!(C===k||l(C,k,i,a,c))){S=!1;break}}return c.delete(s),c.delete(t),S}function NC(s){var t=-1,i=Array(s.size);return s.forEach(function(a,l){i[++t]=[l,a]}),i}function kh(s){var t=-1,i=Array(s.size);return s.forEach(function(a){i[++t]=a}),i}var _C=1,kC=2,MC="[object Boolean]",LC="[object Date]",wC="[object Error]",IC="[object Map]",jC="[object Number]",UC="[object RegExp]",DC="[object Set]",zC="[object String]",PC="[object Symbol]",BC="[object ArrayBuffer]",$C="[object DataView]",Uy=hn?hn.prototype:void 0,wf=Uy?Uy.valueOf:void 0;function FC(s,t,i,a,l,c,f){switch(i){case $C:if(s.byteLength!=t.byteLength||s.byteOffset!=t.byteOffset)return!1;s=s.buffer,t=t.buffer;case BC:return!(s.byteLength!=t.byteLength||!c(new Rl(s),new Rl(t)));case MC:case LC:case jC:return Ma(+s,+t);case wC:return s.name==t.name&&s.message==t.message;case UC:case zC:return s==t+"";case IC:var h=NC;case DC:var p=a&_C;if(h||(h=kh),s.size!=t.size&&!p)return!1;var m=f.get(s);if(m)return m==t;a|=kC,f.set(s,t);var y=S0(h(s),h(t),a,l,c,f);return f.delete(s),y;case PC:if(wf)return wf.call(s)==wf.call(t)}return!1}var GC=1,HC=Object.prototype,VC=HC.hasOwnProperty;function YC(s,t,i,a,l,c){var f=i&GC,h=Hf(s),p=h.length,m=Hf(t),y=m.length;if(p!=y&&!f)return!1;for(var v=p;v--;){var S=h[v];if(!(f?S in t:VC.call(t,S)))return!1}var x=c.get(s),C=c.get(t);if(x&&C)return x==t&&C==s;var k=!0;c.set(s,t),c.set(t,s);for(var H=f;++v<p;){S=h[v];var P=s[S],U=t[S];if(a)var I=f?a(U,P,S,t,s,c):a(P,U,S,s,t,c);if(!(I===void 0?P===U||l(P,U,i,a,c):I)){k=!1;break}H||(H=S=="constructor")}if(k&&!H){var F=s.constructor,V=t.constructor;F!=V&&"constructor"in s&&"constructor"in t&&!(typeof F=="function"&&F instanceof F&&typeof V=="function"&&V instanceof V)&&(k=!1)}return c.delete(s),c.delete(t),k}var qC=1,Dy="[object Arguments]",zy="[object Array]",al="[object Object]",KC=Object.prototype,Py=KC.hasOwnProperty;function XC(s,t,i,a,l,c){var f=bt(s),h=bt(t),p=f?zy:un(s),m=h?zy:un(t);p=p==Dy?al:p,m=m==Dy?al:m;var y=p==al,v=m==al,S=p==m;if(S&&Ra(s)){if(!Ra(t))return!1;f=!0,y=!1}if(S&&!y)return c||(c=new In),f||Eh(s)?S0(s,t,i,a,l,c):FC(s,t,p,i,a,l,c);if(!(i&qC)){var x=y&&Py.call(s,"__wrapped__"),C=v&&Py.call(t,"__wrapped__");if(x||C){var k=x?s.value():s,H=C?t.value():t;return c||(c=new In),l(k,H,i,a,c)}}return S?(c||(c=new In),YC(s,t,i,a,l,c)):!1}function Mh(s,t,i,a,l){return s===t?!0:s==null||t==null||!bn(s)&&!bn(t)?s!==s&&t!==t:XC(s,t,i,a,Mh,l)}var ZC=1,QC=2;function WC(s,t,i,a){var l=i.length,c=l;if(s==null)return!c;for(s=Object(s);l--;){var f=i[l];if(f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++l<c;){f=i[l];var h=f[0],p=s[h],m=f[1];if(f[2]){if(p===void 0&&!(h in s))return!1}else{var y=new In,v;if(!(v===void 0?Mh(m,p,ZC|QC,a,y):v))return!1}}return!0}function E0(s){return s===s&&!dn(s)}function JC(s){for(var t=pn(s),i=t.length;i--;){var a=t[i],l=s[a];t[i]=[a,l,E0(l)]}return t}function A0(s,t){return function(i){return i==null?!1:i[s]===t&&(t!==void 0||s in Object(i))}}function tN(s){var t=JC(s);return t.length==1&&t[0][2]?A0(t[0][0],t[0][1]):function(i){return i===s||WC(i,s,t)}}function eN(s,t){return s!=null&&t in Object(s)}function b0(s,t,i){t=Kl(t,s);for(var a=-1,l=t.length,c=!1;++a<l;){var f=wa(t[a]);if(!(c=s!=null&&i(s,f)))break;s=s[f]}return c||++a!=l?c:(l=s==null?0:s.length,!!l&&Sh(l)&&Fl(f,l)&&(bt(s)||Hl(s)))}function nN(s,t){return s!=null&&b0(s,t,eN)}var iN=1,sN=2;function rN(s,t){return Ah(s)&&E0(t)?A0(wa(s),t):function(i){var a=qO(i,s);return a===void 0&&a===t?nN(i,s):Mh(t,a,iN|sN)}}function aN(s){return function(t){return t?.[s]}}function oN(s){return function(t){return xh(t,s)}}function lN(s){return Ah(s)?aN(wa(s)):oN(s)}function Dn(s){return typeof s=="function"?s:s==null?hr:typeof s=="object"?bt(s)?rN(s[0],s[1]):tN(s):lN(s)}function cN(s,t,i,a){for(var l=-1,c=s==null?0:s.length;++l<c;){var f=s[l];t(a,f,i(f),s)}return a}function uN(s){return function(t,i,a){for(var l=-1,c=Object(t),f=a(t),h=f.length;h--;){var p=f[++l];if(i(c[p],p,c)===!1)break}return t}}var fN=uN();function hN(s,t){return s&&fN(s,t,pn)}function dN(s,t){return function(i,a){if(i==null)return i;if(!Un(i))return s(i,a);for(var l=i.length,c=-1,f=Object(i);++c<l&&a(f[c],c,f)!==!1;);return i}}var ys=dN(hN);function pN(s,t,i,a){return ys(s,function(l,c,f){t(a,l,i(l),f)}),a}function mN(s,t){return function(i,a){var l=bt(i)?cN:pN,c=t?t():{};return l(i,s,Dn(a),c)}}var x0=Object.prototype,gN=x0.hasOwnProperty,Lh=Th(function(s,t){s=Object(s);var i=-1,a=t.length,l=a>2?t[2]:void 0;for(l&&i0(t[0],t[1],l)&&(a=1);++i<a;)for(var c=t[i],f=u0(c),h=-1,p=f.length;++h<p;){var m=f[h],y=s[m];(y===void 0||Ma(y,x0[m])&&!gN.call(s,m))&&(s[m]=c[m])}return s});function By(s){return bn(s)&&Un(s)}var yN=200;function vN(s,t,i,a){var l=-1,c=n0,f=!0,h=s.length,p=[],m=t.length;if(!h)return p;t.length>=yN&&(c=_h,f=!1,t=new dr(t));t:for(;++l<h;){var y=s[l],v=y;if(y=y!==0?y:0,f&&v===v){for(var S=m;S--;)if(t[S]===v)continue t;p.push(y)}else c(t,v,a)||p.push(y)}return p}var Xl=Th(function(s,t){return By(s)?vN(s,Rh(t,1,By,!0)):[]});function hs(s){var t=s==null?0:s.length;return t?s[t-1]:void 0}function pe(s,t,i){var a=s==null?0:s.length;return a?(t=t===void 0?1:$l(t),h0(s,t<0?0:t,a)):[]}function _a(s,t,i){var a=s==null?0:s.length;return a?(t=t===void 0?1:$l(t),t=a-t,h0(s,0,t<0?0:t)):[]}function TN(s){return typeof s=="function"?s:hr}function at(s,t){var i=bt(s)?t0:ys;return i(s,TN(t))}function SN(s,t){for(var i=-1,a=s==null?0:s.length;++i<a;)if(!t(s[i],i,s))return!1;return!0}function EN(s,t){var i=!0;return ys(s,function(a,l,c){return i=!!t(a,l,c),i}),i}function An(s,t,i){var a=bt(s)?SN:EN;return a(s,Dn(t))}function O0(s,t){var i=[];return ys(s,function(a,l,c){t(a,l,c)&&i.push(a)}),i}function mn(s,t){var i=bt(s)?Ch:O0;return i(s,Dn(t))}function AN(s){return function(t,i,a){var l=Object(t);if(!Un(t)){var c=Dn(i);t=pn(t),i=function(h){return c(l[h],h,l)}}var f=s(t,i,a);return f>-1?l[c?t[f]:f]:void 0}}var bN=Math.max;function xN(s,t,i){var a=s==null?0:s.length;if(!a)return-1;var l=i==null?0:$l(i);return l<0&&(l=bN(a+l,0)),e0(s,Dn(t),l)}var pr=AN(xN);function xn(s){return s&&s.length?s[0]:void 0}function ON(s,t){var i=-1,a=Un(s)?Array(s.length):[];return ys(s,function(l,c,f){a[++i]=t(l,c,f)}),a}function J(s,t){var i=bt(s)?Bl:ON;return i(s,Dn(t))}function fn(s,t){return Rh(J(s,t))}var RN=Object.prototype,CN=RN.hasOwnProperty,NN=mN(function(s,t,i){CN.call(s,i)?s[i].push(t):yh(s,i,[t])}),_N=Object.prototype,kN=_N.hasOwnProperty;function MN(s,t){return s!=null&&kN.call(s,t)}function rt(s,t){return s!=null&&b0(s,t,MN)}var LN="[object String]";function Me(s){return typeof s=="string"||!bt(s)&&bn(s)&&Fi(s)==LN}function wN(s,t){return Bl(t,function(i){return s[i]})}function re(s){return s==null?[]:wN(s,pn(s))}var IN=Math.max;function Ae(s,t,i,a){s=Un(s)?s:re(s),i=i?$l(i):0;var l=s.length;return i<0&&(i=IN(l+i,0)),Me(s)?i<=l&&s.indexOf(t,i)>-1:!!l&&gh(s,t,i)>-1}function $y(s,t,i){var a=s==null?0:s.length;if(!a)return-1;var l=0;return gh(s,t,l)}var jN="[object Map]",UN="[object Set]",DN=Object.prototype,zN=DN.hasOwnProperty;function Ut(s){if(s==null)return!0;if(Un(s)&&(bt(s)||typeof s=="string"||typeof s.splice=="function"||Ra(s)||Eh(s)||Hl(s)))return!s.length;var t=un(s);if(t==jN||t==UN)return!s.size;if(La(s))return!c0(s).length;for(var i in s)if(zN.call(s,i))return!1;return!0}var PN="[object RegExp]";function BN(s){return bn(s)&&Fi(s)==PN}var Fy=Bi&&Bi.isRegExp,ri=Fy?Vl(Fy):BN;function ai(s){return s===void 0}var $N="Expected a function";function FN(s){if(typeof s!="function")throw new TypeError($N);return function(){var t=arguments;switch(t.length){case 0:return!s.call(this);case 1:return!s.call(this,t[0]);case 2:return!s.call(this,t[0],t[1]);case 3:return!s.call(this,t[0],t[1],t[2])}return!s.apply(this,t)}}function GN(s,t,i,a){if(!dn(s))return s;t=Kl(t,s);for(var l=-1,c=t.length,f=c-1,h=s;h!=null&&++l<c;){var p=wa(t[l]),m=i;if(p==="__proto__"||p==="constructor"||p==="prototype")return s;if(l!=f){var y=h[p];m=void 0,m===void 0&&(m=dn(y)?y:Fl(t[l+1])?[]:{})}Gl(h,p,m),h=h[p]}return s}function HN(s,t,i){for(var a=-1,l=t.length,c={};++a<l;){var f=t[a],h=xh(s,f);i(h,f)&&GN(c,Kl(f,s),h)}return c}function On(s,t){if(s==null)return{};var i=Bl(uR(s),function(a){return[a]});return t=Dn(t),HN(s,i,function(a,l){return t(a,l[0])})}function VN(s,t,i,a,l){return l(s,function(c,f,h){i=a?(a=!1,c):t(i,c,f,h)}),i}function Ze(s,t,i){var a=bt(s)?XO:VN,l=arguments.length<3;return a(s,Dn(t),i,l,ys)}function Zl(s,t){var i=bt(s)?Ch:O0;return i(s,FN(Dn(t)))}function YN(s,t){var i;return ys(s,function(a,l,c){return i=t(a,l,c),!i}),!!i}function R0(s,t,i){var a=bt(s)?T0:YN;return a(s,Dn(t))}var qN=1/0,KN=fr&&1/kh(new fr([,-0]))[1]==qN?function(s){return new fr(s)}:se,XN=200;function ZN(s,t,i){var a=-1,l=n0,c=s.length,f=!0,h=[],p=h;if(c>=XN){var m=KN(s);if(m)return kh(m);f=!1,l=_h,p=new dr}else p=h;t:for(;++a<c;){var y=s[a],v=y;if(y=y!==0?y:0,f&&v===v){for(var S=p.length;S--;)if(p[S]===v)continue t;h.push(y)}else l(p,v,i)||(p!==h&&p.push(v),h.push(y))}return h}function wh(s){return s&&s.length?ZN(s):[]}function qf(s){console&&console.error&&console.error(`Error: ${s}`)}function C0(s){console&&console.warn&&console.warn(`Warning: ${s}`)}function N0(s){const t=new Date().getTime(),i=s();return{time:new Date().getTime()-t,value:i}}function _0(s){function t(){}t.prototype=s;const i=new t;function a(){return typeof i.bar}return a(),a(),s}function QN(s){return WN(s)?s.LABEL:s.name}function WN(s){return Me(s.LABEL)&&s.LABEL!==""}class zn{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),at(this.definition,i=>{i.accept(t)})}}class Qe extends zn{constructor(t){super([]),this.idx=1,Xe(this,On(t,i=>i!==void 0))}set definition(t){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(t){t.visit(this)}}class mr extends zn{constructor(t){super(t.definition),this.orgText="",Xe(this,On(t,i=>i!==void 0))}}class Le extends zn{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,Xe(this,On(t,i=>i!==void 0))}}class ke extends zn{constructor(t){super(t.definition),this.idx=1,Xe(this,On(t,i=>i!==void 0))}}class Pn extends zn{constructor(t){super(t.definition),this.idx=1,Xe(this,On(t,i=>i!==void 0))}}class Bn extends zn{constructor(t){super(t.definition),this.idx=1,Xe(this,On(t,i=>i!==void 0))}}class ae extends zn{constructor(t){super(t.definition),this.idx=1,Xe(this,On(t,i=>i!==void 0))}}class Rn extends zn{constructor(t){super(t.definition),this.idx=1,Xe(this,On(t,i=>i!==void 0))}}class Cn extends zn{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Xe(this,On(t,i=>i!==void 0))}}class Gt{constructor(t){this.idx=1,Xe(this,On(t,i=>i!==void 0))}accept(t){t.visit(this)}}function JN(s){return J(s,pl)}function pl(s){function t(i){return J(i,pl)}if(s instanceof Qe){const i={type:"NonTerminal",name:s.nonTerminalName,idx:s.idx};return Me(s.label)&&(i.label=s.label),i}else{if(s instanceof Le)return{type:"Alternative",definition:t(s.definition)};if(s instanceof ke)return{type:"Option",idx:s.idx,definition:t(s.definition)};if(s instanceof Pn)return{type:"RepetitionMandatory",idx:s.idx,definition:t(s.definition)};if(s instanceof Bn)return{type:"RepetitionMandatoryWithSeparator",idx:s.idx,separator:pl(new Gt({terminalType:s.separator})),definition:t(s.definition)};if(s instanceof Rn)return{type:"RepetitionWithSeparator",idx:s.idx,separator:pl(new Gt({terminalType:s.separator})),definition:t(s.definition)};if(s instanceof ae)return{type:"Repetition",idx:s.idx,definition:t(s.definition)};if(s instanceof Cn)return{type:"Alternation",idx:s.idx,definition:t(s.definition)};if(s instanceof Gt){const i={type:"Terminal",name:s.terminalType.name,label:QN(s.terminalType),idx:s.idx};Me(s.label)&&(i.terminalLabel=s.label);const a=s.terminalType.PATTERN;return s.terminalType.PATTERN&&(i.pattern=ri(a)?a.source:a),i}else{if(s instanceof mr)return{type:"Rule",name:s.name,orgText:s.orgText,definition:t(s.definition)};throw Error("non exhaustive match")}}}class gr{visit(t){const i=t;switch(i.constructor){case Qe:return this.visitNonTerminal(i);case Le:return this.visitAlternative(i);case ke:return this.visitOption(i);case Pn:return this.visitRepetitionMandatory(i);case Bn:return this.visitRepetitionMandatoryWithSeparator(i);case Rn:return this.visitRepetitionWithSeparator(i);case ae:return this.visitRepetition(i);case Cn:return this.visitAlternation(i);case Gt:return this.visitTerminal(i);case mr:return this.visitRule(i);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}function t_(s){return s instanceof Le||s instanceof ke||s instanceof ae||s instanceof Pn||s instanceof Bn||s instanceof Rn||s instanceof Gt||s instanceof mr}function Cl(s,t=[]){return s instanceof ke||s instanceof ae||s instanceof Rn?!0:s instanceof Cn?R0(s.definition,a=>Cl(a,t)):s instanceof Qe&&Ae(t,s)?!1:s instanceof zn?(s instanceof Qe&&t.push(s),An(s.definition,a=>Cl(a,t))):!1}function e_(s){return s instanceof Cn}function wn(s){if(s instanceof Qe)return"SUBRULE";if(s instanceof ke)return"OPTION";if(s instanceof Cn)return"OR";if(s instanceof Pn)return"AT_LEAST_ONE";if(s instanceof Bn)return"AT_LEAST_ONE_SEP";if(s instanceof Rn)return"MANY_SEP";if(s instanceof ae)return"MANY";if(s instanceof Gt)return"CONSUME";throw Error("non exhaustive match")}class Ql{walk(t,i=[]){at(t.definition,(a,l)=>{const c=pe(t.definition,l+1);if(a instanceof Qe)this.walkProdRef(a,c,i);else if(a instanceof Gt)this.walkTerminal(a,c,i);else if(a instanceof Le)this.walkFlat(a,c,i);else if(a instanceof ke)this.walkOption(a,c,i);else if(a instanceof Pn)this.walkAtLeastOne(a,c,i);else if(a instanceof Bn)this.walkAtLeastOneSep(a,c,i);else if(a instanceof Rn)this.walkManySep(a,c,i);else if(a instanceof ae)this.walkMany(a,c,i);else if(a instanceof Cn)this.walkOr(a,c,i);else throw Error("non exhaustive match")})}walkTerminal(t,i,a){}walkProdRef(t,i,a){}walkFlat(t,i,a){const l=i.concat(a);this.walk(t,l)}walkOption(t,i,a){const l=i.concat(a);this.walk(t,l)}walkAtLeastOne(t,i,a){const l=[new ke({definition:t.definition})].concat(i,a);this.walk(t,l)}walkAtLeastOneSep(t,i,a){const l=Gy(t,i,a);this.walk(t,l)}walkMany(t,i,a){const l=[new ke({definition:t.definition})].concat(i,a);this.walk(t,l)}walkManySep(t,i,a){const l=Gy(t,i,a);this.walk(t,l)}walkOr(t,i,a){const l=i.concat(a);at(t.definition,c=>{const f=new Le({definition:[c]});this.walk(f,l)})}}function Gy(s,t,i){return[new ke({definition:[new Gt({terminalType:s.separator})].concat(s.definition)})].concat(t,i)}function ja(s){if(s instanceof Qe)return ja(s.referencedRule);if(s instanceof Gt)return s_(s);if(t_(s))return n_(s);if(e_(s))return i_(s);throw Error("non exhaustive match")}function n_(s){let t=[];const i=s.definition;let a=0,l=i.length>a,c,f=!0;for(;l&&f;)c=i[a],f=Cl(c),t=t.concat(ja(c)),a=a+1,l=i.length>a;return wh(t)}function i_(s){const t=J(s.definition,i=>ja(i));return wh(En(t))}function s_(s){return[s.terminalType]}const k0="_~IN~_";class r_ extends Ql{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,i,a){}walkProdRef(t,i,a){const l=o_(t.referencedRule,t.idx)+this.topProd.name,c=i.concat(a),f=new Le({definition:c}),h=ja(f);this.follows[l]=h}}function a_(s){const t={};return at(s,i=>{const a=new r_(i).startWalking();Xe(t,a)}),t}function o_(s,t){return s.name+t+k0}function ot(s){return s.charCodeAt(0)}function If(s,t){Array.isArray(s)?s.forEach(function(i){t.push(i)}):t.push(s)}function da(s,t){if(s[t]===!0)throw"duplicate flag "+t;s[t],s[t]=!0}function ir(s){if(s===void 0)throw Error("Internal Error - Should never get here!");return!0}function l_(){throw Error("Internal Error - Should never get here!")}function Hy(s){return s.type==="Character"}const Nl=[];for(let s=ot("0");s<=ot("9");s++)Nl.push(s);const _l=[ot("_")].concat(Nl);for(let s=ot("a");s<=ot("z");s++)_l.push(s);for(let s=ot("A");s<=ot("Z");s++)_l.push(s);const Vy=[ot(" "),ot("\f"),ot(`
`),ot("\r"),ot("	"),ot("\v"),ot("	"),ot(""),ot(""),ot(""),ot(""),ot(""),ot(""),ot(""),ot(""),ot(""),ot(""),ot(""),ot(""),ot(""),ot("\u2028"),ot("\u2029"),ot(""),ot(""),ot(""),ot("\uFEFF")],c_=/[0-9a-fA-F]/,ol=/[0-9]/,u_=/[1-9]/;class f_{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx}pattern(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");const i=this.disjunction();this.consumeChar("/");const a={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":da(a,"global");break;case"i":da(a,"ignoreCase");break;case"m":da(a,"multiLine");break;case"u":da(a,"unicode");break;case"y":da(a,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:a,value:i,loc:this.loc(0)}}disjunction(){const t=[],i=this.idx;for(t.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(i)}}alternative(){const t=[],i=this.idx;for(;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(i)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let i;switch(this.popChar()){case"=":i="Lookahead";break;case"!":i="NegativeLookahead";break;case"<":{switch(this.popChar()){case"=":i="Lookbehind";break;case"!":i="NegativeLookbehind"}break}}ir(i);const a=this.disjunction();return this.consumeChar(")"),{type:i,value:a,loc:this.loc(t)}}return l_()}quantifier(t=!1){let i;const a=this.idx;switch(this.popChar()){case"*":i={atLeast:0,atMost:1/0};break;case"+":i={atLeast:1,atMost:1/0};break;case"?":i={atLeast:0,atMost:1};break;case"{":const l=this.integerIncludingZero();switch(this.popChar()){case"}":i={atLeast:l,atMost:l};break;case",":let c;this.isDigit()?(c=this.integerIncludingZero(),i={atLeast:l,atMost:c}):i={atLeast:l,atMost:1/0},this.consumeChar("}");break}if(t===!0&&i===void 0)return;ir(i);break}if(!(t===!0&&i===void 0)&&ir(i))return this.peekChar(0)==="?"?(this.consumeChar("?"),i.greedy=!1):i.greedy=!0,i.type="Quantifier",i.loc=this.loc(a),i}atom(){let t;const i=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group();break}if(t===void 0&&this.isPatternCharacter()&&(t=this.patternCharacter()),ir(t))return t.loc=this.loc(i),this.isQuantifier()&&(t.quantifier=this.quantifier()),t}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[ot(`
`),ot("\r"),ot("\u2028"),ot("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let t,i=!1;switch(this.popChar()){case"d":t=Nl;break;case"D":t=Nl,i=!0;break;case"s":t=Vy;break;case"S":t=Vy,i=!0;break;case"w":t=_l;break;case"W":t=_l,i=!0;break}if(ir(t))return{type:"Set",value:t,complement:i}}controlEscapeAtom(){let t;switch(this.popChar()){case"f":t=ot("\f");break;case"n":t=ot(`
`);break;case"r":t=ot("\r");break;case"t":t=ot("	");break;case"v":t=ot("\v");break}if(ir(t))return{type:"Character",value:t}}controlLetterEscapeAtom(){this.consumeChar("c");const t=this.popChar();if(/[a-zA-Z]/.test(t)===!1)throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:ot("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const t=this.popChar();return{type:"Character",value:ot(t)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const t=this.popChar();return{type:"Character",value:ot(t)}}}characterClass(){const t=[];let i=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),i=!0);this.isClassAtom();){const a=this.classAtom();if(a.type,Hy(a)&&this.isRangeDash()){this.consumeChar("-");const l=this.classAtom();if(l.type,Hy(l)){if(l.value<a.value)throw Error("Range out of order in character class");t.push({from:a.value,to:l.value})}else If(a.value,t),t.push(ot("-")),If(l.value,t)}else If(a.value,t)}return this.consumeChar("]"),{type:"Set",complement:i,value:t}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:ot("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let t=!0;this.consumeChar("("),this.peekChar(0)==="?"?(this.consumeChar("?"),this.consumeChar(":"),t=!1):this.groupIdx++;const i=this.disjunction();this.consumeChar(")");const a={type:"Group",capturing:t,value:i};return t&&(a.idx=this.groupIdx),a}positiveInteger(){let t=this.popChar();if(u_.test(t)===!1)throw Error("Expecting a positive integer");for(;ol.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}integerIncludingZero(){let t=this.popChar();if(ol.test(t)===!1)throw Error("Expecting an integer");for(;ol.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}patternCharacter(){const t=this.popChar();switch(t){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:ot(t)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return ol.test(this.peekChar(0))}isClassAtom(t=0){switch(this.peekChar(t)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!"||this.peekChar(2)==="<"&&(this.peekChar(3)==="="||this.peekChar(3)==="!"));default:return!1}}isQuantifier(){const t=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(t)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(t){let i="";for(let l=0;l<t;l++){const c=this.popChar();if(c_.test(c)===!1)throw Error("Expecting a HexDecimal digits");i+=c}return{type:"Character",value:parseInt(i,16)}}peekChar(t=0){return this.input[this.idx+t]}popChar(){const t=this.peekChar(0);return this.consumeChar(void 0),t}consumeChar(t){if(t!==void 0&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(t){return{begin:t,end:this.idx}}}class Ih{visitChildren(t){for(const i in t){const a=t[i];t.hasOwnProperty(i)&&(a.type!==void 0?this.visit(a):Array.isArray(a)&&a.forEach(l=>{this.visit(l)},this))}}visit(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Lookbehind":this.visitLookbehind(t);break;case"NegativeLookbehind":this.visitNegativeLookbehind(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t);break}this.visitChildren(t)}visitPattern(t){}visitFlags(t){}visitDisjunction(t){}visitAlternative(t){}visitStartAnchor(t){}visitEndAnchor(t){}visitWordBoundary(t){}visitNonWordBoundary(t){}visitLookahead(t){}visitNegativeLookahead(t){}visitLookbehind(t){}visitNegativeLookbehind(t){}visitCharacter(t){}visitSet(t){}visitGroup(t){}visitGroupBackReference(t){}visitQuantifier(t){}}let ml={};const h_=new f_;function Wl(s){const t=s.toString();if(ml.hasOwnProperty(t))return ml[t];{const i=h_.pattern(t);return ml[t]=i,i}}function d_(){ml={}}const M0="Complement Sets are not supported for first char optimization",kl=`Unable to use "first char" lexer optimizations:
`;function p_(s,t=!1){try{const i=Wl(s);return Kf(i.value,{},i.flags.ignoreCase)}catch(i){if(i.message===M0)t&&C0(`${kl}	Unable to optimize: < ${s.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let a="";t&&(a=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),qf(`${kl}
	Failed parsing: < ${s.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+a)}}return[]}function Kf(s,t,i){switch(s.type){case"Disjunction":for(let l=0;l<s.value.length;l++)Kf(s.value[l],t,i);break;case"Alternative":const a=s.value;for(let l=0;l<a.length;l++){const c=a[l];switch(c.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"Lookbehind":case"NegativeLookbehind":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const f=c;switch(f.type){case"Character":ll(f.value,t,i);break;case"Set":if(f.complement===!0)throw Error(M0);at(f.value,p=>{if(typeof p=="number")ll(p,t,i);else{const m=p;if(i===!0)for(let y=m.from;y<=m.to;y++)ll(y,t,i);else{for(let y=m.from;y<=m.to&&y<Ta;y++)ll(y,t,i);if(m.to>=Ta){const y=m.from>=Ta?m.from:Ta,v=m.to,S=$i(y),x=$i(v);for(let C=S;C<=x;C++)t[C]=C}}}});break;case"Group":Kf(f.value,t,i);break;default:throw Error("Non Exhaustive Match")}const h=f.quantifier!==void 0&&f.quantifier.atLeast===0;if(f.type==="Group"&&Xf(f)===!1||f.type!=="Group"&&h===!1)break}break;default:throw Error("non exhaustive match!")}return re(t)}function ll(s,t,i){const a=$i(s);t[a]=a,i===!0&&m_(s,t)}function m_(s,t){const i=String.fromCharCode(s),a=i.toUpperCase();if(a!==i){const l=$i(a.charCodeAt(0));t[l]=l}else{const l=i.toLowerCase();if(l!==i){const c=$i(l.charCodeAt(0));t[c]=c}}}function Yy(s,t){return pr(s.value,i=>{if(typeof i=="number")return Ae(t,i);{const a=i;return pr(t,l=>a.from<=l&&l<=a.to)!==void 0}})}function Xf(s){const t=s.quantifier;return t&&t.atLeast===0?!0:s.value?bt(s.value)?An(s.value,Xf):Xf(s.value):!1}class g_ extends Ih{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(this.found!==!0){switch(t.type){case"Lookahead":this.visitLookahead(t);return;case"NegativeLookahead":this.visitNegativeLookahead(t);return;case"Lookbehind":this.visitLookbehind(t);return;case"NegativeLookbehind":this.visitNegativeLookbehind(t);return}super.visitChildren(t)}}visitCharacter(t){Ae(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?Yy(t,this.targetCharCodes)===void 0&&(this.found=!0):Yy(t,this.targetCharCodes)!==void 0&&(this.found=!0)}}function jh(s,t){if(t instanceof RegExp){const i=Wl(t),a=new g_(s);return a.visit(i),a.found}else return pr(t,i=>Ae(s,i.charCodeAt(0)))!==void 0}const ds="PATTERN",va="defaultMode",cl="modes";let L0=typeof new RegExp("(?:)").sticky=="boolean";function y_(s,t){t=Lh(t,{useSticky:L0,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(U,I)=>I()});const i=t.tracer;i("initCharCodeToOptimizedIndexMap",()=>{$_()});let a;i("Reject Lexer.NA",()=>{a=Zl(s,U=>U[ds]===Se.NA)});let l=!1,c;i("Transform Patterns",()=>{l=!1,c=J(a,U=>{const I=U[ds];if(ri(I)){const F=I.source;return F.length===1&&F!=="^"&&F!=="$"&&F!=="."&&!I.ignoreCase?F:F.length===2&&F[0]==="\\"&&!Ae(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],F[1])?F[1]:t.useSticky?Ky(I):qy(I)}else{if(li(I))return l=!0,{exec:I};if(typeof I=="object")return l=!0,I;if(typeof I=="string"){if(I.length===1)return I;{const F=I.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),V=new RegExp(F);return t.useSticky?Ky(V):qy(V)}}else throw Error("non exhaustive match")}})});let f,h,p,m,y;i("misc mapping",()=>{f=J(a,U=>U.tokenTypeIdx),h=J(a,U=>{const I=U.GROUP;if(I!==Se.SKIPPED){if(Me(I))return I;if(ai(I))return!1;throw Error("non exhaustive match")}}),p=J(a,U=>{const I=U.LONGER_ALT;if(I)return bt(I)?J(I,V=>$y(a,V)):[$y(a,I)]}),m=J(a,U=>U.PUSH_MODE),y=J(a,U=>rt(U,"POP_MODE"))});let v;i("Line Terminator Handling",()=>{const U=j0(t.lineTerminatorCharacters);v=J(a,I=>!1),t.positionTracking!=="onlyOffset"&&(v=J(a,I=>rt(I,"LINE_BREAKS")?!!I.LINE_BREAKS:I0(I,U)===!1&&jh(U,I.PATTERN)))});let S,x,C,k;i("Misc Mapping #2",()=>{S=J(a,w0),x=J(c,z_),C=Ze(a,(U,I)=>{const F=I.GROUP;return Me(F)&&F!==Se.SKIPPED&&(U[F]=[]),U},{}),k=J(c,(U,I)=>({pattern:c[I],longerAlt:p[I],canLineTerminator:v[I],isCustom:S[I],short:x[I],group:h[I],push:m[I],pop:y[I],tokenTypeIdx:f[I],tokenType:a[I]}))});let H=!0,P=[];return t.safeMode||i("First Char Optimization",()=>{P=Ze(a,(U,I,F)=>{if(typeof I.PATTERN=="string"){const V=I.PATTERN.charCodeAt(0),B=$i(V);jf(U,B,k[F])}else if(bt(I.START_CHARS_HINT)){let V;at(I.START_CHARS_HINT,B=>{const G=typeof B=="string"?B.charCodeAt(0):B,X=$i(G);V!==X&&(V=X,jf(U,X,k[F]))})}else if(ri(I.PATTERN))if(I.PATTERN.unicode)H=!1,t.ensureOptimizations&&qf(`${kl}	Unable to analyze < ${I.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const V=p_(I.PATTERN,t.ensureOptimizations);Ut(V)&&(H=!1),at(V,B=>{jf(U,B,k[F])})}else t.ensureOptimizations&&qf(`${kl}	TokenType: <${I.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),H=!1;return U},[])}),{emptyGroups:C,patternIdxToConfig:k,charCodeToPatternIdxToConfig:P,hasCustom:l,canBeOptimized:H}}function v_(s,t){let i=[];const a=S_(s);i=i.concat(a.errors);const l=E_(a.valid),c=l.valid;return i=i.concat(l.errors),i=i.concat(T_(c)),i=i.concat(__(c)),i=i.concat(k_(c,t)),i=i.concat(M_(c)),i}function T_(s){let t=[];const i=mn(s,a=>ri(a[ds]));return t=t.concat(b_(i)),t=t.concat(R_(i)),t=t.concat(C_(i)),t=t.concat(N_(i)),t=t.concat(x_(i)),t}function S_(s){const t=mn(s,l=>!rt(l,ds)),i=J(t,l=>({message:"Token Type: ->"+l.name+"<- missing static 'PATTERN' property",type:Kt.MISSING_PATTERN,tokenTypes:[l]})),a=Xl(s,t);return{errors:i,valid:a}}function E_(s){const t=mn(s,l=>{const c=l[ds];return!ri(c)&&!li(c)&&!rt(c,"exec")&&!Me(c)}),i=J(t,l=>({message:"Token Type: ->"+l.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Kt.INVALID_PATTERN,tokenTypes:[l]})),a=Xl(s,t);return{errors:i,valid:a}}const A_=/[^\\][$]/;function b_(s){class t extends Ih{constructor(){super(...arguments),this.found=!1}visitEndAnchor(c){this.found=!0}}const i=mn(s,l=>{const c=l.PATTERN;try{const f=Wl(c),h=new t;return h.visit(f),h.found}catch{return A_.test(c.source)}});return J(i,l=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+l.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Kt.EOI_ANCHOR_FOUND,tokenTypes:[l]}))}function x_(s){const t=mn(s,a=>a.PATTERN.test(""));return J(t,a=>({message:"Token Type: ->"+a.name+"<- static 'PATTERN' must not match an empty string",type:Kt.EMPTY_MATCH_PATTERN,tokenTypes:[a]}))}const O_=/[^\\[][\^]|^\^/;function R_(s){class t extends Ih{constructor(){super(...arguments),this.found=!1}visitStartAnchor(c){this.found=!0}}const i=mn(s,l=>{const c=l.PATTERN;try{const f=Wl(c),h=new t;return h.visit(f),h.found}catch{return O_.test(c.source)}});return J(i,l=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+l.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Kt.SOI_ANCHOR_FOUND,tokenTypes:[l]}))}function C_(s){const t=mn(s,a=>{const l=a[ds];return l instanceof RegExp&&(l.multiline||l.global)});return J(t,a=>({message:"Token Type: ->"+a.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Kt.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[a]}))}function N_(s){const t=[];let i=J(s,c=>Ze(s,(f,h)=>(c.PATTERN.source===h.PATTERN.source&&!Ae(t,h)&&h.PATTERN!==Se.NA&&(t.push(h),f.push(h)),f),[]));i=Ia(i);const a=mn(i,c=>c.length>1);return J(a,c=>{const f=J(c,p=>p.name);return{message:`The same RegExp pattern ->${xn(c).PATTERN}<-has been used in all of the following Token Types: ${f.join(", ")} <-`,type:Kt.DUPLICATE_PATTERNS_FOUND,tokenTypes:c}})}function __(s){const t=mn(s,a=>{if(!rt(a,"GROUP"))return!1;const l=a.GROUP;return l!==Se.SKIPPED&&l!==Se.NA&&!Me(l)});return J(t,a=>({message:"Token Type: ->"+a.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Kt.INVALID_GROUP_TYPE_FOUND,tokenTypes:[a]}))}function k_(s,t){const i=mn(s,l=>l.PUSH_MODE!==void 0&&!Ae(t,l.PUSH_MODE));return J(i,l=>({message:`Token Type: ->${l.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${l.PUSH_MODE}<-which does not exist`,type:Kt.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[l]}))}function M_(s){const t=[],i=Ze(s,(a,l,c)=>{const f=l.PATTERN;return f===Se.NA||(Me(f)?a.push({str:f,idx:c,tokenType:l}):ri(f)&&w_(f)&&a.push({str:f.source,idx:c,tokenType:l})),a},[]);return at(s,(a,l)=>{at(i,({str:c,idx:f,tokenType:h})=>{if(l<f&&L_(c,a.PATTERN)){const p=`Token: ->${h.name}<- can never be matched.
Because it appears AFTER the Token Type ->${a.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:p,type:Kt.UNREACHABLE_PATTERN,tokenTypes:[a,h]})}})}),t}function L_(s,t){if(ri(t)){if(I_(t))return!1;const i=t.exec(s);return i!==null&&i.index===0}else{if(li(t))return t(s,0,[],{});if(rt(t,"exec"))return t.exec(s,0,[],{});if(typeof t=="string")return t===s;throw Error("non exhaustive match")}}function w_(s){return pr([".","\\","[","]","|","^","$","(",")","?","*","+","{"],i=>s.source.indexOf(i)!==-1)===void 0}function I_(s){return/(\(\?=)|(\(\?!)|(\(\?<=)|(\(\?<!)/.test(s.source)}function qy(s){const t=s.ignoreCase?"i":"";return new RegExp(`^(?:${s.source})`,t)}function Ky(s){const t=s.ignoreCase?"iy":"y";return new RegExp(`${s.source}`,t)}function j_(s,t,i){const a=[];return rt(s,va)||a.push({message:"A MultiMode Lexer cannot be initialized without a <"+va+`> property in its definition
`,type:Kt.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),rt(s,cl)||a.push({message:"A MultiMode Lexer cannot be initialized without a <"+cl+`> property in its definition
`,type:Kt.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),rt(s,cl)&&rt(s,va)&&!rt(s.modes,s.defaultMode)&&a.push({message:`A MultiMode Lexer cannot be initialized with a ${va}: <${s.defaultMode}>which does not exist
`,type:Kt.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),rt(s,cl)&&at(s.modes,(l,c)=>{at(l,(f,h)=>{if(ai(f))a.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${c}> at index: <${h}>
`,type:Kt.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(rt(f,"LONGER_ALT")){const p=bt(f.LONGER_ALT)?f.LONGER_ALT:[f.LONGER_ALT];at(p,m=>{!ai(m)&&!Ae(l,m)&&a.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${m.name}> on token <${f.name}> outside of mode <${c}>
`,type:Kt.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),a}function U_(s,t,i){const a=[];let l=!1;const c=Ia(En(re(s.modes))),f=Zl(c,p=>p[ds]===Se.NA),h=j0(i);return t&&at(f,p=>{const m=I0(p,h);if(m!==!1){const v={message:B_(p,m),type:m.issue,tokenType:p};a.push(v)}else rt(p,"LINE_BREAKS")?p.LINE_BREAKS===!0&&(l=!0):jh(h,p.PATTERN)&&(l=!0)}),t&&!l&&a.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Kt.NO_LINE_BREAKS_FLAGS}),a}function D_(s){const t={},i=pn(s);return at(i,a=>{const l=s[a];if(bt(l))t[a]=[];else throw Error("non exhaustive match")}),t}function w0(s){const t=s.PATTERN;if(ri(t))return!1;if(li(t))return!0;if(rt(t,"exec"))return!0;if(Me(t))return!1;throw Error("non exhaustive match")}function z_(s){return Me(s)&&s.length===1?s.charCodeAt(0):!1}const P_={test:function(s){const t=s.length;for(let i=this.lastIndex;i<t;i++){const a=s.charCodeAt(i);if(a===10)return this.lastIndex=i+1,!0;if(a===13)return s.charCodeAt(i+1)===10?this.lastIndex=i+2:this.lastIndex=i+1,!0}return!1},lastIndex:0};function I0(s,t){if(rt(s,"LINE_BREAKS"))return!1;if(ri(s.PATTERN)){try{jh(t,s.PATTERN)}catch(i){return{issue:Kt.IDENTIFY_TERMINATOR,errMsg:i.message}}return!1}else{if(Me(s.PATTERN))return!1;if(w0(s))return{issue:Kt.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function B_(s,t){if(t.issue===Kt.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${s.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===Kt.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${s.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function j0(s){return J(s,i=>Me(i)?i.charCodeAt(0):i)}function jf(s,t,i){s[t]===void 0?s[t]=[i]:s[t].push(i)}const Ta=256;let gl=[];function $i(s){return s<Ta?s:gl[s]}function $_(){if(Ut(gl)){gl=new Array(65536);for(let s=0;s<65536;s++)gl[s]=s>255?255+~~(s/255):s}}function Ua(s,t){const i=s.tokenTypeIdx;return i===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[i]===!0}function Ml(s,t){return s.tokenTypeIdx===t.tokenTypeIdx}let Xy=1;const U0={};function Da(s){const t=F_(s);G_(t),V_(t),H_(t),at(t,i=>{i.isParent=i.categoryMatches.length>0})}function F_(s){let t=me(s),i=s,a=!0;for(;a;){i=Ia(En(J(i,c=>c.CATEGORIES)));const l=Xl(i,t);t=t.concat(l),Ut(l)?a=!1:i=l}return t}function G_(s){at(s,t=>{z0(t)||(U0[Xy]=t,t.tokenTypeIdx=Xy++),Zy(t)&&!bt(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),Zy(t)||(t.CATEGORIES=[]),Y_(t)||(t.categoryMatches=[]),q_(t)||(t.categoryMatchesMap={})})}function H_(s){at(s,t=>{t.categoryMatches=[],at(t.categoryMatchesMap,(i,a)=>{t.categoryMatches.push(U0[a].tokenTypeIdx)})})}function V_(s){at(s,t=>{D0([],t)})}function D0(s,t){at(s,i=>{t.categoryMatchesMap[i.tokenTypeIdx]=!0}),at(t.CATEGORIES,i=>{const a=s.concat(t);Ae(a,i)||D0(a,i)})}function z0(s){return rt(s,"tokenTypeIdx")}function Zy(s){return rt(s,"CATEGORIES")}function Y_(s){return rt(s,"categoryMatches")}function q_(s){return rt(s,"categoryMatchesMap")}function K_(s){return rt(s,"tokenTypeIdx")}const X_={buildUnableToPopLexerModeMessage(s){return`Unable to pop Lexer Mode after encountering Token ->${s.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(s,t,i,a,l,c){return`unexpected character: ->${s.charAt(t)}<- at offset: ${t}, skipped ${i} characters.`}};var Kt;(function(s){s[s.MISSING_PATTERN=0]="MISSING_PATTERN",s[s.INVALID_PATTERN=1]="INVALID_PATTERN",s[s.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",s[s.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",s[s.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",s[s.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",s[s.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",s[s.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",s[s.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",s[s.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",s[s.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",s[s.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",s[s.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",s[s.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",s[s.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",s[s.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",s[s.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",s[s.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Kt||(Kt={}));const Sa={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:X_,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Sa);class Se{constructor(t,i=Sa){if(this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(l,c)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const f=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${f}--> <${l}>`);const{time:h,value:p}=N0(c),m=h>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&m(`${f}<-- <${l}> time: ${h}ms`),this.traceInitIndent--,p}else return c()},typeof i=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Xe({},Sa,i);const a=this.config.traceInitPerf;a===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof a=="number"&&(this.traceInitMaxIdent=a,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let l,c=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Sa.lineTerminatorsPattern)this.config.lineTerminatorsPattern=P_;else if(this.config.lineTerminatorCharacters===Sa.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(i.safeMode&&i.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),bt(t)?l={modes:{defaultMode:me(t)},defaultMode:va}:(c=!1,l=me(t))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(j_(l,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(U_(l,this.trackStartLines,this.config.lineTerminatorCharacters))})),l.modes=l.modes?l.modes:{},at(l.modes,(h,p)=>{l.modes[p]=Zl(h,m=>ai(m))});const f=pn(l.modes);if(at(l.modes,(h,p)=>{this.TRACE_INIT(`Mode: <${p}> processing`,()=>{if(this.modes.push(p),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(v_(h,f))}),Ut(this.lexerDefinitionErrors)){Da(h);let m;this.TRACE_INIT("analyzeTokenTypes",()=>{m=y_(h,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:i.positionTracking,ensureOptimizations:i.ensureOptimizations,safeMode:i.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[p]=m.patternIdxToConfig,this.charCodeToPatternIdxToConfig[p]=m.charCodeToPatternIdxToConfig,this.emptyGroups=Xe({},this.emptyGroups,m.emptyGroups),this.hasCustom=m.hasCustom||this.hasCustom,this.canModeBeOptimized[p]=m.canBeOptimized}})}),this.defaultMode=l.defaultMode,!Ut(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const p=J(this.lexerDefinitionErrors,m=>m.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+p)}at(this.lexerDefinitionWarning,h=>{C0(h.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(L0?(this.chopInput=hr,this.match=this.matchWithTest):(this.updateLastIndex=se,this.match=this.matchWithExec),c&&(this.handleModes=se),this.trackStartLines===!1&&(this.computeNewColumn=hr),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=se),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const h=Ze(this.canModeBeOptimized,(p,m,y)=>(m===!1&&p.push(y),p),[]);if(i.ensureOptimizations&&!Ut(h))throw Error(`Lexer Modes: < ${h.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{d_()}),this.TRACE_INIT("toFastProperties",()=>{_0(this)})})}tokenize(t,i=this.defaultMode){if(!Ut(this.lexerDefinitionErrors)){const l=J(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+l)}return this.tokenizeInternal(t,i)}tokenizeInternal(t,i){let a,l,c,f,h,p,m,y,v,S,x,C,k,H,P;const U=t,I=U.length;let F=0,V=0;const B=this.hasCustom?0:Math.floor(t.length/10),G=new Array(B),X=[];let xt=this.trackStartLines?1:void 0,ft=this.trackStartLines?1:void 0;const $t=D_(this.emptyGroups),Xt=this.trackStartLines,ge=this.config.lineTerminatorsPattern;let Wt=0,lt=[],L=[];const Y=[],tt=[];Object.freeze(tt);let gt;function Ot(){return lt}function A(nt){const ht=$i(nt),Ht=L[ht];return Ht===void 0?tt:Ht}const D=nt=>{if(Y.length===1&&nt.tokenType.PUSH_MODE===void 0){const ht=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(nt);X.push({offset:nt.startOffset,line:nt.startLine,column:nt.startColumn,length:nt.image.length,message:ht})}else{Y.pop();const ht=hs(Y);lt=this.patternIdxToConfig[ht],L=this.charCodeToPatternIdxToConfig[ht],Wt=lt.length;const Ht=this.canModeBeOptimized[ht]&&this.config.safeMode===!1;L&&Ht?gt=A:gt=Ot}};function q(nt){Y.push(nt),L=this.charCodeToPatternIdxToConfig[nt],lt=this.patternIdxToConfig[nt],Wt=lt.length,Wt=lt.length;const ht=this.canModeBeOptimized[nt]&&this.config.safeMode===!1;L&&ht?gt=A:gt=Ot}q.call(this,i);let K;const ct=this.config.recoveryEnabled;for(;F<I;){p=null;const nt=U.charCodeAt(F),ht=gt(nt),Ht=ht.length;for(a=0;a<Ht;a++){K=ht[a];const Et=K.pattern;m=null;const ve=K.short;if(ve!==!1?nt===ve&&(p=Et):K.isCustom===!0?(P=Et.exec(U,F,G,$t),P!==null?(p=P[0],P.payload!==void 0&&(m=P.payload)):p=null):(this.updateLastIndex(Et,F),p=this.match(Et,t,F)),p!==null){if(h=K.longerAlt,h!==void 0){const we=h.length;for(c=0;c<we;c++){const Ie=lt[h[c]],Nn=Ie.pattern;if(y=null,Ie.isCustom===!0?(P=Nn.exec(U,F,G,$t),P!==null?(f=P[0],P.payload!==void 0&&(y=P.payload)):f=null):(this.updateLastIndex(Nn,F),f=this.match(Nn,t,F)),f&&f.length>p.length){p=f,m=y,K=Ie;break}}}break}}if(p!==null){if(v=p.length,S=K.group,S!==void 0&&(x=K.tokenTypeIdx,C=this.createTokenInstance(p,F,x,K.tokenType,xt,ft,v),this.handlePayload(C,m),S===!1?V=this.addToken(G,V,C):$t[S].push(C)),t=this.chopInput(t,v),F=F+v,ft=this.computeNewColumn(ft,v),Xt===!0&&K.canLineTerminator===!0){let Et=0,ve,we;ge.lastIndex=0;do ve=ge.test(p),ve===!0&&(we=ge.lastIndex-1,Et++);while(ve===!0);Et!==0&&(xt=xt+Et,ft=v-we,this.updateTokenEndLineColumnLocation(C,S,we,Et,xt,ft,v))}this.handleModes(K,D,q,C)}else{const Et=F,ve=xt,we=ft;let Ie=ct===!1;for(;Ie===!1&&F<I;)for(t=this.chopInput(t,1),F++,l=0;l<Wt;l++){const Nn=lt[l],gn=Nn.pattern,vs=Nn.short;if(vs!==!1?U.charCodeAt(F)===vs&&(Ie=!0):Nn.isCustom===!0?Ie=gn.exec(U,F,G,$t)!==null:(this.updateLastIndex(gn,F),Ie=gn.exec(t)!==null),Ie===!0)break}if(k=F-Et,ft=this.computeNewColumn(ft,k),H=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(U,Et,k,ve,we,hs(Y)),X.push({offset:Et,line:ve,column:we,length:k,message:H}),ct===!1)break}}return this.hasCustom||(G.length=V),{tokens:G,groups:$t,errors:X}}handleModes(t,i,a,l){if(t.pop===!0){const c=t.push;i(l),c!==void 0&&a.call(this,c)}else t.push!==void 0&&a.call(this,t.push)}chopInput(t,i){return t.substring(i)}updateLastIndex(t,i){t.lastIndex=i}updateTokenEndLineColumnLocation(t,i,a,l,c,f,h){let p,m;i!==void 0&&(p=a===h-1,m=p?-1:0,l===1&&p===!0||(t.endLine=c+m,t.endColumn=f-1+-m))}computeNewColumn(t,i){return t+i}createOffsetOnlyToken(t,i,a,l){return{image:t,startOffset:i,tokenTypeIdx:a,tokenType:l}}createStartOnlyToken(t,i,a,l,c,f){return{image:t,startOffset:i,startLine:c,startColumn:f,tokenTypeIdx:a,tokenType:l}}createFullToken(t,i,a,l,c,f,h){return{image:t,startOffset:i,endOffset:i+h-1,startLine:c,endLine:c,startColumn:f,endColumn:f+h-1,tokenTypeIdx:a,tokenType:l}}addTokenUsingPush(t,i,a){return t.push(a),i}addTokenUsingMemberAccess(t,i,a){return t[i]=a,i++,i}handlePayloadNoCustom(t,i){}handlePayloadWithCustom(t,i){i!==null&&(t.payload=i)}matchWithTest(t,i,a){return t.test(i)===!0?i.substring(a,t.lastIndex):null}matchWithExec(t,i){const a=t.exec(i);return a!==null?a[0]:null}}Se.SKIPPED="This marks a skipped Token pattern, this means each token identified by it will be consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";Se.NA=/NOT_APPLICABLE/;function ba(s){return P0(s)?s.LABEL:s.name}function P0(s){return Me(s.LABEL)&&s.LABEL!==""}const Z_="parent",Qy="categories",Wy="label",Jy="group",tv="push_mode",ev="pop_mode",nv="longer_alt",iv="line_breaks",sv="start_chars_hint";function mt(s){return Q_(s)}function Q_(s){const t=s.pattern,i={};if(i.name=s.name,ai(t)||(i.PATTERN=t),rt(s,Z_))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return rt(s,Qy)&&(i.CATEGORIES=s[Qy]),Da([i]),rt(s,Wy)&&(i.LABEL=s[Wy]),rt(s,Jy)&&(i.GROUP=s[Jy]),rt(s,ev)&&(i.POP_MODE=s[ev]),rt(s,tv)&&(i.PUSH_MODE=s[tv]),rt(s,nv)&&(i.LONGER_ALT=s[nv]),rt(s,iv)&&(i.LINE_BREAKS=s[iv]),rt(s,sv)&&(i.START_CHARS_HINT=s[sv]),i}const ps=mt({name:"EOF",pattern:Se.NA});Da([ps]);function Uh(s,t,i,a,l,c,f,h){return{image:t,startOffset:i,endOffset:a,startLine:l,endLine:c,startColumn:f,endColumn:h,tokenTypeIdx:s.tokenTypeIdx,tokenType:s}}function W_(s,t){return Ua(s,t)}const B0={buildMismatchTokenMessage({expected:s,actual:t,previous:i,ruleName:a}){return`Expecting ${P0(s)?`--> ${ba(s)} <--`:`token of type --> ${s.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:s,ruleName:t}){return"Redundant input, expecting EOF but found: "+s.image},buildNoViableAltMessage({expectedPathsPerAlt:s,actual:t,previous:i,customUserDescription:a,ruleName:l}){const c="Expecting: ",h=`
but found: '`+xn(t).image+"'";if(a)return c+a+h;{const p=Ze(s,(S,x)=>S.concat(x),[]),m=J(p,S=>`[${J(S,x=>ba(x)).join(", ")}]`),v=`one of these possible Token sequences:
${J(m,(S,x)=>`  ${x+1}. ${S}`).join(`
`)}`;return c+v+h}},buildEarlyExitMessage({expectedIterationPaths:s,actual:t,customUserDescription:i,ruleName:a}){const l="Expecting: ",f=`
but found: '`+xn(t).image+"'";if(i)return l+i+f;{const p=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${J(s,m=>`[${J(m,y=>ba(y)).join(",")}]`).join(" ,")}>`;return l+p+f}}};Object.freeze(B0);const J_={buildRuleNotFoundError(s,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+s.name+"<-"}},cs={buildDuplicateFoundError(s,t){function i(y){return y instanceof Gt?y.terminalType.name:y instanceof Qe?y.nonTerminalName:""}const a=s.name,l=xn(t),c=l.idx,f=wn(l),h=i(l),p=c>0;let m=`->${f}${p?c:""}<- ${h?`with argument: ->${h}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${a}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return m=m.replace(/[ \t]+/g," "),m=m.replace(/\s\s+/g,`
`),m},buildNamespaceConflictError(s){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${s.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(s){const t=J(s.prefixPath,l=>ba(l)).join(", "),i=s.alternation.idx===0?"":s.alternation.idx;return`Ambiguous alternatives: <${s.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${i}> inside <${s.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(s){const t=J(s.prefixPath,l=>ba(l)).join(", "),i=s.alternation.idx===0?"":s.alternation.idx;let a=`Ambiguous Alternatives Detected: <${s.ambiguityIndices.join(" ,")}> in <OR${i}> inside <${s.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return a=a+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,a},buildEmptyRepetitionError(s){let t=wn(s.repetition);return s.repetition.idx!==0&&(t+=s.repetition.idx),`The repetition <${t}> within Rule <${s.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(s){return"deprecated"},buildEmptyAlternationError(s){return`Ambiguous empty alternative: <${s.emptyChoiceIdx+1}> in <OR${s.alternation.idx}> inside <${s.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(s){return`An Alternation cannot have more than 256 alternatives:
<OR${s.alternation.idx}> inside <${s.topLevelRule.name}> Rule.
 has ${s.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(s){const t=s.topLevelRule.name,i=J(s.leftRecursionPath,c=>c.name),a=`${t} --> ${i.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${a}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(s){return"deprecated"},buildDuplicateRuleNameError(s){let t;return s.topLevelRule instanceof mr?t=s.topLevelRule.name:t=s.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${s.grammarName}<-`}};function tk(s,t){const i=new ek(s,t);return i.resolveRefs(),i.errors}class ek extends gr{constructor(t,i){super(),this.nameToTopRule=t,this.errMsgProvider=i,this.errors=[]}resolveRefs(){at(re(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){const i=this.nameToTopRule[t.nonTerminalName];if(i)t.referencedRule=i;else{const a=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:a,type:Ee.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}class nk extends Ql{constructor(t,i){super(),this.topProd=t,this.path=i,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=me(this.path.ruleStack).reverse(),this.occurrenceStack=me(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,i=[]){this.found||super.walk(t,i)}walkProdRef(t,i,a){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const l=i.concat(a);this.updateExpectedNext(),this.walk(t.referencedRule,l)}}updateExpectedNext(){Ut(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class ik extends nk{constructor(t,i){super(t,i),this.path=i,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,i,a){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const l=i.concat(a),c=new Le({definition:l});this.possibleTokTypes=ja(c),this.found=!0}}}class Jl extends Ql{constructor(t,i){super(),this.topRule=t,this.occurrence=i,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class sk extends Jl{walkMany(t,i,a){if(t.idx===this.occurrence){const l=xn(i.concat(a));this.result.isEndOfRule=l===void 0,l instanceof Gt&&(this.result.token=l.terminalType,this.result.occurrence=l.idx)}else super.walkMany(t,i,a)}}class rv extends Jl{walkManySep(t,i,a){if(t.idx===this.occurrence){const l=xn(i.concat(a));this.result.isEndOfRule=l===void 0,l instanceof Gt&&(this.result.token=l.terminalType,this.result.occurrence=l.idx)}else super.walkManySep(t,i,a)}}class rk extends Jl{walkAtLeastOne(t,i,a){if(t.idx===this.occurrence){const l=xn(i.concat(a));this.result.isEndOfRule=l===void 0,l instanceof Gt&&(this.result.token=l.terminalType,this.result.occurrence=l.idx)}else super.walkAtLeastOne(t,i,a)}}class av extends Jl{walkAtLeastOneSep(t,i,a){if(t.idx===this.occurrence){const l=xn(i.concat(a));this.result.isEndOfRule=l===void 0,l instanceof Gt&&(this.result.token=l.terminalType,this.result.occurrence=l.idx)}else super.walkAtLeastOneSep(t,i,a)}}function Zf(s,t,i=[]){i=me(i);let a=[],l=0;function c(h){return h.concat(pe(s,l+1))}function f(h){const p=Zf(c(h),t,i);return a.concat(p)}for(;i.length<t&&l<s.length;){const h=s[l];if(h instanceof Le)return f(h.definition);if(h instanceof Qe)return f(h.definition);if(h instanceof ke)a=f(h.definition);else if(h instanceof Pn){const p=h.definition.concat([new ae({definition:h.definition})]);return f(p)}else if(h instanceof Bn){const p=[new Le({definition:h.definition}),new ae({definition:[new Gt({terminalType:h.separator})].concat(h.definition)})];return f(p)}else if(h instanceof Rn){const p=h.definition.concat([new ae({definition:[new Gt({terminalType:h.separator})].concat(h.definition)})]);a=f(p)}else if(h instanceof ae){const p=h.definition.concat([new ae({definition:h.definition})]);a=f(p)}else{if(h instanceof Cn)return at(h.definition,p=>{Ut(p.definition)===!1&&(a=f(p.definition))}),a;if(h instanceof Gt)i.push(h.terminalType);else throw Error("non exhaustive match")}l++}return a.push({partialPath:i,suffixDef:pe(s,l)}),a}function $0(s,t,i,a){const l="EXIT_NONE_TERMINAL",c=[l],f="EXIT_ALTERNATIVE";let h=!1;const p=t.length,m=p-a-1,y=[],v=[];for(v.push({idx:-1,def:s,ruleStack:[],occurrenceStack:[]});!Ut(v);){const S=v.pop();if(S===f){h&&hs(v).idx<=m&&v.pop();continue}const x=S.def,C=S.idx,k=S.ruleStack,H=S.occurrenceStack;if(Ut(x))continue;const P=x[0];if(P===l){const U={idx:C,def:pe(x),ruleStack:_a(k),occurrenceStack:_a(H)};v.push(U)}else if(P instanceof Gt)if(C<p-1){const U=C+1,I=t[U];if(i(I,P.terminalType)){const F={idx:U,def:pe(x),ruleStack:k,occurrenceStack:H};v.push(F)}}else if(C===p-1)y.push({nextTokenType:P.terminalType,nextTokenOccurrence:P.idx,ruleStack:k,occurrenceStack:H}),h=!0;else throw Error("non exhaustive match");else if(P instanceof Qe){const U=me(k);U.push(P.nonTerminalName);const I=me(H);I.push(P.idx);const F={idx:C,def:P.definition.concat(c,pe(x)),ruleStack:U,occurrenceStack:I};v.push(F)}else if(P instanceof ke){const U={idx:C,def:pe(x),ruleStack:k,occurrenceStack:H};v.push(U),v.push(f);const I={idx:C,def:P.definition.concat(pe(x)),ruleStack:k,occurrenceStack:H};v.push(I)}else if(P instanceof Pn){const U=new ae({definition:P.definition,idx:P.idx}),I=P.definition.concat([U],pe(x)),F={idx:C,def:I,ruleStack:k,occurrenceStack:H};v.push(F)}else if(P instanceof Bn){const U=new Gt({terminalType:P.separator}),I=new ae({definition:[U].concat(P.definition),idx:P.idx}),F=P.definition.concat([I],pe(x)),V={idx:C,def:F,ruleStack:k,occurrenceStack:H};v.push(V)}else if(P instanceof Rn){const U={idx:C,def:pe(x),ruleStack:k,occurrenceStack:H};v.push(U),v.push(f);const I=new Gt({terminalType:P.separator}),F=new ae({definition:[I].concat(P.definition),idx:P.idx}),V=P.definition.concat([F],pe(x)),B={idx:C,def:V,ruleStack:k,occurrenceStack:H};v.push(B)}else if(P instanceof ae){const U={idx:C,def:pe(x),ruleStack:k,occurrenceStack:H};v.push(U),v.push(f);const I=new ae({definition:P.definition,idx:P.idx}),F=P.definition.concat([I],pe(x)),V={idx:C,def:F,ruleStack:k,occurrenceStack:H};v.push(V)}else if(P instanceof Cn)for(let U=P.definition.length-1;U>=0;U--){const I=P.definition[U],F={idx:C,def:I.definition.concat(pe(x)),ruleStack:k,occurrenceStack:H};v.push(F),v.push(f)}else if(P instanceof Le)v.push({idx:C,def:P.definition.concat(pe(x)),ruleStack:k,occurrenceStack:H});else if(P instanceof mr)v.push(ak(P,C,k,H));else throw Error("non exhaustive match")}return y}function ak(s,t,i,a){const l=me(i);l.push(s.name);const c=me(a);return c.push(1),{idx:t,def:s.definition,ruleStack:l,occurrenceStack:c}}var qt;(function(s){s[s.OPTION=0]="OPTION",s[s.REPETITION=1]="REPETITION",s[s.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",s[s.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",s[s.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",s[s.ALTERNATION=5]="ALTERNATION"})(qt||(qt={}));function F0(s){if(s instanceof ke||s==="Option")return qt.OPTION;if(s instanceof ae||s==="Repetition")return qt.REPETITION;if(s instanceof Pn||s==="RepetitionMandatory")return qt.REPETITION_MANDATORY;if(s instanceof Bn||s==="RepetitionMandatoryWithSeparator")return qt.REPETITION_MANDATORY_WITH_SEPARATOR;if(s instanceof Rn||s==="RepetitionWithSeparator")return qt.REPETITION_WITH_SEPARATOR;if(s instanceof Cn||s==="Alternation")return qt.ALTERNATION;throw Error("non exhaustive match")}function ok(s,t,i,a,l,c){const f=Dh(s,t,i),h=V0(f)?Ml:Ua;return c(f,a,h,l)}function lk(s,t,i,a,l,c){const f=zh(s,t,l,i),h=V0(f)?Ml:Ua;return c(f[0],h,a)}function ck(s,t,i,a){const l=s.length,c=An(s,f=>An(f,h=>h.length===1));if(t)return function(f){const h=J(f,p=>p.GATE);for(let p=0;p<l;p++){const m=s[p],y=m.length,v=h[p];if(!(v!==void 0&&v.call(this)===!1))t:for(let S=0;S<y;S++){const x=m[S],C=x.length;for(let k=0;k<C;k++){const H=this.LA(k+1);if(i(H,x[k])===!1)continue t}return p}}};if(c&&!a){const f=J(s,p=>En(p)),h=Ze(f,(p,m,y)=>(at(m,v=>{rt(p,v.tokenTypeIdx)||(p[v.tokenTypeIdx]=y),at(v.categoryMatches,S=>{rt(p,S)||(p[S]=y)})}),p),{});return function(){const p=this.LA(1);return h[p.tokenTypeIdx]}}else return function(){for(let f=0;f<l;f++){const h=s[f],p=h.length;t:for(let m=0;m<p;m++){const y=h[m],v=y.length;for(let S=0;S<v;S++){const x=this.LA(S+1);if(i(x,y[S])===!1)continue t}return f}}}}function uk(s,t,i){const a=An(s,c=>c.length===1),l=s.length;if(a&&!i){const c=En(s);if(c.length===1&&Ut(c[0].categoryMatches)){const h=c[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===h}}else{const f=Ze(c,(h,p,m)=>(h[p.tokenTypeIdx]=!0,at(p.categoryMatches,y=>{h[y]=!0}),h),[]);return function(){const h=this.LA(1);return f[h.tokenTypeIdx]===!0}}}else return function(){t:for(let c=0;c<l;c++){const f=s[c],h=f.length;for(let p=0;p<h;p++){const m=this.LA(p+1);if(t(m,f[p])===!1)continue t}return!0}return!1}}class fk extends Ql{constructor(t,i,a){super(),this.topProd=t,this.targetOccurrence=i,this.targetProdType=a}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,i,a,l){return t.idx===this.targetOccurrence&&this.targetProdType===i?(this.restDef=a.concat(l),!0):!1}walkOption(t,i,a){this.checkIsTarget(t,qt.OPTION,i,a)||super.walkOption(t,i,a)}walkAtLeastOne(t,i,a){this.checkIsTarget(t,qt.REPETITION_MANDATORY,i,a)||super.walkOption(t,i,a)}walkAtLeastOneSep(t,i,a){this.checkIsTarget(t,qt.REPETITION_MANDATORY_WITH_SEPARATOR,i,a)||super.walkOption(t,i,a)}walkMany(t,i,a){this.checkIsTarget(t,qt.REPETITION,i,a)||super.walkOption(t,i,a)}walkManySep(t,i,a){this.checkIsTarget(t,qt.REPETITION_WITH_SEPARATOR,i,a)||super.walkOption(t,i,a)}}class G0 extends gr{constructor(t,i,a){super(),this.targetOccurrence=t,this.targetProdType=i,this.targetRef=a,this.result=[]}checkIsTarget(t,i){t.idx===this.targetOccurrence&&this.targetProdType===i&&(this.targetRef===void 0||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,qt.OPTION)}visitRepetition(t){this.checkIsTarget(t,qt.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,qt.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,qt.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,qt.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,qt.ALTERNATION)}}function ov(s){const t=new Array(s);for(let i=0;i<s;i++)t[i]=[];return t}function Uf(s){let t=[""];for(let i=0;i<s.length;i++){const a=s[i],l=[];for(let c=0;c<t.length;c++){const f=t[c];l.push(f+"_"+a.tokenTypeIdx);for(let h=0;h<a.categoryMatches.length;h++){const p="_"+a.categoryMatches[h];l.push(f+p)}}t=l}return t}function hk(s,t,i){for(let a=0;a<s.length;a++){if(a===i)continue;const l=s[a];for(let c=0;c<t.length;c++){const f=t[c];if(l[f]===!0)return!1}}return!0}function H0(s,t){const i=J(s,f=>Zf([f],1)),a=ov(i.length),l=J(i,f=>{const h={};return at(f,p=>{const m=Uf(p.partialPath);at(m,y=>{h[y]=!0})}),h});let c=i;for(let f=1;f<=t;f++){const h=c;c=ov(h.length);for(let p=0;p<h.length;p++){const m=h[p];for(let y=0;y<m.length;y++){const v=m[y].partialPath,S=m[y].suffixDef,x=Uf(v);if(hk(l,x,p)||Ut(S)||v.length===t){const k=a[p];if(Qf(k,v)===!1){k.push(v);for(let H=0;H<x.length;H++){const P=x[H];l[p][P]=!0}}}else{const k=Zf(S,f+1,v);c[p]=c[p].concat(k),at(k,H=>{const P=Uf(H.partialPath);at(P,U=>{l[p][U]=!0})})}}}}return a}function Dh(s,t,i,a){const l=new G0(s,qt.ALTERNATION,a);return t.accept(l),H0(l.result,i)}function zh(s,t,i,a){const l=new G0(s,i);t.accept(l);const c=l.result,h=new fk(t,s,i).startWalking(),p=new Le({definition:c}),m=new Le({definition:h});return H0([p,m],a)}function Qf(s,t){t:for(let i=0;i<s.length;i++){const a=s[i];if(a.length===t.length){for(let l=0;l<a.length;l++){const c=t[l],f=a[l];if((c===f||f.categoryMatchesMap[c.tokenTypeIdx]!==void 0)===!1)continue t}return!0}}return!1}function dk(s,t){return s.length<t.length&&An(s,(i,a)=>{const l=t[a];return i===l||l.categoryMatchesMap[i.tokenTypeIdx]})}function V0(s){return An(s,t=>An(t,i=>An(i,a=>Ut(a.categoryMatches))))}function pk(s){const t=s.lookaheadStrategy.validate({rules:s.rules,tokenTypes:s.tokenTypes,grammarName:s.grammarName});return J(t,i=>Object.assign({type:Ee.CUSTOM_LOOKAHEAD_VALIDATION},i))}function mk(s,t,i,a){const l=fn(s,p=>gk(p,i)),c=Nk(s,t,i),f=fn(s,p=>xk(p,i)),h=fn(s,p=>Tk(p,s,a,i));return l.concat(c,f,h)}function gk(s,t){const i=new vk;s.accept(i);const a=i.allProductions,l=NN(a,yk),c=On(l,h=>h.length>1);return J(re(c),h=>{const p=xn(h),m=t.buildDuplicateFoundError(s,h),y=wn(p),v={message:m,type:Ee.DUPLICATE_PRODUCTIONS,ruleName:s.name,dslName:y,occurrence:p.idx},S=Y0(p);return S&&(v.parameter=S),v})}function yk(s){return`${wn(s)}_#_${s.idx}_#_${Y0(s)}`}function Y0(s){return s instanceof Gt?s.terminalType.name:s instanceof Qe?s.nonTerminalName:""}class vk extends gr{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}}function Tk(s,t,i,a){const l=[];if(Ze(t,(f,h)=>h.name===s.name?f+1:f,0)>1){const f=a.buildDuplicateRuleNameError({topLevelRule:s,grammarName:i});l.push({message:f,type:Ee.DUPLICATE_RULE_NAME,ruleName:s.name})}return l}function Sk(s,t,i){const a=[];let l;return Ae(t,s)||(l=`Invalid rule override, rule: ->${s}<- cannot be overridden in the grammar: ->${i}<-as it is not defined in any of the super grammars `,a.push({message:l,type:Ee.INVALID_RULE_OVERRIDE,ruleName:s})),a}function q0(s,t,i,a=[]){const l=[],c=yl(t.definition);if(Ut(c))return[];{const f=s.name;Ae(c,s)&&l.push({message:i.buildLeftRecursionError({topLevelRule:s,leftRecursionPath:a}),type:Ee.LEFT_RECURSION,ruleName:f});const p=Xl(c,a.concat([s])),m=fn(p,y=>{const v=me(a);return v.push(y),q0(s,y,i,v)});return l.concat(m)}}function yl(s){let t=[];if(Ut(s))return t;const i=xn(s);if(i instanceof Qe)t.push(i.referencedRule);else if(i instanceof Le||i instanceof ke||i instanceof Pn||i instanceof Bn||i instanceof Rn||i instanceof ae)t=t.concat(yl(i.definition));else if(i instanceof Cn)t=En(J(i.definition,c=>yl(c.definition)));else if(!(i instanceof Gt))throw Error("non exhaustive match");const a=Cl(i),l=s.length>1;if(a&&l){const c=pe(s);return t.concat(yl(c))}else return t}class Ph extends gr{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}}function Ek(s,t){const i=new Ph;s.accept(i);const a=i.alternations;return fn(a,c=>{const f=_a(c.definition);return fn(f,(h,p)=>{const m=$0([h],[],Ua,1);return Ut(m)?[{message:t.buildEmptyAlternationError({topLevelRule:s,alternation:c,emptyChoiceIdx:p}),type:Ee.NONE_LAST_EMPTY_ALT,ruleName:s.name,occurrence:c.idx,alternative:p+1}]:[]})})}function Ak(s,t,i){const a=new Ph;s.accept(a);let l=a.alternations;return l=Zl(l,f=>f.ignoreAmbiguities===!0),fn(l,f=>{const h=f.idx,p=f.maxLookahead||t,m=Dh(h,s,p,f),y=Rk(m,f,s,i),v=Ck(m,f,s,i);return y.concat(v)})}class bk extends gr{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}function xk(s,t){const i=new Ph;s.accept(i);const a=i.alternations;return fn(a,c=>c.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:s,alternation:c}),type:Ee.TOO_MANY_ALTS,ruleName:s.name,occurrence:c.idx}]:[])}function Ok(s,t,i){const a=[];return at(s,l=>{const c=new bk;l.accept(c);const f=c.allProductions;at(f,h=>{const p=F0(h),m=h.maxLookahead||t,y=h.idx,S=zh(y,l,p,m)[0];if(Ut(En(S))){const x=i.buildEmptyRepetitionError({topLevelRule:l,repetition:h});a.push({message:x,type:Ee.NO_NON_EMPTY_LOOKAHEAD,ruleName:l.name})}})}),a}function Rk(s,t,i,a){const l=[],c=Ze(s,(h,p,m)=>(t.definition[m].ignoreAmbiguities===!0||at(p,y=>{const v=[m];at(s,(S,x)=>{m!==x&&Qf(S,y)&&t.definition[x].ignoreAmbiguities!==!0&&v.push(x)}),v.length>1&&!Qf(l,y)&&(l.push(y),h.push({alts:v,path:y}))}),h),[]);return J(c,h=>{const p=J(h.alts,y=>y+1);return{message:a.buildAlternationAmbiguityError({topLevelRule:i,alternation:t,ambiguityIndices:p,prefixPath:h.path}),type:Ee.AMBIGUOUS_ALTS,ruleName:i.name,occurrence:t.idx,alternatives:h.alts}})}function Ck(s,t,i,a){const l=Ze(s,(f,h,p)=>{const m=J(h,y=>({idx:p,path:y}));return f.concat(m)},[]);return Ia(fn(l,f=>{if(t.definition[f.idx].ignoreAmbiguities===!0)return[];const p=f.idx,m=f.path,y=mn(l,S=>t.definition[S.idx].ignoreAmbiguities!==!0&&S.idx<p&&dk(S.path,m));return J(y,S=>{const x=[S.idx+1,p+1],C=t.idx===0?"":t.idx;return{message:a.buildAlternationPrefixAmbiguityError({topLevelRule:i,alternation:t,ambiguityIndices:x,prefixPath:S.path}),type:Ee.AMBIGUOUS_PREFIX_ALTS,ruleName:i.name,occurrence:C,alternatives:x}})}))}function Nk(s,t,i){const a=[],l=J(t,c=>c.name);return at(s,c=>{const f=c.name;if(Ae(l,f)){const h=i.buildNamespaceConflictError(c);a.push({message:h,type:Ee.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:f})}}),a}function _k(s){const t=Lh(s,{errMsgProvider:J_}),i={};return at(s.rules,a=>{i[a.name]=a}),tk(i,t.errMsgProvider)}function kk(s){return s=Lh(s,{errMsgProvider:cs}),mk(s.rules,s.tokenTypes,s.errMsgProvider,s.grammarName)}const K0="MismatchedTokenException",X0="NoViableAltException",Z0="EarlyExitException",Q0="NotAllInputParsedException",W0=[K0,X0,Z0,Q0];Object.freeze(W0);function Ll(s){return Ae(W0,s.name)}class tc extends Error{constructor(t,i){super(t),this.token=i,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class J0 extends tc{constructor(t,i,a){super(t,i),this.previousToken=a,this.name=K0}}class Mk extends tc{constructor(t,i,a){super(t,i),this.previousToken=a,this.name=X0}}class Lk extends tc{constructor(t,i){super(t,i),this.name=Q0}}class wk extends tc{constructor(t,i,a){super(t,i),this.previousToken=a,this.name=Z0}}const Df={},tT="InRuleRecoveryException";class Ik extends Error{constructor(t){super(t),this.name=tT}}class jk{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=rt(t,"recoveryEnabled")?t.recoveryEnabled:oi.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Uk)}getTokenToInsert(t){const i=Uh(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return i.isInsertedInRecovery=!0,i}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,i,a,l){const c=this.findReSyncTokenType(),f=this.exportLexerState(),h=[];let p=!1;const m=this.LA(1);let y=this.LA(1);const v=()=>{const S=this.LA(0),x=this.errorMessageProvider.buildMismatchTokenMessage({expected:l,actual:m,previous:S,ruleName:this.getCurrRuleFullName()}),C=new J0(x,m,this.LA(0));C.resyncedTokens=_a(h),this.SAVE_ERROR(C)};for(;!p;)if(this.tokenMatcher(y,l)){v();return}else if(a.call(this)){v(),t.apply(this,i);return}else this.tokenMatcher(y,c)?p=!0:(y=this.SKIP_TOKEN(),this.addToResyncTokens(y,h));this.importLexerState(f)}shouldInRepetitionRecoveryBeTried(t,i,a){return!(a===!1||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,i)))}getFollowsForInRuleRecovery(t,i){const a=this.getCurrentGrammarPath(t,i);return this.getNextPossibleTokenTypes(a)}tryInRuleRecovery(t,i){if(this.canRecoverWithSingleTokenInsertion(t,i))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){const a=this.SKIP_TOKEN();return this.consumeToken(),a}throw new Ik("sad sad panda")}canPerformInRuleRecovery(t,i){return this.canRecoverWithSingleTokenInsertion(t,i)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,i){if(!this.canTokenTypeBeInsertedInRecovery(t)||Ut(i))return!1;const a=this.LA(1);return pr(i,c=>this.tokenMatcher(a,c))!==void 0}canRecoverWithSingleTokenDeletion(t){return this.canTokenTypeBeDeletedInRecovery(t)?this.tokenMatcher(this.LA(2),t):!1}isInCurrentRuleReSyncSet(t){const i=this.getCurrFollowKey(),a=this.getFollowSetFromFollowKey(i);return Ae(a,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let i=this.LA(1),a=2;for(;;){const l=pr(t,c=>W_(i,c));if(l!==void 0)return l;i=this.LA(a),a++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return Df;const t=this.getLastExplicitRuleShortName(),i=this.getLastExplicitRuleOccurrenceIndex(),a=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:i,inRule:this.shortRuleNameToFullName(a)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,i=this.RULE_OCCURRENCE_STACK;return J(t,(a,l)=>l===0?Df:{ruleName:this.shortRuleNameToFullName(a),idxInCallingRule:i[l],inRule:this.shortRuleNameToFullName(t[l-1])})}flattenFollowSet(){const t=J(this.buildFullFollowKeyStack(),i=>this.getFollowSetFromFollowKey(i));return En(t)}getFollowSetFromFollowKey(t){if(t===Df)return[ps];const i=t.ruleName+t.idxInCallingRule+k0+t.inRule;return this.resyncFollows[i]}addToResyncTokens(t,i){return this.tokenMatcher(t,ps)||i.push(t),i}reSyncTo(t){const i=[];let a=this.LA(1);for(;this.tokenMatcher(a,t)===!1;)a=this.SKIP_TOKEN(),this.addToResyncTokens(a,i);return _a(i)}attemptInRepetitionRecovery(t,i,a,l,c,f,h){}getCurrentGrammarPath(t,i){const a=this.getHumanReadableRuleStack(),l=me(this.RULE_OCCURRENCE_STACK);return{ruleStack:a,occurrenceStack:l,lastTok:t,lastTokOccurrence:i}}getHumanReadableRuleStack(){return J(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}}function Uk(s,t,i,a,l,c,f){const h=this.getKeyForAutomaticLookahead(a,l);let p=this.firstAfterRepMap[h];if(p===void 0){const S=this.getCurrRuleFullName(),x=this.getGAstProductions()[S];p=new c(x,l).startWalking(),this.firstAfterRepMap[h]=p}let m=p.token,y=p.occurrence;const v=p.isEndOfRule;this.RULE_STACK.length===1&&v&&m===void 0&&(m=ps,y=1),!(m===void 0||y===void 0)&&this.shouldInRepetitionRecoveryBeTried(m,y,f)&&this.tryInRepetitionRecovery(s,t,i,m)}const Dk=4,Gi=8,eT=1<<Gi,nT=2<<Gi,Wf=3<<Gi,Jf=4<<Gi,th=5<<Gi,vl=6<<Gi;function zf(s,t,i){return i|t|s}class zk{constructor(t){var i;this.maxLookahead=(i=t?.maxLookahead)!==null&&i!==void 0?i:oi.maxLookahead}validate(t){const i=this.validateNoLeftRecursion(t.rules);if(Ut(i)){const a=this.validateEmptyOrAlternatives(t.rules),l=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),c=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...i,...a,...l,...c]}return i}validateNoLeftRecursion(t){return fn(t,i=>q0(i,i,cs))}validateEmptyOrAlternatives(t){return fn(t,i=>Ek(i,cs))}validateAmbiguousAlternationAlternatives(t,i){return fn(t,a=>Ak(a,i,cs))}validateSomeNonEmptyLookaheadPath(t,i){return Ok(t,i,cs)}buildLookaheadForAlternation(t){return ok(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,ck)}buildLookaheadForOptional(t){return lk(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,F0(t.prodType),uk)}}class Pk{initLooksAhead(t){this.dynamicTokensEnabled=rt(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:oi.dynamicTokensEnabled,this.maxLookahead=rt(t,"maxLookahead")?t.maxLookahead:oi.maxLookahead,this.lookaheadStrategy=rt(t,"lookaheadStrategy")?t.lookaheadStrategy:new zk({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){at(t,i=>{this.TRACE_INIT(`${i.name} Rule Lookahead`,()=>{const{alternation:a,repetition:l,option:c,repetitionMandatory:f,repetitionMandatoryWithSeparator:h,repetitionWithSeparator:p}=$k(i);at(a,m=>{const y=m.idx===0?"":m.idx;this.TRACE_INIT(`${wn(m)}${y}`,()=>{const v=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:m.idx,rule:i,maxLookahead:m.maxLookahead||this.maxLookahead,hasPredicates:m.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),S=zf(this.fullRuleNameToShort[i.name],eT,m.idx);this.setLaFuncCache(S,v)})}),at(l,m=>{this.computeLookaheadFunc(i,m.idx,Wf,"Repetition",m.maxLookahead,wn(m))}),at(c,m=>{this.computeLookaheadFunc(i,m.idx,nT,"Option",m.maxLookahead,wn(m))}),at(f,m=>{this.computeLookaheadFunc(i,m.idx,Jf,"RepetitionMandatory",m.maxLookahead,wn(m))}),at(h,m=>{this.computeLookaheadFunc(i,m.idx,vl,"RepetitionMandatoryWithSeparator",m.maxLookahead,wn(m))}),at(p,m=>{this.computeLookaheadFunc(i,m.idx,th,"RepetitionWithSeparator",m.maxLookahead,wn(m))})})})}computeLookaheadFunc(t,i,a,l,c,f){this.TRACE_INIT(`${f}${i===0?"":i}`,()=>{const h=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:i,rule:t,maxLookahead:c||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:l}),p=zf(this.fullRuleNameToShort[t.name],a,i);this.setLaFuncCache(p,h)})}getKeyForAutomaticLookahead(t,i){const a=this.getLastExplicitRuleShortName();return zf(a,t,i)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,i){this.lookAheadFuncsCache.set(t,i)}}class Bk extends gr{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}}const ul=new Bk;function $k(s){ul.reset(),s.accept(ul);const t=ul.dslMethods;return ul.reset(),t}function lv(s,t){isNaN(s.startOffset)===!0?(s.startOffset=t.startOffset,s.endOffset=t.endOffset):s.endOffset<t.endOffset&&(s.endOffset=t.endOffset)}function cv(s,t){isNaN(s.startOffset)===!0?(s.startOffset=t.startOffset,s.startColumn=t.startColumn,s.startLine=t.startLine,s.endOffset=t.endOffset,s.endColumn=t.endColumn,s.endLine=t.endLine):s.endOffset<t.endOffset&&(s.endOffset=t.endOffset,s.endColumn=t.endColumn,s.endLine=t.endLine)}function Fk(s,t,i){s.children[i]===void 0?s.children[i]=[t]:s.children[i].push(t)}function Gk(s,t,i){s.children[t]===void 0?s.children[t]=[i]:s.children[t].push(i)}const Hk="name";function iT(s,t){Object.defineProperty(s,Hk,{enumerable:!1,configurable:!0,writable:!1,value:t})}function Vk(s,t){const i=pn(s),a=i.length;for(let l=0;l<a;l++){const c=i[l],f=s[c],h=f.length;for(let p=0;p<h;p++){const m=f[p];m.tokenTypeIdx===void 0&&this[m.name](m.children,t)}}}function Yk(s,t){const i=function(){};iT(i,s+"BaseSemantics");const a={visit:function(l,c){if(bt(l)&&(l=l[0]),!ai(l))return this[l.name](l.children,c)},validateVisitor:function(){const l=Kk(this,t);if(!Ut(l)){const c=J(l,f=>f.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${c.join(`

`).replace(/\n/g,`
	`)}`)}}};return i.prototype=a,i.prototype.constructor=i,i._RULE_NAMES=t,i}function qk(s,t,i){const a=function(){};iT(a,s+"BaseSemanticsWithDefaults");const l=Object.create(i.prototype);return at(t,c=>{l[c]=Vk}),a.prototype=l,a.prototype.constructor=a,a}var eh;(function(s){s[s.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",s[s.MISSING_METHOD=1]="MISSING_METHOD"})(eh||(eh={}));function Kk(s,t){return Xk(s,t)}function Xk(s,t){const i=mn(t,l=>li(s[l])===!1),a=J(i,l=>({msg:`Missing visitor method: <${l}> on ${s.constructor.name} CST Visitor.`,type:eh.MISSING_METHOD,methodName:l}));return Ia(a)}class Zk{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=rt(t,"nodeLocationTracking")?t.nodeLocationTracking:oi.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=se,this.cstFinallyStateUpdate=se,this.cstPostTerminal=se,this.cstPostNonTerminal=se,this.cstPostRule=se;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=cv,this.setNodeLocationFromNode=cv,this.cstPostRule=se,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=se,this.setNodeLocationFromNode=se,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=lv,this.setNodeLocationFromNode=lv,this.cstPostRule=se,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=se,this.setNodeLocationFromNode=se,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=se,this.setNodeLocationFromNode=se,this.cstPostRule=se,this.setInitialNodeLocation=se;else throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const i=this.LA(1);t.location={startOffset:i.startOffset,startLine:i.startLine,startColumn:i.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const i={name:t,children:Object.create(null)};this.setInitialNodeLocation(i),this.CST_STACK.push(i)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const i=this.LA(0),a=t.location;a.startOffset<=i.startOffset?(a.endOffset=i.endOffset,a.endLine=i.endLine,a.endColumn=i.endColumn):(a.startOffset=NaN,a.startLine=NaN,a.startColumn=NaN)}cstPostRuleOnlyOffset(t){const i=this.LA(0),a=t.location;a.startOffset<=i.startOffset?a.endOffset=i.endOffset:a.startOffset=NaN}cstPostTerminal(t,i){const a=this.CST_STACK[this.CST_STACK.length-1];Fk(a,i,t),this.setNodeLocationFromToken(a.location,i)}cstPostNonTerminal(t,i){const a=this.CST_STACK[this.CST_STACK.length-1];Gk(a,i,t),this.setNodeLocationFromNode(a.location,t.location)}getBaseCstVisitorConstructor(){if(ai(this.baseCstVisitorConstructor)){const t=Yk(this.className,pn(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(ai(this.baseCstVisitorWithDefaultsConstructor)){const t=qk(this.className,pn(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}}class Qk{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Il}LA(t){const i=this.currIdx+t;return i<0||this.tokVectorLength<=i?Il:this.tokVector[i]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class Wk{ACTION(t){return t.call(this)}consume(t,i,a){return this.consumeInternal(i,t,a)}subrule(t,i,a){return this.subruleInternal(i,t,a)}option(t,i){return this.optionInternal(i,t)}or(t,i){return this.orInternal(i,t)}many(t,i){return this.manyInternal(t,i)}atLeastOne(t,i){return this.atLeastOneInternal(t,i)}CONSUME(t,i){return this.consumeInternal(t,0,i)}CONSUME1(t,i){return this.consumeInternal(t,1,i)}CONSUME2(t,i){return this.consumeInternal(t,2,i)}CONSUME3(t,i){return this.consumeInternal(t,3,i)}CONSUME4(t,i){return this.consumeInternal(t,4,i)}CONSUME5(t,i){return this.consumeInternal(t,5,i)}CONSUME6(t,i){return this.consumeInternal(t,6,i)}CONSUME7(t,i){return this.consumeInternal(t,7,i)}CONSUME8(t,i){return this.consumeInternal(t,8,i)}CONSUME9(t,i){return this.consumeInternal(t,9,i)}SUBRULE(t,i){return this.subruleInternal(t,0,i)}SUBRULE1(t,i){return this.subruleInternal(t,1,i)}SUBRULE2(t,i){return this.subruleInternal(t,2,i)}SUBRULE3(t,i){return this.subruleInternal(t,3,i)}SUBRULE4(t,i){return this.subruleInternal(t,4,i)}SUBRULE5(t,i){return this.subruleInternal(t,5,i)}SUBRULE6(t,i){return this.subruleInternal(t,6,i)}SUBRULE7(t,i){return this.subruleInternal(t,7,i)}SUBRULE8(t,i){return this.subruleInternal(t,8,i)}SUBRULE9(t,i){return this.subruleInternal(t,9,i)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,i,a=jl){if(Ae(this.definedRulesNames,t)){const f={message:cs.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:Ee.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(f)}this.definedRulesNames.push(t);const l=this.defineRule(t,i,a);return this[t]=l,l}OVERRIDE_RULE(t,i,a=jl){const l=Sk(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(l);const c=this.defineRule(t,i,a);return this[t]=c,c}BACKTRACK(t,i){return function(){this.isBackTrackingStack.push(1);const a=this.saveRecogState();try{return t.apply(this,i),!0}catch(l){if(Ll(l))return!1;throw l}finally{this.reloadRecogState(a),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return JN(re(this.gastProductionsCache))}}class Jk{initRecognizerEngine(t,i){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Ml,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},rt(i,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(bt(t)){if(Ut(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(bt(t))this.tokensMap=Ze(t,(c,f)=>(c[f.name]=f,c),{});else if(rt(t,"modes")&&An(En(re(t.modes)),K_)){const c=En(re(t.modes)),f=wh(c);this.tokensMap=Ze(f,(h,p)=>(h[p.name]=p,h),{})}else if(dn(t))this.tokensMap=me(t);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=ps;const a=rt(t,"modes")?En(re(t.modes)):re(t),l=An(a,c=>Ut(c.categoryMatches));this.tokenMatcher=l?Ml:Ua,Da(re(this.tokensMap))}defineRule(t,i,a){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const l=rt(a,"resyncEnabled")?a.resyncEnabled:jl.resyncEnabled,c=rt(a,"recoveryValueFunc")?a.recoveryValueFunc:jl.recoveryValueFunc,f=this.ruleShortNameIdx<<Dk+Gi;this.ruleShortNameIdx++,this.shortRuleNameToFull[f]=t,this.fullRuleNameToShort[t]=f;let h;return this.outputCst===!0?h=function(...y){try{this.ruleInvocationStateUpdate(f,t,this.subruleIdx),i.apply(this,y);const v=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(v),v}catch(v){return this.invokeRuleCatch(v,l,c)}finally{this.ruleFinallyStateUpdate()}}:h=function(...y){try{return this.ruleInvocationStateUpdate(f,t,this.subruleIdx),i.apply(this,y)}catch(v){return this.invokeRuleCatch(v,l,c)}finally{this.ruleFinallyStateUpdate()}},Object.assign(h,{ruleName:t,originalGrammarAction:i})}invokeRuleCatch(t,i,a){const l=this.RULE_STACK.length===1,c=i&&!this.isBackTracking()&&this.recoveryEnabled;if(Ll(t)){const f=t;if(c){const h=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(h))if(f.resyncedTokens=this.reSyncTo(h),this.outputCst){const p=this.CST_STACK[this.CST_STACK.length-1];return p.recoveredNode=!0,p}else return a(t);else{if(this.outputCst){const p=this.CST_STACK[this.CST_STACK.length-1];p.recoveredNode=!0,f.partialCstResult=p}throw f}}else{if(l)return this.moveToTerminatedState(),a(t);throw f}}else throw t}optionInternal(t,i){const a=this.getKeyForAutomaticLookahead(nT,i);return this.optionInternalLogic(t,i,a)}optionInternalLogic(t,i,a){let l=this.getLaFuncFromCache(a),c;if(typeof t!="function"){c=t.DEF;const f=t.GATE;if(f!==void 0){const h=l;l=()=>f.call(this)&&h.call(this)}}else c=t;if(l.call(this)===!0)return c.call(this)}atLeastOneInternal(t,i){const a=this.getKeyForAutomaticLookahead(Jf,t);return this.atLeastOneInternalLogic(t,i,a)}atLeastOneInternalLogic(t,i,a){let l=this.getLaFuncFromCache(a),c;if(typeof i!="function"){c=i.DEF;const f=i.GATE;if(f!==void 0){const h=l;l=()=>f.call(this)&&h.call(this)}}else c=i;if(l.call(this)===!0){let f=this.doSingleRepetition(c);for(;l.call(this)===!0&&f===!0;)f=this.doSingleRepetition(c)}else throw this.raiseEarlyExitException(t,qt.REPETITION_MANDATORY,i.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,i],l,Jf,t,rk)}atLeastOneSepFirstInternal(t,i){const a=this.getKeyForAutomaticLookahead(vl,t);this.atLeastOneSepFirstInternalLogic(t,i,a)}atLeastOneSepFirstInternalLogic(t,i,a){const l=i.DEF,c=i.SEP;if(this.getLaFuncFromCache(a).call(this)===!0){l.call(this);const h=()=>this.tokenMatcher(this.LA(1),c);for(;this.tokenMatcher(this.LA(1),c)===!0;)this.CONSUME(c),l.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,c,h,l,av],h,vl,t,av)}else throw this.raiseEarlyExitException(t,qt.REPETITION_MANDATORY_WITH_SEPARATOR,i.ERR_MSG)}manyInternal(t,i){const a=this.getKeyForAutomaticLookahead(Wf,t);return this.manyInternalLogic(t,i,a)}manyInternalLogic(t,i,a){let l=this.getLaFuncFromCache(a),c;if(typeof i!="function"){c=i.DEF;const h=i.GATE;if(h!==void 0){const p=l;l=()=>h.call(this)&&p.call(this)}}else c=i;let f=!0;for(;l.call(this)===!0&&f===!0;)f=this.doSingleRepetition(c);this.attemptInRepetitionRecovery(this.manyInternal,[t,i],l,Wf,t,sk,f)}manySepFirstInternal(t,i){const a=this.getKeyForAutomaticLookahead(th,t);this.manySepFirstInternalLogic(t,i,a)}manySepFirstInternalLogic(t,i,a){const l=i.DEF,c=i.SEP;if(this.getLaFuncFromCache(a).call(this)===!0){l.call(this);const h=()=>this.tokenMatcher(this.LA(1),c);for(;this.tokenMatcher(this.LA(1),c)===!0;)this.CONSUME(c),l.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,c,h,l,rv],h,th,t,rv)}}repetitionSepSecondInternal(t,i,a,l,c){for(;a();)this.CONSUME(i),l.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,i,a,l,c],a,vl,t,c)}doSingleRepetition(t){const i=this.getLexerPosition();return t.call(this),this.getLexerPosition()>i}orInternal(t,i){const a=this.getKeyForAutomaticLookahead(eT,i),l=bt(t)?t:t.DEF,f=this.getLaFuncFromCache(a).call(this,l);if(f!==void 0)return l[f].ALT.call(this);this.raiseNoAltException(i,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const t=this.LA(1),i=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Lk(i,t))}}subruleInternal(t,i,a){let l;try{const c=a!==void 0?a.ARGS:void 0;return this.subruleIdx=i,l=t.apply(this,c),this.cstPostNonTerminal(l,a!==void 0&&a.LABEL!==void 0?a.LABEL:t.ruleName),l}catch(c){throw this.subruleInternalError(c,a,t.ruleName)}}subruleInternalError(t,i,a){throw Ll(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,i!==void 0&&i.LABEL!==void 0?i.LABEL:a),delete t.partialCstResult),t}consumeInternal(t,i,a){let l;try{const c=this.LA(1);this.tokenMatcher(c,t)===!0?(this.consumeToken(),l=c):this.consumeInternalError(t,c,a)}catch(c){l=this.consumeInternalRecovery(t,i,c)}return this.cstPostTerminal(a!==void 0&&a.LABEL!==void 0?a.LABEL:t.name,l),l}consumeInternalError(t,i,a){let l;const c=this.LA(0);throw a!==void 0&&a.ERR_MSG?l=a.ERR_MSG:l=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:i,previous:c,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new J0(l,i,c))}consumeInternalRecovery(t,i,a){if(this.recoveryEnabled&&a.name==="MismatchedTokenException"&&!this.isBackTracking()){const l=this.getFollowsForInRuleRecovery(t,i);try{return this.tryInRuleRecovery(t,l)}catch(c){throw c.name===tT?a:c}}else throw a}saveRecogState(){const t=this.errors,i=me(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:i,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,i,a){this.RULE_OCCURRENCE_STACK.push(a),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(i)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),ps)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class tM{initErrorHandler(t){this._errors=[],this.errorMessageProvider=rt(t,"errorMessageProvider")?t.errorMessageProvider:oi.errorMessageProvider}SAVE_ERROR(t){if(Ll(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:me(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return me(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,i,a){const l=this.getCurrRuleFullName(),c=this.getGAstProductions()[l],h=zh(t,c,i,this.maxLookahead)[0],p=[];for(let y=1;y<=this.maxLookahead;y++)p.push(this.LA(y));const m=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:h,actual:p,previous:this.LA(0),customUserDescription:a,ruleName:l});throw this.SAVE_ERROR(new wk(m,this.LA(1),this.LA(0)))}raiseNoAltException(t,i){const a=this.getCurrRuleFullName(),l=this.getGAstProductions()[a],c=Dh(t,l,this.maxLookahead),f=[];for(let m=1;m<=this.maxLookahead;m++)f.push(this.LA(m));const h=this.LA(0),p=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:c,actual:f,previous:h,customUserDescription:i,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Mk(p,this.LA(1),h))}}class eM{initContentAssist(){}computeContentAssist(t,i){const a=this.gastProductionsCache[t];if(ai(a))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return $0([a],i,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const i=xn(t.ruleStack),l=this.getGAstProductions()[i];return new ik(l,t).startWalking()}}const ec={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(ec);const uv=!0,fv=Math.pow(2,Gi)-1,sT=mt({name:"RECORDING_PHASE_TOKEN",pattern:Se.NA});Da([sT]);const rT=Uh(sT,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(rT);const nM={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class iM{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){const i=t>0?t:"";this[`CONSUME${i}`]=function(a,l){return this.consumeInternalRecord(a,t,l)},this[`SUBRULE${i}`]=function(a,l){return this.subruleInternalRecord(a,t,l)},this[`OPTION${i}`]=function(a){return this.optionInternalRecord(a,t)},this[`OR${i}`]=function(a){return this.orInternalRecord(a,t)},this[`MANY${i}`]=function(a){this.manyInternalRecord(t,a)},this[`MANY_SEP${i}`]=function(a){this.manySepFirstInternalRecord(t,a)},this[`AT_LEAST_ONE${i}`]=function(a){this.atLeastOneInternalRecord(t,a)},this[`AT_LEAST_ONE_SEP${i}`]=function(a){this.atLeastOneSepFirstInternalRecord(t,a)}}this.consume=function(t,i,a){return this.consumeInternalRecord(i,t,a)},this.subrule=function(t,i,a){return this.subruleInternalRecord(i,t,a)},this.option=function(t,i){return this.optionInternalRecord(i,t)},this.or=function(t,i){return this.orInternalRecord(i,t)},this.many=function(t,i){this.manyInternalRecord(t,i)},this.atLeastOne=function(t,i){this.atLeastOneInternalRecord(t,i)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const t=this;for(let i=0;i<10;i++){const a=i>0?i:"";delete t[`CONSUME${a}`],delete t[`SUBRULE${a}`],delete t[`OPTION${a}`],delete t[`OR${a}`],delete t[`MANY${a}`],delete t[`MANY_SEP${a}`],delete t[`AT_LEAST_ONE${a}`],delete t[`AT_LEAST_ONE_SEP${a}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,i){return()=>!0}LA_RECORD(t){return Il}topLevelRuleRecord(t,i){try{const a=new mr({definition:[],name:t});return a.name=t,this.recordingProdStack.push(a),i.call(this),this.recordingProdStack.pop(),a}catch(a){if(a.KNOWN_RECORDER_ERROR!==!0)try{a.message=a.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw a}throw a}}optionInternalRecord(t,i){return pa.call(this,ke,t,i)}atLeastOneInternalRecord(t,i){pa.call(this,Pn,i,t)}atLeastOneSepFirstInternalRecord(t,i){pa.call(this,Bn,i,t,uv)}manyInternalRecord(t,i){pa.call(this,ae,i,t)}manySepFirstInternalRecord(t,i){pa.call(this,Rn,i,t,uv)}orInternalRecord(t,i){return sM.call(this,t,i)}subruleInternalRecord(t,i,a){if(wl(i),!t||rt(t,"ruleName")===!1){const h=new Error(`<SUBRULE${hv(i)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw h.KNOWN_RECORDER_ERROR=!0,h}const l=hs(this.recordingProdStack),c=t.ruleName,f=new Qe({idx:i,nonTerminalName:c,label:a?.LABEL,referencedRule:void 0});return l.definition.push(f),this.outputCst?nM:ec}consumeInternalRecord(t,i,a){if(wl(i),!z0(t)){const f=new Error(`<CONSUME${hv(i)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw f.KNOWN_RECORDER_ERROR=!0,f}const l=hs(this.recordingProdStack),c=new Gt({idx:i,terminalType:t,label:a?.LABEL});return l.definition.push(c),rT}}function pa(s,t,i,a=!1){wl(i);const l=hs(this.recordingProdStack),c=li(t)?t:t.DEF,f=new s({definition:[],idx:i});return a&&(f.separator=t.SEP),rt(t,"MAX_LOOKAHEAD")&&(f.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(f),c.call(this),l.definition.push(f),this.recordingProdStack.pop(),ec}function sM(s,t){wl(t);const i=hs(this.recordingProdStack),a=bt(s)===!1,l=a===!1?s:s.DEF,c=new Cn({definition:[],idx:t,ignoreAmbiguities:a&&s.IGNORE_AMBIGUITIES===!0});rt(s,"MAX_LOOKAHEAD")&&(c.maxLookahead=s.MAX_LOOKAHEAD);const f=R0(l,h=>li(h.GATE));return c.hasPredicates=f,i.definition.push(c),at(l,h=>{const p=new Le({definition:[]});c.definition.push(p),rt(h,"IGNORE_AMBIGUITIES")?p.ignoreAmbiguities=h.IGNORE_AMBIGUITIES:rt(h,"GATE")&&(p.ignoreAmbiguities=!0),this.recordingProdStack.push(p),h.ALT.call(this),this.recordingProdStack.pop()}),ec}function hv(s){return s===0?"":`${s}`}function wl(s){if(s<0||s>fv){const t=new Error(`Invalid DSL Method idx value: <${s}>
	Idx value must be a none negative value smaller than ${fv+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}class rM{initPerformanceTracer(t){if(rt(t,"traceInitPerf")){const i=t.traceInitPerf,a=typeof i=="number";this.traceInitMaxIdent=a?i:1/0,this.traceInitPerf=a?i>0:i}else this.traceInitMaxIdent=0,this.traceInitPerf=oi.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,i){if(this.traceInitPerf===!0){this.traceInitIndent++;const a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${a}--> <${t}>`);const{time:l,value:c}=N0(i),f=l>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&f(`${a}<-- <${t}> time: ${l}ms`),this.traceInitIndent--,c}else return i()}}function aM(s,t){t.forEach(i=>{const a=i.prototype;Object.getOwnPropertyNames(a).forEach(l=>{if(l==="constructor")return;const c=Object.getOwnPropertyDescriptor(a,l);c&&(c.get||c.set)?Object.defineProperty(s.prototype,l,c):s.prototype[l]=i.prototype[l]})})}const Il=Uh(ps,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Il);const oi=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:B0,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),jl=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var Ee;(function(s){s[s.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",s[s.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",s[s.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",s[s.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",s[s.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",s[s.LEFT_RECURSION=5]="LEFT_RECURSION",s[s.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",s[s.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",s[s.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",s[s.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",s[s.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",s[s.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",s[s.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",s[s.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(Ee||(Ee={}));class za{static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;const i=this.className;this.TRACE_INIT("toFastProps",()=>{_0(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),at(this.definedRulesNames,l=>{const f=this[l].originalGrammarAction;let h;this.TRACE_INIT(`${l} Rule`,()=>{h=this.topLevelRuleRecord(l,f)}),this.gastProductionsCache[l]=h})}finally{this.disableRecording()}});let a=[];if(this.TRACE_INIT("Grammar Resolving",()=>{a=_k({rules:re(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(a)}),this.TRACE_INIT("Grammar Validations",()=>{if(Ut(a)&&this.skipValidations===!1){const l=kk({rules:re(this.gastProductionsCache),tokenTypes:re(this.tokensMap),errMsgProvider:cs,grammarName:i}),c=pk({lookaheadStrategy:this.lookaheadStrategy,rules:re(this.gastProductionsCache),tokenTypes:re(this.tokensMap),grammarName:i});this.definitionErrors=this.definitionErrors.concat(l,c)}}),Ut(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const l=a_(re(this.gastProductionsCache));this.resyncFollows=l}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var l,c;(c=(l=this.lookaheadStrategy).initialize)===null||c===void 0||c.call(l,{rules:re(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(re(this.gastProductionsCache))})),!za.DEFER_DEFINITION_ERRORS_HANDLING&&!Ut(this.definitionErrors))throw t=J(this.definitionErrors,l=>l.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,i){this.definitionErrors=[],this.selfAnalysisDone=!1;const a=this;if(a.initErrorHandler(i),a.initLexerAdapter(),a.initLooksAhead(i),a.initRecognizerEngine(t,i),a.initRecoverable(i),a.initTreeBuilder(i),a.initContentAssist(),a.initGastRecorder(i),a.initPerformanceTracer(i),rt(i,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=rt(i,"skipValidations")?i.skipValidations:oi.skipValidations}}za.DEFER_DEFINITION_ERRORS_HANDLING=!1;aM(za,[jk,Pk,Zk,Qk,Jk,Wk,tM,eM,iM,rM]);class oM extends za{constructor(t,i=oi){const a=me(i);a.outputCst=!0,super(t,a)}}const lM=mt({name:"WhiteSpace",pattern:/[ \t\r\n]+/,group:Se.SKIPPED}),cM=mt({name:"LineComment",pattern:/#[^\n\r]*/,group:Se.SKIPPED}),nh=mt({name:"TextBlock",pattern:/"""[\s\S]*?"""/,line_breaks:!0}),aT=mt({name:"PathReference",pattern:/@[a-zA-Z_][a-zA-Z0-9_-]*\/[a-zA-Z0-9_/-]*(?:@\d+\.\d+\.\d+)?/}),oT=mt({name:"RelativePath",pattern:/\.\/[a-zA-Z0-9_/-]+|\.\.\/[a-zA-Z0-9_/-]+/}),Ft=mt({name:"Identifier",pattern:/[a-zA-Z_][a-zA-Z0-9_-]*/}),lT=mt({name:"Meta",pattern:/meta/,longer_alt:Ft}),cT=mt({name:"Inherit",pattern:/inherit/,longer_alt:Ft}),uT=mt({name:"Use",pattern:/use/,longer_alt:Ft}),fT=mt({name:"As",pattern:/as/,longer_alt:Ft}),hT=mt({name:"Extend",pattern:/extend/,longer_alt:Ft}),dT=mt({name:"True",pattern:/true/,longer_alt:Ft}),pT=mt({name:"False",pattern:/false/,longer_alt:Ft}),mT=mt({name:"Null",pattern:/null/,longer_alt:Ft}),gT=mt({name:"Range",pattern:/range/,longer_alt:Ft}),yT=mt({name:"Enum",pattern:/enum/,longer_alt:Ft}),ih=mt({name:"StringType",pattern:/string/,longer_alt:Ft}),sh=mt({name:"NumberType",pattern:/number/,longer_alt:Ft}),rh=mt({name:"BooleanType",pattern:/boolean/,longer_alt:Ft}),vT=mt({name:"TemplateOpen",pattern:/\{\{/}),TT=mt({name:"TemplateClose",pattern:/\}\}/}),sr=mt({name:"At",pattern:/@/}),rr=mt({name:"LBrace",pattern:/\{/}),ar=mt({name:"RBrace",pattern:/\}/}),ST=mt({name:"LBracket",pattern:/\[/}),ET=mt({name:"RBracket",pattern:/\]/}),Tl=mt({name:"LParen",pattern:/\(/}),Sl=mt({name:"RParen",pattern:/\)/}),El=mt({name:"Colon",pattern:/:/}),or=mt({name:"Comma",pattern:/,/}),ah=mt({name:"Equals",pattern:/=/}),oh=mt({name:"Question",pattern:/\?/}),AT=mt({name:"DotDot",pattern:/\.\./}),bT=mt({name:"Dot",pattern:/\./}),xT=mt({name:"Dash",pattern:/-(?!\d)/}),lr=mt({name:"StringLiteral",pattern:/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'/}),Al=mt({name:"NumberLiteral",pattern:/-?\d+(?:\.\d+)?/}),OT=[lM,cM,nh,aT,oT,vT,TT,AT,lT,cT,uT,fT,hT,dT,pT,mT,gT,yT,ih,sh,rh,sr,rr,ar,ST,ET,Tl,Sl,El,or,ah,oh,bT,xT,lr,Al,Ft],uM=new Se(OT,{ensureOptimizations:!0,positionTracking:"full"});class fM extends oM{constructor(){super(OT,{recoveryEnabled:!0,maxLookahead:3,nodeLocationTracking:"full"}),this.performSelfAnalysis()}program=this.RULE("program",()=>{this.OPTION(()=>this.SUBRULE(this.metaBlock)),this.OPTION2(()=>this.SUBRULE(this.inheritDecl)),this.MANY(()=>this.SUBRULE(this.useDecl)),this.MANY2(()=>this.OR([{ALT:()=>this.SUBRULE(this.extendBlock)},{ALT:()=>this.SUBRULE(this.block)}]))});metaBlock=this.RULE("metaBlock",()=>{this.CONSUME(sr),this.CONSUME(lT),this.CONSUME(rr),this.MANY(()=>this.SUBRULE(this.field)),this.CONSUME(ar)});inheritDecl=this.RULE("inheritDecl",()=>{this.CONSUME(sr),this.CONSUME(cT),this.SUBRULE(this.pathRef),this.OPTION(()=>this.SUBRULE(this.paramCallList))});useDecl=this.RULE("useDecl",()=>{this.CONSUME(sr),this.CONSUME(uT),this.SUBRULE(this.pathRef),this.OPTION(()=>this.SUBRULE(this.paramCallList)),this.OPTION2(()=>{this.CONSUME(fT),this.CONSUME(Ft)})});block=this.RULE("block",()=>{this.CONSUME(sr),this.CONSUME(Ft),this.CONSUME(rr),this.SUBRULE(this.blockContent),this.CONSUME(ar)});extendBlock=this.RULE("extendBlock",()=>{this.CONSUME(sr),this.CONSUME(hT),this.SUBRULE(this.dotPath),this.CONSUME(rr),this.SUBRULE(this.blockContent),this.CONSUME(ar)});blockContent=this.RULE("blockContent",()=>{this.MANY(()=>this.OR([{ALT:()=>this.CONSUME(nh)},{ALT:()=>this.SUBRULE(this.restrictionItem)},{ALT:()=>this.SUBRULE(this.field)}]))});restrictionItem=this.RULE("restrictionItem",()=>{this.CONSUME(xT),this.CONSUME(lr)});field=this.RULE("field",()=>{this.OR([{ALT:()=>this.CONSUME(Ft)},{ALT:()=>this.CONSUME(lr)},{ALT:()=>this.CONSUME(ih)},{ALT:()=>this.CONSUME(sh)},{ALT:()=>this.CONSUME(rh)}]),this.OPTION(()=>this.CONSUME(oh)),this.CONSUME(El),this.SUBRULE(this.value),this.OPTION2(()=>{this.CONSUME(ah),this.SUBRULE2(this.value)})});value=this.RULE("value",()=>{this.OR([{ALT:()=>this.CONSUME(lr)},{ALT:()=>this.CONSUME(Al)},{ALT:()=>this.CONSUME(dT)},{ALT:()=>this.CONSUME(pT)},{ALT:()=>this.CONSUME(mT)},{ALT:()=>this.CONSUME(nh)},{ALT:()=>this.SUBRULE(this.array)},{ALT:()=>this.SUBRULE(this.paramDefList),GATE:()=>this.isParamDefListAhead()},{ALT:()=>this.SUBRULE(this.object)},{ALT:()=>this.SUBRULE(this.typeExpr)},{ALT:()=>this.SUBRULE(this.templateExpr)},{ALT:()=>this.CONSUME(Ft)}])});isParamDefListAhead(){const t=this.LA(1);if(!t||t.tokenType?.name!=="LBrace")return!1;const i=this.LA(2);if(!i||i.tokenType?.name!=="Identifier")return!1;const a=this.LA(3);if(!a)return!1;if(a.tokenType?.name==="Colon"){const l=this.LA(4);return l?["StringType","NumberType","BooleanType","Enum"].includes(l.tokenType?.name??""):!1}if(a.tokenType?.name==="Question"){const l=this.LA(4);if(!l||l.tokenType?.name!=="Colon")return!1;const c=this.LA(5);return c?["StringType","NumberType","BooleanType","Enum"].includes(c.tokenType?.name??""):!1}return!1}array=this.RULE("array",()=>{this.CONSUME(ST),this.OPTION(()=>{this.SUBRULE(this.value),this.MANY(()=>{this.CONSUME(or),this.OPTION2(()=>this.SUBRULE2(this.value))})}),this.CONSUME(ET)});object=this.RULE("object",()=>{this.CONSUME(rr),this.MANY(()=>{this.SUBRULE(this.field),this.OPTION(()=>this.CONSUME(or))}),this.CONSUME(ar)});typeExpr=this.RULE("typeExpr",()=>{this.OR([{ALT:()=>this.SUBRULE(this.rangeType)},{ALT:()=>this.SUBRULE(this.enumType)}])});rangeType=this.RULE("rangeType",()=>{this.CONSUME(gT),this.CONSUME(Tl),this.CONSUME(Al),this.CONSUME(AT),this.CONSUME2(Al),this.CONSUME(Sl)});enumType=this.RULE("enumType",()=>{this.CONSUME(yT),this.CONSUME(Tl),this.CONSUME(lr),this.MANY(()=>{this.CONSUME(or),this.CONSUME2(lr)}),this.CONSUME(Sl)});pathRef=this.RULE("pathRef",()=>{this.OR([{ALT:()=>this.CONSUME(aT)},{ALT:()=>this.CONSUME(oT)}])});dotPath=this.RULE("dotPath",()=>{this.CONSUME(Ft),this.MANY(()=>{this.CONSUME(bT),this.CONSUME2(Ft)})});paramCallList=this.RULE("paramCallList",()=>{this.CONSUME(Tl),this.OPTION(()=>{this.SUBRULE(this.paramArg),this.MANY(()=>{this.CONSUME(or),this.SUBRULE2(this.paramArg)})}),this.CONSUME(Sl)});paramArg=this.RULE("paramArg",()=>{this.CONSUME(Ft),this.CONSUME(El),this.SUBRULE(this.value)});paramDefList=this.RULE("paramDefList",()=>{this.CONSUME(rr),this.MANY(()=>{this.SUBRULE(this.paramDef),this.OPTION(()=>this.CONSUME(or))}),this.CONSUME(ar)});paramDef=this.RULE("paramDef",()=>{this.CONSUME(Ft),this.OPTION(()=>this.CONSUME(oh)),this.CONSUME(El),this.SUBRULE(this.paramType),this.OPTION2(()=>{this.CONSUME(ah),this.SUBRULE(this.value)})});paramType=this.RULE("paramType",()=>{this.OR([{ALT:()=>this.CONSUME(ih)},{ALT:()=>this.CONSUME(sh)},{ALT:()=>this.CONSUME(rh)},{ALT:()=>this.SUBRULE(this.enumType)}])});templateExpr=this.RULE("templateExpr",()=>{this.CONSUME(vT),this.CONSUME(Ft),this.CONSUME(TT)})}const bl=new fM;var hM={};const dM=bl.getBaseCstVisitorConstructor(),dv=s=>hM[s];class pM extends dM{filename="<unknown>";interpolateEnv=!1;envProvider=dv;constructor(){super(),this.validateVisitor()}setFilename(t){this.filename=t}setInterpolateEnv(t){this.interpolateEnv=t}setEnvProvider(t){this.envProvider=t}resetEnvProvider(){this.envProvider=dv}loc(t){return{file:this.filename,line:t.startLine,column:t.startColumn,offset:t.startOffset}}program(t,i="<unknown>"){this.filename=i;const a={type:"Program",uses:[],blocks:[],extends:[],loc:{file:this.filename,line:1,column:1}};return t.metaBlock&&(a.meta=this.visit(t.metaBlock[0])),t.inheritDecl&&(a.inherit=this.visit(t.inheritDecl[0])),t.useDecl&&(a.uses=t.useDecl.map(l=>this.visit(l))),t.block&&(a.blocks=t.block.map(l=>this.visit(l))),t.extendBlock&&(a.extends=t.extendBlock.map(l=>this.visit(l))),a}metaBlock(t){const i={};let a;if(t.field)for(const c of t.field){const{name:f,value:h,isParamsDef:p,paramsDefs:m}=this.visit(c);p&&m?a=m:i[f]=h}const l={type:"MetaBlock",fields:i,loc:this.loc(t.At[0])};return a&&(l.params=a),l}inheritDecl(t){const i={type:"InheritDeclaration",path:this.visit(t.pathRef[0]),loc:this.loc(t.At[0])};return t.paramCallList&&(i.params=this.visit(t.paramCallList[0])),i}useDecl(t){const i={type:"UseDeclaration",path:this.visit(t.pathRef[0]),loc:this.loc(t.At[0])};return t.paramCallList&&(i.params=this.visit(t.paramCallList[0])),t.Identifier&&(i.alias=t.Identifier[0].image),i}block(t){const i=t.Identifier[0].image,a=this.visit(t.blockContent[0]);return{type:"Block",name:i,content:a,loc:this.loc(t.At[0])}}extendBlock(t){const i=this.visit(t.dotPath[0]),a=this.visit(t.blockContent[0]);return{type:"ExtendBlock",targetPath:i,content:a,loc:this.loc(t.At[0])}}blockContent(t){const i=t.TextBlock?.length>0,a=t.field?.length>0;if(t.restrictionItem?.length>0)return this.buildRestrictionContent(t);const c=i?this.buildTextContent(t.TextBlock[0]):void 0,f=a?this.buildProperties(t.field):{};return this.resolveBlockContent(c,f,i,a)}buildRestrictionContent(t){const i=[];for(const a of t.restrictionItem)i.push(this.visit(a));return{type:"ObjectContent",properties:{items:i},loc:{file:this.filename,line:1,column:1}}}buildTextContent(t){let a=t.image.slice(3,-3).trim();return this.interpolateEnv&&(a=this.interpolateEnvVars(a)),{type:"TextContent",value:a,loc:this.loc(t)}}buildProperties(t){const i={};for(const a of t){const{name:l,value:c}=this.visit(a);i[l]=c}return i}resolveBlockContent(t,i,a,l){return a&&!l?t:!a&&l?{type:"ObjectContent",properties:i,loc:{file:this.filename,line:1,column:1}}:a&&l?{type:"MixedContent",text:t,properties:i,loc:{file:this.filename,line:1,column:1}}:{type:"ObjectContent",properties:{},loc:{file:this.filename,line:1,column:1}}}restrictionItem(t){const i=t.StringLiteral[0];return this.parseStringLiteral(i.image)}field(t){let i;if(t.Identifier)i=t.Identifier[0].image;else if(t.StringLiteral)i=this.parseStringLiteral(t.StringLiteral[0].image);else if(t.StringType)i="string";else if(t.NumberType)i="number";else if(t.BooleanType)i="boolean";else throw new Error("Unknown field key type");const a=t.Question?!0:void 0,l=t.value,c=this.visit(l[0]),f=l.length>1?this.visit(l[1]):void 0;return i==="params"&&Array.isArray(c)&&c.length>0&&c[0]?.type==="ParamDefinition"?{name:i,value:{},isParamsDef:!0,paramsDefs:c}:{name:i,value:c,optional:a,defaultValue:f}}value(t){if(t.StringLiteral)return this.parseStringLiteral(t.StringLiteral[0].image);if(t.NumberLiteral)return parseFloat(t.NumberLiteral[0].image);if(t.True)return!0;if(t.False)return!1;if(t.Null)return null;if(t.TextBlock){const i=t.TextBlock[0];let l=i.image.slice(3,-3).trim();return this.interpolateEnv&&(l=this.interpolateEnvVars(l)),{type:"TextContent",value:l,loc:this.loc(i)}}if(t.array)return this.visit(t.array[0]);if(t.paramDefList)return this.visit(t.paramDefList[0]);if(t.object)return this.visit(t.object[0]);if(t.typeExpr)return this.visit(t.typeExpr[0]);if(t.templateExpr)return this.visit(t.templateExpr[0]);if(t.Identifier)return t.Identifier[0].image;throw new Error("Unknown value type")}array(t){return t.value?t.value.map(i=>this.visit(i)):[]}object(t){const i={};if(t.field)for(const a of t.field){const{name:l,value:c}=this.visit(a);i[l]=c}return i}typeExpr(t){return t.rangeType?this.visit(t.rangeType[0]):this.visit(t.enumType[0])}rangeType(t){const[i,a]=t.NumberLiteral,l=parseFloat(i.image),c=parseFloat(a.image);return{type:"TypeExpression",kind:"range",constraints:{min:l,max:c},loc:this.loc(t.Range[0])}}enumType(t){return{type:"TypeExpression",kind:"enum",constraints:{options:t.StringLiteral.map(a=>this.parseStringLiteral(a.image))},loc:this.loc(t.Enum[0])}}pathRef(t){return t.PathReference?this.parsePathReference(t.PathReference[0]):this.parseRelativePath(t.RelativePath[0])}dotPath(t){return t.Identifier.map(i=>i.image).join(".")}paramCallList(t){return t.paramArg?t.paramArg.map(i=>this.visit(i)):[]}paramArg(t){return{type:"ParamArgument",name:t.Identifier[0].image,value:this.visit(t.value[0]),loc:this.loc(t.Identifier[0])}}paramDefList(t){return t.paramDef?t.paramDef.map(i=>this.visit(i)):[]}paramDef(t){const i=t.Identifier[0].image,a=t.Question!==void 0,l=this.visit(t.paramType[0]),c=t.value?this.visit(t.value[0]):void 0;return{type:"ParamDefinition",name:i,paramType:l,optional:a||c!==void 0,defaultValue:c,loc:this.loc(t.Identifier[0])}}paramType(t){if(t.StringType)return{kind:"string"};if(t.NumberType)return{kind:"number"};if(t.BooleanType)return{kind:"boolean"};if(t.enumType)return{kind:"enum",options:this.visit(t.enumType[0]).constraints?.options??[]};throw new Error("Unknown param type")}templateExpr(t){return{type:"TemplateExpression",name:t.Identifier[0].image,loc:this.loc(t.TemplateOpen[0])}}parseStringLiteral(t){let a=t.slice(1,-1).replace(/\\n/g,`
`).replace(/\\t/g,"	").replace(/\\r/g,"\r").replace(/\\"/g,'"').replace(/\\'/g,"'").replace(/\\\\/g,"\\");return this.interpolateEnv&&(a=this.interpolateEnvVars(a)),a}interpolateEnvVars(t){const i=/\$\{([A-Za-z_]\w*)(?::-([^}]*))?\}/g;return t.replace(i,(a,l,c)=>{const f=this.envProvider(l);return f!==void 0?f:c!==void 0?c:(console.warn(`Warning: Environment variable '${l}' is not set, using empty string`),"")})}parsePathReference(t){const i=t.image,a=i.slice(1);let l,c=a;const f=a.match(/@(\d+\.\d+\.\d+)$/);f&&(l=f[1],c=a.slice(0,-f[0].length));const h=c.split("/"),p=h[0];return{type:"PathReference",raw:i,namespace:p,segments:h.slice(1),version:l,isRelative:!1,loc:this.loc(t)}}parseRelativePath(t){const i=t.image,a=i.split("/").filter(l=>l!=="."&&l!=="..");return{type:"PathReference",raw:i,segments:a,isRelative:!0,loc:this.loc(t)}}}const fl=new pM,RT={name:"xml",description:"XML-style tags for section structure",section:{start:"<{{name}}>",end:"</{{name}}>",nameTransform:"kebab-case",indent:"  "},subsection:{start:"  <{{name}}>",end:"  </{{name}}>",nameTransform:"kebab-case",indent:"  "},listStyle:"dash",codeBlockDelimiter:"```"},mM={name:"markdown",description:"Markdown headers for section structure",section:{start:"## {{name}}",end:"",nameTransform:"none",indent:""},subsection:{start:"### {{name}}",end:"",nameTransform:"none",indent:""},listStyle:"dash",codeBlockDelimiter:"```"},Bh={xml:RT,markdown:mM};function gM(s){return s in Bh}const CT={proseWrap:"preserve",tabWidth:2,printWidth:80};var Hi=(s=>(s.PARSE_ERROR="PS1000",s.UNEXPECTED_TOKEN="PS1001",s.UNTERMINATED_STRING="PS1002",s.INVALID_PATH="PS1003",s.RESOLVE_ERROR="PS2000",s.FILE_NOT_FOUND="PS2001",s.CIRCULAR_DEPENDENCY="PS2002",s.INVALID_INHERIT="PS2003",s.GIT_CLONE_ERROR="PS2004",s.GIT_AUTH_ERROR="PS2005",s.GIT_REF_NOT_FOUND="PS2006",s.MISSING_PARAM="PS2010",s.UNKNOWN_PARAM="PS2011",s.PARAM_TYPE_MISMATCH="PS2012",s.UNDEFINED_VARIABLE="PS2013",s.VALIDATION_ERROR="PS3000",s.REQUIRED_FIELD="PS3001",s.INVALID_VALUE="PS3002",s.BLOCKED_PATTERN="PS3003",s.MISSING_GUARD="PS3004",s))(Hi||{});class yr extends Error{code;location;cause;constructor(t,i,a){super(t),this.name="PSError",this.code=i,this.location=a?.location,this.cause=a?.cause,Error.captureStackTrace?.(this,this.constructor)}format(){let t=`${this.name} [${this.code}]: ${this.message}`;return this.location&&(t+=`
  at ${this.location.file}:${this.location.line}:${this.location.column}`),t}toJSON(){return{name:this.name,code:this.code,message:this.message,location:this.location}}}class Pf extends yr{constructor(t,i,a=Hi.PARSE_ERROR){super(t,a,{location:i}),this.name="ParseError"}}class Ui extends yr{constructor(t,i,a=Hi.RESOLVE_ERROR){super(t,a,{location:i}),this.name="ResolveError"}}class Bf extends Ui{chain;constructor(t){super(`Circular dependency detected: ${t.join("  ")}`,void 0,Hi.CIRCULAR_DEPENDENCY),this.name="CircularDependencyError",this.chain=t}}class yM extends yr{paramName;templatePath;constructor(t,i,a){super(`Missing required parameter '${t}' for template '${i}'`,Hi.MISSING_PARAM,a),this.name="MissingParamError",this.paramName=t,this.templatePath=i}}class pv extends yr{paramName;templatePath;availableParams;constructor(t,i,a,l){const c=a.length>0?`. Available parameters: ${a.join(", ")}`:". This template has no parameters.";super(`Unknown parameter '${t}' for template '${i}'${c}`,Hi.UNKNOWN_PARAM,l),this.name="UnknownParamError",this.paramName=t,this.templatePath=i,this.availableParams=a}}class hl extends yr{paramName;expectedType;actualType;constructor(t,i,a,l){super(`Type mismatch for parameter '${t}': expected ${i}, got ${a}`,Hi.PARAM_TYPE_MISMATCH,l),this.name="ParamTypeMismatchError",this.paramName=t,this.expectedType=i,this.actualType=a}}class NT extends yr{variableName;sourceFile;constructor(t,i,a){super(`Undefined template variable '{{${t}}}' in '${i}'`,Hi.UNDEFINED_VARIABLE,a),this.name="UndefinedVariableError",this.variableName=t,this.sourceFile=i}}const vM={arrayStrategy:"unique",textStrategy:"concat",textSeparator:`

`};function Di(s,t,i={}){const a={...vM,...i},l={...s};for(const c of Object.keys(t)){const f=t[c];f!==void 0&&(l[c]=TM(s[c],f,a))}return l}function TM(s,t,i){return t===null?null:Array.isArray(t)?SM(Array.isArray(s)?s:[],t,i.arrayStrategy):xa(t)?AM(xa(s)?s:void 0,t,i):mv(t)&&mv(s)?Di(s,t,i):t}function SM(s,t,i){switch(i){case"replace":return[...t];case"concat":return[...s,...t];case"unique":return EM([...s,...t])}}function EM(s){const t=new Set,i=[];for(const a of s){const l=typeof a=="object"?JSON.stringify(a):String(a);t.has(l)||(t.add(l),i.push(a))}return i}function AM(s,t,i){if(!s)return t;switch(i.textStrategy){case"replace":return t;case"concat":return{...t,value:`${s.value}${i.textSeparator}${t.value}`};case"prepend":return{...t,value:`${t.value}${i.textSeparator}${s.value}`}}}function xa(s){return typeof s=="object"&&s!==null&&"type"in s&&s.type==="TextContent"}function mv(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)&&Object.getPrototypeOf(s)===Object.prototype}function Ve(s){if(s===null||typeof s!="object")return s;if(Array.isArray(s))return s.map(Ve);const t={};for(const[i,a]of Object.entries(s))t[i]=Ve(a);return t}var $f,gv;function bM(){if(gv)return $f;gv=1;function s(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function t(l,c){for(var f="",h=0,p=-1,m=0,y,v=0;v<=l.length;++v){if(v<l.length)y=l.charCodeAt(v);else{if(y===47)break;y=47}if(y===47){if(!(p===v-1||m===1))if(p!==v-1&&m===2){if(f.length<2||h!==2||f.charCodeAt(f.length-1)!==46||f.charCodeAt(f.length-2)!==46){if(f.length>2){var S=f.lastIndexOf("/");if(S!==f.length-1){S===-1?(f="",h=0):(f=f.slice(0,S),h=f.length-1-f.lastIndexOf("/")),p=v,m=0;continue}}else if(f.length===2||f.length===1){f="",h=0,p=v,m=0;continue}}c&&(f.length>0?f+="/..":f="..",h=2)}else f.length>0?f+="/"+l.slice(p+1,v):f=l.slice(p+1,v),h=v-p-1;p=v,m=0}else y===46&&m!==-1?++m:m=-1}return f}function i(l,c){var f=c.dir||c.root,h=c.base||(c.name||"")+(c.ext||"");return f?f===c.root?f+h:f+l+h:h}var a={resolve:function(){for(var c="",f=!1,h,p=arguments.length-1;p>=-1&&!f;p--){var m;p>=0?m=arguments[p]:(h===void 0&&(h=process.cwd()),m=h),s(m),m.length!==0&&(c=m+"/"+c,f=m.charCodeAt(0)===47)}return c=t(c,!f),f?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(c){if(s(c),c.length===0)return".";var f=c.charCodeAt(0)===47,h=c.charCodeAt(c.length-1)===47;return c=t(c,!f),c.length===0&&!f&&(c="."),c.length>0&&h&&(c+="/"),f?"/"+c:c},isAbsolute:function(c){return s(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,f=0;f<arguments.length;++f){var h=arguments[f];s(h),h.length>0&&(c===void 0?c=h:c+="/"+h)}return c===void 0?".":a.normalize(c)},relative:function(c,f){if(s(c),s(f),c===f||(c=a.resolve(c),f=a.resolve(f),c===f))return"";for(var h=1;h<c.length&&c.charCodeAt(h)===47;++h);for(var p=c.length,m=p-h,y=1;y<f.length&&f.charCodeAt(y)===47;++y);for(var v=f.length,S=v-y,x=m<S?m:S,C=-1,k=0;k<=x;++k){if(k===x){if(S>x){if(f.charCodeAt(y+k)===47)return f.slice(y+k+1);if(k===0)return f.slice(y+k)}else m>x&&(c.charCodeAt(h+k)===47?C=k:k===0&&(C=0));break}var H=c.charCodeAt(h+k),P=f.charCodeAt(y+k);if(H!==P)break;H===47&&(C=k)}var U="";for(k=h+C+1;k<=p;++k)(k===p||c.charCodeAt(k)===47)&&(U.length===0?U+="..":U+="/..");return U.length>0?U+f.slice(y+C):(y+=C,f.charCodeAt(y)===47&&++y,f.slice(y))},_makeLong:function(c){return c},dirname:function(c){if(s(c),c.length===0)return".";for(var f=c.charCodeAt(0),h=f===47,p=-1,m=!0,y=c.length-1;y>=1;--y)if(f=c.charCodeAt(y),f===47){if(!m){p=y;break}}else m=!1;return p===-1?h?"/":".":h&&p===1?"//":c.slice(0,p)},basename:function(c,f){if(f!==void 0&&typeof f!="string")throw new TypeError('"ext" argument must be a string');s(c);var h=0,p=-1,m=!0,y;if(f!==void 0&&f.length>0&&f.length<=c.length){if(f.length===c.length&&f===c)return"";var v=f.length-1,S=-1;for(y=c.length-1;y>=0;--y){var x=c.charCodeAt(y);if(x===47){if(!m){h=y+1;break}}else S===-1&&(m=!1,S=y+1),v>=0&&(x===f.charCodeAt(v)?--v===-1&&(p=y):(v=-1,p=S))}return h===p?p=S:p===-1&&(p=c.length),c.slice(h,p)}else{for(y=c.length-1;y>=0;--y)if(c.charCodeAt(y)===47){if(!m){h=y+1;break}}else p===-1&&(m=!1,p=y+1);return p===-1?"":c.slice(h,p)}},extname:function(c){s(c);for(var f=-1,h=0,p=-1,m=!0,y=0,v=c.length-1;v>=0;--v){var S=c.charCodeAt(v);if(S===47){if(!m){h=v+1;break}continue}p===-1&&(m=!1,p=v+1),S===46?f===-1?f=v:y!==1&&(y=1):f!==-1&&(y=-1)}return f===-1||p===-1||y===0||y===1&&f===p-1&&f===h+1?"":c.slice(f,p)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return i("/",c)},parse:function(c){s(c);var f={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return f;var h=c.charCodeAt(0),p=h===47,m;p?(f.root="/",m=1):m=0;for(var y=-1,v=0,S=-1,x=!0,C=c.length-1,k=0;C>=m;--C){if(h=c.charCodeAt(C),h===47){if(!x){v=C+1;break}continue}S===-1&&(x=!1,S=C+1),h===46?y===-1?y=C:k!==1&&(k=1):y!==-1&&(k=-1)}return y===-1||S===-1||k===0||k===1&&y===S-1&&y===v+1?S!==-1&&(v===0&&p?f.base=f.name=c.slice(1,S):f.base=f.name=c.slice(v,S)):(v===0&&p?(f.name=c.slice(1,y),f.base=c.slice(1,S)):(f.name=c.slice(v,y),f.base=c.slice(v,S)),f.ext=c.slice(y,S)),v>0?f.dir=c.slice(0,v-1):p&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};return a.posix=a,$f=a,$f}bM();const $h={verbose:()=>{},debug:()=>{}};function xM(s){switch(s.kind){case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"enum":return`enum(${s.options.map(t=>`"${t}"`).join(", ")})`}}function OM(s){if(s===null)return"null";if(typeof s=="string")return"string";if(typeof s=="number")return"number";if(typeof s=="boolean")return"boolean";if(Array.isArray(s))return"array";if(typeof s=="object"&&"type"in s){const t=s;if(t.type==="TextContent")return"string";if(t.type==="TemplateExpression")return"template"}return"object"}function RM(s,t,i,a){const l=OM(t),c=xM(i);switch(i.kind){case"string":if(l!=="string")throw new hl(s,c,l,{location:a});break;case"number":if(l!=="number")throw new hl(s,c,l,{location:a});break;case"boolean":if(l!=="boolean")throw new hl(s,c,l,{location:a});break;case"enum":if(l!=="string"||!i.options.includes(t))throw new hl(s,c,String(t),{location:a});break}}function yv(s,t,i,a){const l=new Map;if(!t||t.length===0){if(s&&s.length>0&&s[0]!==void 0)throw new pv(s[0].name,i,[],{location:a});return l}const c=new Map;for(const h of t)c.set(h.name,h);const f=new Set;if(s)for(const h of s){const p=c.get(h.name);if(!p)throw new pv(h.name,i,t.map(m=>m.name),{location:h.loc});RM(h.name,h.value,p.paramType,h.loc),l.set(h.name,h.value),f.add(h.name)}for(const h of t)if(!f.has(h.name)){if(h.defaultValue!==void 0)l.set(h.name,h.defaultValue);else if(!h.optional)throw new yM(h.name,i,{location:a})}return l}function CM(s){return s===null?"null":typeof s=="string"?s:typeof s=="number"||typeof s=="boolean"?String(s):Array.isArray(s)?JSON.stringify(s):typeof s=="object"&&"type"in s&&s.type==="TextContent"?s.value:JSON.stringify(s)}function Ul(s,t){const i=/\{\{([a-zA-Z_][a-zA-Z0-9_]*)\}\}/g;return s.replace(i,(a,l)=>{const c=t.params.get(l);if(c===void 0)throw new NT(l,t.sourceFile);return CM(c)})}function Dl(s,t){if(s===null||typeof s=="number"||typeof s=="boolean")return s;if(typeof s=="string")return Ul(s,t);if(Array.isArray(s))return s.map(i=>Dl(i,t));if(typeof s=="object"&&"type"in s){const i=s;if(i.type==="TemplateExpression"){const a=s,l=t.params.get(a.name);if(l===void 0)throw new NT(a.name,t.sourceFile,{location:a.loc});return l}if(i.type==="TextContent"){const a=s;return{...a,value:Ul(a.value,t)}}if(i.type==="TypeExpression")return s}if(typeof s=="object"){const i={};for(const[a,l]of Object.entries(s))i[a]=Dl(l,t);return i}return s}function _T(s,t){switch(s.type){case"TextContent":return{...s,value:Ul(s.value,t)};case"ObjectContent":return{...s,properties:lh(s.properties,t)};case"ArrayContent":return{...s,elements:s.elements.map(i=>Dl(i,t))};case"MixedContent":return{...s,text:s.text?{...s.text,value:Ul(s.text.value,t)}:void 0,properties:lh(s.properties,t)}}}function lh(s,t){const i={};for(const[a,l]of Object.entries(s))i[a]=Dl(l,t);return i}function NM(s,t){return{...s,content:_T(s.content,t)}}function vv(s,t){return t.params.size===0?s:{...s,meta:s.meta?{...s.meta,fields:lh(s.meta.fields,t)}:void 0,blocks:s.blocks.map(i=>NM(i,t)),extends:s.extends.map(i=>({...i,content:_T(i.content,t)}))}}function _M(s,t={}){const{filename:i="<unknown>",tolerant:a=!1,recovery:l=!1,interpolateEnv:c=!1,envProvider:f}=t,h=a||l,p=[],m=uM.tokenize(s);for(const v of m.errors)p.push(new Pf(`Lexer: ${v.message}`,{file:i,line:v.line,column:v.column}));if(p.length>0&&!h)return{ast:null,errors:p};bl.input=m.tokens;const y=bl.program();for(const v of bl.errors)p.push(new Pf(v.message,{file:i,line:v.token.startLine,column:v.token.startColumn}));if(p.length>0&&!h)return{ast:null,errors:p};try{return fl.setInterpolateEnv(c),f?fl.setEnvProvider(f):fl.resetEnvProvider(),{ast:fl.visit(y,i),errors:p}}catch(v){return p.push(new Pf(`AST transformation: ${v.message}`,{file:i,line:1,column:1})),{ast:null,errors:p}}}const ma="__import__";class kM{fs;cache;resolving;cacheEnabled;logger;envVars;constructor(t){this.fs=t.fs,this.cache=new Map,this.resolving=new Set,this.cacheEnabled=t.cache!==!1,this.logger=t.logger??$h,this.envVars=t.envVars}async resolve(t){const i=this.normalizePath(t);if(this.resolving.has(i))throw this.logger.debug(`Circular dependency detected: ${i}`),new Bf([...this.resolving,i]);if(this.cacheEnabled&&this.cache.has(i))return this.logger.debug(`Cache hit: ${i}`),this.cache.get(i);this.resolving.add(i),this.logger.verbose(`Parsing ${i}`);try{const a=await this.doResolve(i);return this.cacheEnabled&&(this.logger.debug(`Cache store: ${i}`),this.cache.set(i,a)),a}finally{this.resolving.delete(i)}}normalizePath(t){let i=t.replace(/\\/g,"/");return i.startsWith("/")&&(i=i.slice(1)),i.endsWith(".prs")||(i=`${i}.prs`),i}resolveRef(t,i){if(t.isRelative){const a=this.dirname(i);return this.normalizePath(this.joinPath(a,t.raw))}if(t.raw.startsWith("@")){const a=t.raw.match(/^@([a-zA-Z_][a-zA-Z0-9_-]*)\/(.+?)(?:@[\d.]+)?$/);if(a&&a[1]&&a[2]){const l=a[1],c=a[2],f=c.endsWith(".prs")?c:`${c}.prs`;return`@${l}/${f}`}}return this.normalizePath(t.raw)}dirname(t){const i=t.lastIndexOf("/");return i===-1?"":t.slice(0,i)}joinPath(...t){const i=[];for(const a of t){if(!a)continue;const l=a.split("/");for(const c of l)c===".."?i.pop():c!=="."&&c!==""&&i.push(c)}return i.join("/")}async doResolve(t){const i=[t],a=[],l=this.loadAndParse(t,i,a);if(!l.ast)return{ast:null,sources:i,errors:a};let c=l.ast;return c=await this.resolveInherit(c,t,i,a),c=await this.resolveImports(c,t,i,a),c.extends.length>0&&this.logger.debug(`Applying ${c.extends.length} extension(s)`),c=this.applyExtends(c),this.logger.debug(`Resolved ${i.length} source file(s)`),{ast:c,sources:[...new Set(i)],errors:a}}loadAndParse(t,i,a){let l;try{l=this.fs.read(t)}catch{return a.push(new Ui(`File not found: ${t}`)),{ast:null}}const c={filename:t};this.envVars&&Object.keys(this.envVars).length>0&&(c.interpolateEnv=!0,c.envProvider=h=>this.envVars?.[h]);const f=_M(l,c);if(!f.ast){for(const h of f.errors)a.push(new Ui(h.message,h.location));return{ast:null}}for(const h of f.errors)a.push(new Ui(h.message,h.location));return{ast:f.ast}}async resolveInherit(t,i,a,l){if(!t.inherit)return t;const c=this.resolveRef(t.inherit.path,i);this.logger.verbose(`Resolving inherit: ${t.inherit.path.raw}`),this.logger.verbose(`   ${c}`);try{const f=await this.resolve(c);if(a.push(...f.sources),l.push(...f.errors),f.ast){let h=f.ast;if(f.ast.meta?.params||t.inherit.params){this.logger.debug(`Binding template parameters for ${c}`);try{const p=yv(t.inherit.params,f.ast.meta?.params,c,t.inherit.loc);if(p.size>0){const m={params:p,sourceFile:c};h=vv(f.ast,m),this.logger.debug(`Interpolated ${p.size} parameter(s)`)}}catch(p){return l.push(new Ui(p.message,t.inherit.loc)),t}}return this.logger.debug("Merging with parent AST"),this.resolveInheritance(h,t)}}catch(f){if(f instanceof Bf)throw f;l.push(new Ui(`Failed to resolve parent: ${f.message}`))}return t}async resolveImports(t,i,a,l){let c=t;for(const f of t.uses){const h=this.resolveRef(f.path,i);this.logger.verbose(`Resolving import: ${f.path.raw}`),this.logger.verbose(`   ${h}`);try{const p=await this.resolve(h);if(a.push(...p.sources),l.push(...p.errors),p.ast){let m=p.ast;if(p.ast.meta?.params||f.params){this.logger.debug(`Binding template parameters for ${h}`);try{const y=yv(f.params,p.ast.meta?.params,h,f.loc);if(y.size>0){const v={params:y,sourceFile:h};m=vv(p.ast,v),this.logger.debug(`Interpolated ${y.size} parameter(s)`)}}catch(y){l.push(new Ui(y.message,f.loc));continue}}this.logger.debug(`Merging import${f.alias?` as "${f.alias}"`:""}`),c=this.resolveUses(c,f,m)}}catch(p){if(p instanceof Bf)throw p;l.push(new Ui(`Failed to resolve import: ${p.message}`))}}return c}clearCache(){this.cache.clear()}resolveInheritance(t,i){return{...i,meta:t.meta&&i.meta?{...i.meta,fields:Di(t.meta.fields,i.meta.fields)}:i.meta??t.meta,blocks:this.mergeBlocks(t.blocks,i.blocks),inherit:void 0,uses:i.uses,extends:i.extends}}mergeBlocks(t,i){const a=new Map(i.map(f=>[f.name,f])),l=[],c=new Set;for(const f of t){const h=a.get(f.name);h?(l.push(this.mergeBlock(f,h)),c.add(f.name)):l.push(Ve(f))}for(const f of i)c.has(f.name)||l.push(Ve(f));return l}mergeBlock(t,i){return{...i,content:this.mergeBlockContent(t.content,i.content)}}mergeBlockContent(t,i){if(t.type===i.type)switch(i.type){case"TextContent":return this.mergeTextContent(t,i);case"ObjectContent":return this.mergeObjectContent(t,i);case"ArrayContent":return this.mergeArrayContent(t,i);case"MixedContent":return this.mergeMixedContent(t,i)}return t.type==="MixedContent"&&i.type==="TextContent"?{...t,text:t.text?this.mergeTextContent(t.text,i):Ve(i)}:t.type==="TextContent"&&i.type==="MixedContent"?{...i,text:i.text?this.mergeTextContent(t,i.text):Ve(t)}:t.type==="MixedContent"&&i.type==="ObjectContent"?{...t,properties:Di(t.properties,i.properties)}:t.type==="ObjectContent"&&i.type==="MixedContent"?{...i,properties:Di(t.properties,i.properties)}:Ve(i)}mergeTextContent(t,i){const a=t.value.trim(),l=i.value.trim();return a===l?{...i,value:l}:l.includes(a)?{...i,value:l}:a.includes(l)?{...i,value:a}:{...i,value:`${a}

${l}`}}mergeObjectContent(t,i){return{...i,properties:this.mergeProperties(t.properties,i.properties)}}mergeProperties(t,i){const a={...t};for(const[l,c]of Object.entries(i)){const f=a[l];f===void 0?a[l]=this.deepCloneValue(c):Array.isArray(c)&&Array.isArray(f)?a[l]=this.uniqueConcat(f,c):xa(c)&&xa(f)?a[l]=this.deepCloneValue(c):this.isPlainObject(c)&&this.isPlainObject(f)?a[l]=this.mergeProperties(f,c):a[l]=this.deepCloneValue(c)}return a}mergeArrayContent(t,i){return{...i,elements:this.uniqueConcat(t.elements,i.elements)}}mergeMixedContent(t,i){return{...i,text:t.text&&i.text?this.mergeTextContent(t.text,i.text):i.text??t.text,properties:this.mergeProperties(t.properties,i.properties)}}resolveUses(t,i,a){const l=this.mergeBlocksForImport(t.blocks,a.blocks),c=[];if(i.alias){const f=i.alias,p={type:"Block",name:`${ma}${f}`,content:{type:"ObjectContent",properties:{__source:i.path.raw,__blocks:a.blocks.map(m=>m.name)},loc:i.loc},loc:i.loc};c.push(p);for(const m of a.blocks)c.push({...m,name:`${ma}${f}.${m.name}`})}return{...t,blocks:[...l,...c]}}mergeBlocksForImport(t,i){const a=new Map(t.map(f=>[f.name,f])),l=[],c=new Set;for(const f of t){const h=i.find(p=>p.name===f.name);h?(l.push(this.mergeBlock(h,f)),c.add(f.name)):l.push(Ve(f))}for(const f of i)!c.has(f.name)&&!a.has(f.name)&&l.push(Ve(f));return l}applyExtends(t){let i=[...t.blocks];for(const a of t.extends)i=this.applyExtend(i,a);return i=i.filter(a=>!a.name.startsWith(ma)),{...t,blocks:i,extends:[]}}applyExtend(t,i){const a=i.targetPath.split("."),l=a[0];let c=l,f=a.slice(1);t.find(v=>v.name===`${ma}${l}`)&&a.length>1&&(c=`${ma}${l}.${a[1]}`,f=a.slice(2));const p=t.findIndex(v=>v.name===c);if(p===-1)return t;const m=t[p];if(!m)return t;const y=this.mergeExtension(m,f,i);return[...t.slice(0,p),y,...t.slice(p+1)]}mergeExtension(t,i,a){return i.length===0?{...t,content:this.mergeExtendContent(t.content,a.content)}:{...t,content:this.mergeAtPath(t.content,i,a.content)}}mergeAtPath(t,i,a){if(i.length===0)return this.mergeExtendContent(t,a);const l=i[0];if(!l)return this.mergeExtendContent(t,a);const c=i.slice(1);if(t.type==="ObjectContent"){const f=t.properties[l];return c.length===0?{...t,properties:{...t.properties,[l]:this.mergeExtendValue(f,a)}}:f&&typeof f=="object"&&!Array.isArray(f)?{...t,properties:{...t.properties,[l]:this.mergeAtPathValue(f,c,a)}}:{...t,properties:{...t.properties,[l]:this.buildPathValue(c,a)}}}if(t.type==="MixedContent"){const f=t.properties[l];return c.length===0?{...t,properties:{...t.properties,[l]:this.mergeExtendValue(f,a)}}:f&&typeof f=="object"&&!Array.isArray(f)?{...t,properties:{...t.properties,[l]:this.mergeAtPathValue(f,c,a)}}:{...t,properties:{...t.properties,[l]:this.buildPathValue(c,a)}}}return t}mergeAtPathValue(t,i,a){if(i.length===0)return this.mergeExtendValue(t,a);if(typeof t!="object"||t===null||Array.isArray(t))return this.buildPathValue(i,a);const l=i[0];if(!l)return this.mergeExtendValue(t,a);const c=i.slice(1),f=t,h=f[l];return c.length===0?{...f,[l]:this.mergeExtendValue(h,a)}:h&&typeof h=="object"&&!Array.isArray(h)?{...f,[l]:this.mergeAtPathValue(h,c,a)}:{...f,[l]:this.buildPathValue(c,a)}}buildPathValue(t,i){if(t.length===0)return this.extractValue(i);const a={};let l=a;for(let f=0;f<t.length-1;f++){const h=t[f];if(h){const p={};l[h]=p,l=p}}const c=t[t.length-1];return c&&(l[c]=this.extractValue(i)),a}extractValue(t){switch(t.type){case"TextContent":return t.value;case"ObjectContent":return Ve(t.properties);case"ArrayContent":return Ve(t.elements);case"MixedContent":return Ve(t.properties)}}mergeExtendValue(t,i){return t===void 0?this.extractValue(i):Array.isArray(t)&&i.type==="ArrayContent"?this.uniqueConcat(t,i.elements):typeof t=="object"&&t!==null&&!Array.isArray(t)&&i.type==="ObjectContent"?Di(t,i.properties):xa(t)&&i.type==="TextContent"?{...i,value:`${t.value}

${i.value}`}:this.extractValue(i)}mergeExtendContent(t,i){if(t.type===i.type)switch(i.type){case"TextContent":return{...i,value:`${t.value}

${i.value}`};case"ObjectContent":return{...i,properties:Di(t.properties,i.properties)};case"ArrayContent":return{...i,elements:this.uniqueConcat(t.elements,i.elements)};case"MixedContent":{const a=t,l=a.text&&i.text?{...i.text,value:`${a.text.value}

${i.text.value}`}:i.text??a.text;return{...i,text:l,properties:Di(a.properties,i.properties)}}}if(t.type==="ObjectContent"&&i.type==="TextContent")return{type:"MixedContent",text:i,properties:t.properties,loc:i.loc};if(t.type==="TextContent"&&i.type==="ObjectContent")return{type:"MixedContent",text:t,properties:i.properties,loc:i.loc};if(t.type==="MixedContent"&&i.type==="TextContent"){const a=t;return{...a,text:a.text?{...i,value:`${a.text.value}

${i.value}`}:i}}if(t.type==="MixedContent"&&i.type==="ObjectContent"){const a=t;return{...a,properties:Di(a.properties,i.properties)}}return Ve(i)}uniqueConcat(t,i){const a=new Set,l=[];for(const c of[...t,...i]){const f=typeof c=="object"&&c!==null?JSON.stringify(c):String(c);a.has(f)||(a.add(f),l.push(this.deepCloneValue(c)))}return l}isPlainObject(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&Object.getPrototypeOf(t)===Object.prototype}deepCloneValue(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(a=>this.deepCloneValue(a));const i={};for(const[a,l]of Object.entries(t))i[a]=this.deepCloneValue(l);return i}}class ch{convention;prettierOptions;constructor(t="xml"){let i,a;if(typeof t=="object"&&("convention"in t||"prettier"in t)){const l=t;i=l.convention??"xml",a=l.prettier}else i=t;if(typeof i=="string")if(gM(i))this.convention=Bh[i];else throw new Error(`Unknown convention: ${i}. Use a built-in convention ('xml', 'markdown') or provide a custom OutputConvention.`);else this.convention=i;this.prettierOptions={...CT,...a}}getPrettierOptions(){return this.prettierOptions}getConvention(){return this.convention}renderSection(t,i,a=1){const l=a===1?this.convention.section:this.convention.subsection??this.convention.section,c=this.transformName(t,l.nameTransform),f=this.applyTemplate(l.start,{name:c,level:a}),h=l.end?this.applyTemplate(l.end,{name:c,level:a}):"";let p=i.trim();if(!p)return h?`${f}
${h}`:f;this.convention.name==="markdown"&&(p=this.escapeMarkdownSpecialChars(p));const m=this.indentContent(p,l,a);return h?`${f}
${m}
${h}`:this.convention.name==="markdown"?`${f}

${m}`:`${f}
${m}`}renderList(t){const i=this.getListMarker();return t.map(a=>`${i} ${a}`).join(`
`)}renderCodeBlock(t,i=""){const a=this.convention.codeBlockDelimiter??"```";return`${a}${i}
${t}
${a}`}wrapRoot(t){return this.convention.rootWrapper?`${this.convention.rootWrapper.start}
${t}
${this.convention.rootWrapper.end}`:t}getSectionSeparator(){return this.convention.name==="markdown",`

`}getListMarker(){switch(this.convention.listStyle){case"asterisk":return"*";case"bullet":return"";case"numbered":return"1.";default:return"-"}}transformName(t,i){switch(i){case"kebab-case":return this.toKebabCase(t);case"camelCase":return this.toCamelCase(t);case"PascalCase":return this.toPascalCase(t);default:return t}}toKebabCase(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()}toCamelCase(t){return t.replace(/[-_\s]+(.)?/g,(i,a)=>a?a.toUpperCase():"").replace(/^(.)/,i=>i.toLowerCase())}toPascalCase(t){return t.replace(/[-_\s]+(.)?/g,(i,a)=>a?a.toUpperCase():"").replace(/^(.)/,i=>i.toUpperCase())}applyTemplate(t,i){let a=t;a=a.replace(/\{\{name\}\}/g,i.name),a=a.replace(/\{\{level\}\}/g,String(i.level));const c=/\{\{#repeat\s+(\w+)\}\}(.+?)\{\{\/repeat\}\}/.exec(a);if(c){const f=c[1],h=c[2],p=f==="level"?i.level:1,m=h.repeat(p);a=a.replace(c[0],m)}return a}escapeMarkdownSpecialChars(t){return t.split(`
`).map(i=>{let a=i.replace(/__/g,"\\_\\_");return a=this.escapeGlobAsteriskOutsideBackticks(a),a}).join(`
`)}escapeGlobAsteriskOutsideBackticks(t){return t.split("`").map((a,l)=>l%2===0?a.replace(/\/\*/g,"/\\*"):a).join("`")}indentContent(t,i,a){if(!(i.indent??""))return t;if(this.convention.name==="xml"){const f=" ".repeat(this.prettierOptions.tabWidth).repeat(a);return t.split(`
`).map(h=>h.trim()?`${f}${h}`:h).join(`
`)}return t}}new ch(RT),new ch(Bh.markdown);const MM=["git","config","documentation","diagrams"],Tv={typescript:"TypeScript",naming:"Naming Conventions",errors:"Error Handling",testing:"Testing",security:"Security",performance:"Performance",accessibility:"Accessibility",documentation:"Documentation"};function LM(s){return s in Tv?Tv[s]:s.split(/[-_]/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function wM(s){return s==="errors"?"error-handling":s}class IM{options;constructor(t={}){this.options={supportLegacyFormat:t.supportLegacyFormat??!0,supportObjectFormat:t.supportObjectFormat??!0}}extract(t){const i=this.getProps(t),a=new Map,l=this.extractGit(i),c=this.extractConfig(i),f=this.extractDocumentation(i),h=this.extractDiagrams(i);let p=!1;if(this.options.supportLegacyFormat){const m=i.code;if(m&&typeof m=="object"&&!Array.isArray(m)){const y=m;if("style"in y||"patterns"in y){const v=[];this.addArrayItems(v,y.style),this.addArrayItems(v,y.patterns),v.length>0&&(a.set("code",{key:"code",sectionName:"code",title:"Code Style",items:v,rawValue:m}),p=!0)}}}for(const[m,y]of Object.entries(i)){if(this.isNonCodeKey(m)||m==="code"&&p)continue;const v=this.extractEntry(m,y);v&&v.items.length>0&&a.set(m,v)}return{codeStandards:a,git:l,config:c,documentation:f,diagrams:h}}extractFromProgram(t){const i=t.blocks.find(a=>a.name==="standards"&&!a.name.startsWith("__"));return i?this.extract(i.content):null}extractEntry(t,i){const a=[];if(Array.isArray(i))for(const l of i){const c=this.valueToString(l);c&&a.push(c)}else this.options.supportObjectFormat&&i&&typeof i=="object"?this.extractFromObject(i,a):typeof i=="string"&&i.trim()&&a.push(i.trim());return a.length===0?null:{key:t,sectionName:wM(t),title:LM(t),items:a,rawValue:i}}extractFromObject(t,i){for(const[a,l]of Object.entries(t)){if(l==null||l===!1)continue;if(l===!0){i.push(a);continue}const c=this.valueToString(l);c&&i.push(`${a}: ${c}`)}}extractGit(t){const i=t.git;if(!i||typeof i!="object"||Array.isArray(i))return;const a=i,l={};return a.format&&(l.format=this.valueToString(a.format)),Array.isArray(a.types)&&(l.types=a.types.map(c=>this.valueToString(c)).filter(Boolean)),a.example&&(l.example=this.valueToString(a.example)),Object.keys(l).length>0?l:void 0}extractConfig(t){const i=t.config;if(!i||typeof i!="object"||Array.isArray(i))return;const a=i,l={};for(const[c,f]of Object.entries(a)){const h=this.valueToString(f);h&&(l[c]=h)}return Object.keys(l).length>0?l:void 0}extractDocumentation(t){const i=t.documentation;if(!i)return;const a=[];if(Array.isArray(i))for(const l of i){const c=this.valueToString(l);c&&a.push(c)}else typeof i=="object"?this.extractFromObject(i,a):typeof i=="string"&&i.trim()&&a.push(i.trim());return a.length>0?{items:a,rawValue:i}:void 0}extractDiagrams(t){const i=t.diagrams;if(!i||typeof i!="object"||Array.isArray(i))return;const a=i;let l,c;if(a.format?l=this.valueToString(a.format):a.tool&&(l=this.valueToString(a.tool)),Array.isArray(a.types)&&(c=a.types.map(f=>this.valueToString(f)).filter(Boolean)),l||c&&c.length>0)return{format:l,types:c,rawValue:i}}isNonCodeKey(t){return MM.includes(t)}addArrayItems(t,i){if(Array.isArray(i))for(const a of i){const l=this.valueToString(a);l&&t.push(l)}}getProps(t){switch(t.type){case"ObjectContent":return t.properties;case"MixedContent":return t.properties;default:return{}}}valueToString(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof t=="number"||typeof t=="boolean")return String(t);if(Array.isArray(t))return t.map(i=>this.valueToString(i)).join(", ");if(typeof t=="object"&&"type"in t){if(t.type==="TextContent"&&typeof t.value=="string")return t.value.trim();if(t.type==="TypeExpression"&&"kind"in t){const i=t.kind,a="params"in t&&Array.isArray(t.params)?t.params:[];return a.length>0?`${i}(${a.map(l=>this.valueToString(l)).join(", ")})`:i}}if(typeof t=="object"){const i=Object.entries(t);if(i.length>0)return i.map(([a,l])=>`${a}: ${this.valueToString(l)}`).join(", ")}return""}}class nc{standardsExtractor=new IM;createRenderer(t){const i=t?.convention??this.defaultConvention;return new ch({convention:i,prettier:t?.prettier})}getPrettierOptions(t){return{...CT,...t?.prettier}}getOutputPath(t){return t?.outputPath??this.outputPath}findBlock(t,i){return t.blocks.find(a=>a.name===i&&!a.name.startsWith("__"))}extractText(t){switch(t.type){case"TextContent":return t.value.trim();case"MixedContent":return t.text?.value.trim()??"";default:return""}}getProp(t,i){switch(t.type){case"ObjectContent":return t.properties[i];case"MixedContent":return t.properties[i];default:return}}getProps(t){switch(t.type){case"ObjectContent":return t.properties;case"MixedContent":return t.properties;default:return{}}}formatStandardsList(t){return Array.isArray(t)?t.map(i=>this.valueToString(i)).filter(i=>i.length>0):[]}formatArray(t){return t.map(String).join(", ")}truncate(t,i){return t.length>i?t.substring(0,i-3)+"...":t}getMetaField(t,i){const a=t.meta?.fields?.[i];if(typeof a=="string")return a;if(typeof a=="number")return String(a)}getArrayElements(t){return t.type==="ArrayContent"?t.elements:[]}valueToString(t){return t===null?"":typeof t=="string"?t:typeof t=="number"||typeof t=="boolean"?String(t):Array.isArray(t)?t.map(i=>this.valueToString(i)).join(", "):typeof t=="object"&&"type"in t&&t.type==="TextContent"&&typeof t.value=="string"?t.value.trim():""}extractSectionWithCodeBlock(t,i){const a=t.indexOf(i);if(a===-1)return null;const l=a+i.length,c=t.indexOf("```",l);if(c===-1)return null;const f=t.indexOf("```",c+3);if(f===-1)return null;const h=f+3;return t.substring(a,h)}normalizeMarkdownForPrettier(t){const i=t.split(`
`);let a=1/0,l=!1;for(const p of i){const m=p.trimEnd();if(m.trimStart().startsWith("```")){if(l=!l,m.length>0){const x=p.match(/^(\s*)/)?.[1]?.length??0;a=Math.min(a,x)}continue}if(l||m.length===0)continue;const v=p.match(/^(\s*)/)?.[1]?.length??0;a=Math.min(a,v)}a===1/0&&(a=0);const c=[];let f=!1,h=[];l=!1;for(const p of i){const m=p.trimEnd(),y=a>0?m.slice(a):m,v=m.trimStart().startsWith("```"),S=v&&!l;if(v&&(l=!l),l||y.startsWith("```")){if(S){const H=c.length>0?c[c.length-1]??"":"";H.trim()&&!H.startsWith("#")&&c.push("")}c.push(y);continue}let x=y;x=x.replace(/__([^_]+)__/g,"\\_\\_$1\\_\\_"),x=this.escapeGlobAsteriskOutsideBackticks(x);const C=c.length>0?c[c.length-1]:"",k=C?.trimStart().startsWith("#");if(k&&x.trim()&&c.push(""),x.trimStart().startsWith("|")&&x.trimEnd().endsWith("|"))f=!0,h.push(x.trim());else{f&&h.length>0&&(c.push(...this.formatMarkdownTable(h)),h=[],f=!1);const H=x.trimStart().startsWith("- "),P=/^\d+\.\s/.test(x.trimStart()),U=C?.trimStart()??"",I=U.startsWith("- ")||/^\d+\.\s/.test(U),F=C?.trimEnd().endsWith(":")??!1;((H||P)&&C&&!I&&!k||(H||P)&&F)&&c.push(""),c.push(x)}}return h.length>0&&c.push(...this.formatMarkdownTable(h)),c.join(`
`)}escapeGlobAsteriskOutsideBackticks(t){return t.split("`").map((a,l)=>l%2===0?a.replace(/\/\*/g,"/\\*"):a).join("`")}stripAllIndent(t){const i=t.split(`
`),a=[];let l=!1;for(const c of i){const f=c.trimEnd();if(f.trimStart().startsWith("```")){if(!l){const S=a.length>0?a[a.length-1]??"":"";S&&S.trim()&&a.push("")}l=!l,a.push(f.trimStart());continue}if(l){a.push(f);continue}let h=f.trimStart();h=h.replace(/__/g,"\\_\\_"),h=this.escapeGlobAsteriskOutsideBackticks(h);const p=a.length>0?a[a.length-1]??"":"",m=h.startsWith("- ")||/^\d+\.\s/.test(h),y=p.startsWith("- ")||/^\d+\.\s/.test(p),v=p.trimEnd().endsWith(":");(m&&p&&!y||m&&v)&&a.push(""),a.push(h)}return a.join(`
`)}formatMarkdownTable(t){if(t.length===0)return[];const i=t.map(c=>c.split("|").slice(1,-1).map(f=>f.trim())),a=i[0]?.length??0,l=new Array(a).fill(0);for(const c of i)for(let f=0;f<c.length;f++){const h=c[f]??"",p=h.match(/^-+$/)?3:h.length;l[f]=Math.max(l[f]??0,p)}return i.map(c=>"| "+c.map((h,p)=>{const m=l[p]??0;return h.match(/^-+$/)?"-".repeat(m):h.padEnd(m)}).join(" | ")+" |")}dedent(t){const i=t.split(`
`);if(i.length<=1)return t.trim();const a=i.slice(1).filter(c=>c.trim().length>0).reduce((c,f)=>{const p=f.match(/^(\s*)/)?.[1]?.length??0;return Math.min(c,p)},1/0);return a===0||a===1/0?t.trim():[(i[0]??"").trim(),...i.slice(1).map(c=>c.trim().length>0?c.slice(a):"")].join(`
`).trim()}}class us{static factories=new Map;static register(t,i){if(this.factories.has(t))throw new Error(`Formatter '${t}' is already registered`);this.factories.set(t,i)}static get(t){return this.factories.get(t)?.()}static getAll(){return Array.from(this.factories.values()).map(t=>t())}static list(){return Array.from(this.factories.keys())}static has(t){return this.factories.has(t)}static unregister(t){return this.factories.delete(t)}static clear(){this.factories.clear()}}const jM={simple:{name:"simple",description:"Single file output (.github/copilot-instructions.md)",outputPath:".github/copilot-instructions.md"},multifile:{name:"multifile",description:"Main + path-specific instructions (.github/instructions/) + prompts",outputPath:".github/copilot-instructions.md"},full:{name:"full",description:"Multifile + skills (.github/skills/) + agents (.github/agents/) + AGENTS.md",outputPath:".github/copilot-instructions.md"}},Sv={Read:"read",NotebookRead:"read",Edit:"edit",MultiEdit:"edit",Write:"edit",NotebookEdit:"edit",Grep:"search",Glob:"search",Bash:"execute",WebFetch:"web",WebSearch:"web",Task:"agent",TodoWrite:"todo",TodoRead:"todo"},UM={sonnet:"Claude Sonnet 4.5",opus:"Claude Opus 4.5",haiku:"Claude Haiku 4.5","sonnet-4":"Claude Sonnet 4","sonnet-4.5":"Claude Sonnet 4.5","opus-4":"Claude Opus 4","opus-4.5":"Claude Opus 4.5","haiku-4":"Claude Haiku 4","haiku-4.5":"Claude Haiku 4.5","gpt-4o":"GPT-4o","gpt-4.1":"GPT-4.1","gpt-5":"GPT-5","gpt-5-mini":"GPT-5 mini",inherit:"",auto:"Auto"};class DM extends nc{name="github";outputPath=".github/copilot-instructions.md";description="GitHub Copilot instructions (Markdown)";defaultConvention="markdown";static getSupportedVersions(){return jM}format(t,i){const a=this.resolveVersion(i?.version);return a==="full"?this.formatFull(t,i):a==="multifile"?this.formatMultifile(t,i):this.formatSimple(t,i)}resolveVersion(t){return t==="multifile"?"multifile":t==="full"?"full":"simple"}formatSimple(t,i){const a=this.createRenderer(i),l=[];return a.getConvention().name==="markdown"&&l.push(this.header(t)),this.addCommonSections(t,a,l),{path:this.getOutputPath(i),content:l.join(`

`)+`
`}}formatMultifile(t,i){const a=this.createRenderer(i),l=[],c=this.extractInstructions(t);for(const p of c)l.push(this.generateInstructionFile(p));const f=this.extractPrompts(t);for(const p of f)l.push(this.generatePromptFile(p));const h=[];return a.getConvention().name==="markdown"&&h.push(this.header(t)),this.addCommonSections(t,a,h),{path:this.getOutputPath(i),content:h.join(`

`)+`
`,additionalFiles:l.length>0?l:void 0}}formatFull(t,i){const a=this.createRenderer(i),l=[],c=this.extractInstructions(t);for(const v of c)l.push(this.generateInstructionFile(v));const f=this.extractPrompts(t);for(const v of f)l.push(this.generatePromptFile(v));const h=this.extractSkills(t);for(const v of h)l.push(this.generateSkillFile(v));const p=this.extractCustomAgents(t);for(const v of p)l.push(this.generateCustomAgentFile(v));const m=this.generateAgentsFile(t);m&&l.push(m);const y=[];return a.getConvention().name==="markdown"&&y.push(this.header(t)),this.addCommonSections(t,a,y),{path:this.getOutputPath(i),content:y.join(`

`)+`
`,additionalFiles:l.length>0?l:void 0}}extractInstructions(t){const i=this.findBlock(t,"guards");if(!i)return[];const a=[],l=this.getProps(i.content),c=l.globs;if(Array.isArray(c)){const f=c.filter(p=>typeof p=="string"&&(p.includes(".ts")||p.includes(".tsx"))),h=c.filter(p=>typeof p=="string"&&(p.includes("test")||p.includes("spec")||p.includes("__tests__")));f.length>0&&a.push({name:"typescript",applyTo:f,description:"TypeScript-specific coding rules",content:this.getTypeScriptInstructionContent(t)}),h.length>0&&a.push({name:"testing",applyTo:h,description:"Testing-specific rules and patterns",content:this.getTestingInstructionContent(t)})}for(const[f,h]of Object.entries(l))if(f!=="globs"&&h&&typeof h=="object"&&!Array.isArray(h)){const p=h,m=p.applyTo,y=p.excludeAgent,v=p.description,S=p.content;m&&Array.isArray(m)&&a.push({name:f,applyTo:m.map(x=>this.valueToString(x)),excludeAgent:y?this.valueToString(y):void 0,description:v?this.valueToString(v):`${f} rules`,content:S?this.valueToString(S):""})}return a}generateInstructionFile(t){const i=[];i.push("---"),i.push("applyTo:");for(const a of t.applyTo)i.push(`  - "${a}"`);if(t.excludeAgent&&i.push(`excludeAgent: "${t.excludeAgent}"`),i.push("---"),i.push(""),i.push(`# ${t.description}`),i.push(""),t.content){const a=this.dedent(t.content),l=this.normalizeMarkdownForPrettier(a);i.push(l)}return{path:`.github/instructions/${t.name}.instructions.md`,content:i.join(`
`)}}getTypeScriptInstructionContent(t){const i=this.findBlock(t,"standards");if(!i)return"";const a=this.getProps(i.content),l=[],c=a.typescript;if(c&&typeof c=="object"&&!Array.isArray(c)){const h=c;h.strictMode&&l.push("- Use strict TypeScript, avoid `any` types"),h.useUnknown&&l.push(`- Use \`unknown\` ${this.valueToString(h.useUnknown)}`),h.exports&&l.push(`- ${this.capitalize(this.valueToString(h.exports))}`),h.returnTypes&&l.push(`- Explicit return types ${this.valueToString(h.returnTypes)}`)}const f=a.naming;if(f&&typeof f=="object"&&!Array.isArray(f)){const h=f;h.files&&l.push(`- Files: \`${this.valueToString(h.files)}\``),h.classes&&l.push(`- Classes/Interfaces: \`${this.valueToString(h.classes)}\``),h.functions&&l.push(`- Functions/Variables: \`${this.valueToString(h.functions)}\``)}return l.join(`
`)}getTestingInstructionContent(t){const i=this.findBlock(t,"standards");if(!i)return"";const a=this.getProps(i.content),l=[],c=a.testing;if(c&&typeof c=="object"&&!Array.isArray(c)){const f=c;f.filePattern&&l.push(`- Test files: \`${this.valueToString(f.filePattern)}\``),f.pattern&&l.push(`- Follow ${this.valueToString(f.pattern)} pattern`),f.coverage&&l.push(`- Target >${this.valueToString(f.coverage)}% coverage for libraries`),f.fixtures&&l.push(`- Use fixtures ${this.valueToString(f.fixtures)}`)}return l.length>0?l.join(`
`):"Follow project testing conventions."}extractPrompts(t){const i=this.findBlock(t,"shortcuts");if(!i)return[];const a=[],l=this.getProps(i.content);for(const[c,f]of Object.entries(l))if(f&&typeof f=="object"&&!Array.isArray(f)){const h=f;(h.prompt===!0||h.type==="prompt")&&a.push({name:c,description:h.description?this.valueToString(h.description):c,mode:h.mode==="agent"?"agent":void 0,tools:h.tools&&Array.isArray(h.tools)?h.tools.map(p=>this.valueToString(p)):void 0,content:h.content?this.valueToString(h.content):""})}return a}generatePromptFile(t){const i=[];i.push("---");const a=t.description.includes("'")?'"':"'";if(i.push(`description: ${a}${t.description}${a}`),t.mode==="agent"&&(i.push("mode: agent"),t.tools&&t.tools.length>0)){const f=t.tools.map(h=>Sv[h]??h.toLowerCase()).filter((h,p,m)=>m.indexOf(h)===p).map(h=>`'${h}'`).join(", ");i.push(`tools: [${f}]`)}if(i.push("---"),i.push(""),t.content){const c=this.dedent(t.content),f=this.normalizeMarkdownForPrettier(c);i.push(f)}return{path:`.github/prompts/${t.name.replace(/^\/+/,"")}.prompt.md`,content:i.join(`
`)+`
`}}extractSkills(t){const i=this.findBlock(t,"skills");if(!i)return[];const a=[],l=this.getProps(i.content);for(const[c,f]of Object.entries(l))if(f&&typeof f=="object"&&!Array.isArray(f)){const h=f;a.push({name:c,description:h.description?this.valueToString(h.description):c,disableModelInvocation:h.disableModelInvocation===!0,content:h.content?this.valueToString(h.content):""})}return a}generateSkillFile(t){const i=[];i.push("---"),i.push(`name: '${t.name}'`);const a=t.description.includes("'")?'"':"'";if(i.push(`description: ${a}${t.description}${a}`),t.disableModelInvocation&&i.push("disable-model-invocation: true"),i.push("---"),i.push(""),t.content){const c=this.dedent(t.content),f=this.normalizeMarkdownForPrettier(c);i.push(f)}return{path:`.github/skills/${t.name.replace(/^\/+/,"")}/SKILL.md`,content:i.join(`
`)+`
`}}generateAgentsFile(t){const i=this.findBlock(t,"identity");if(!i)return null;const a=[];a.push("# Agent Instructions"),a.push("");const l=this.extractText(i.content);l&&(a.push("## Identity"),a.push(""),a.push(this.stripAllIndent(l)),a.push(""));const c=this.findBlock(t,"context");if(c){const h=this.extractText(c.content);h&&(a.push("## Context"),a.push(""),a.push(this.stripAllIndent(h)),a.push(""))}const f=this.findBlock(t,"restrictions");if(f){const h=this.extractRestrictionItems(f.content);if(h.length>0){a.push("## Restrictions"),a.push("");for(const p of h)a.push(`- ${p}`)}}return{path:"AGENTS.md",content:a.join(`
`)+`
`}}extractRestrictionItems(t){if(t.type==="ArrayContent")return t.elements.map(i=>this.valueToString(i));if(t.type==="TextContent")return t.value.trim().split(`
`).map(i=>i.trim().replace(/^-\s*/,"")).filter(i=>i.length>0);if(t.type==="ObjectContent"){const i=this.getProp(t,"items");if(Array.isArray(i))return i.map(a=>this.valueToString(a))}return[]}extractCustomAgents(t){const i=this.findBlock(t,"agents");if(!i)return[];const a=[],l=this.getProps(i.content);for(const[c,f]of Object.entries(l))if(f&&typeof f=="object"&&!Array.isArray(f)){const h=f,p=h.description?this.valueToString(h.description):"";if(!p)continue;a.push({name:c,description:p,tools:this.parseToolsArray(h.tools),model:h.model?this.valueToString(h.model):void 0,content:h.content?this.valueToString(h.content):""})}return a}parseToolsArray(t){if(!t||!Array.isArray(t))return;const i=t.map(l=>this.valueToString(l)).filter(l=>l.length>0).map(l=>Sv[l]??l.toLowerCase()),a=[...new Set(i)];return a.length>0?a:void 0}mapModelName(t){if(!t)return;const i=UM[t.toLowerCase()];if(i!=="")return i??t}generateCustomAgentFile(t){const i=[];if(i.push("---"),i.push(`name: ${t.name}`),i.push(`description: ${t.description}`),t.tools&&t.tools.length>0){const c=t.tools.map(f=>`'${f}'`).join(", ");i.push(`tools: [${c}]`)}const a=this.mapModelName(t.model);if(a&&i.push(`model: ${a}`),i.push("---"),i.push(""),t.content){const c=this.dedent(t.content),f=this.normalizeMarkdownForPrettier(c);i.push(f)}return{path:`.github/agents/${t.name.replace(/^\/+/,"")}.md`,content:i.join(`
`)+`
`}}addCommonSections(t,i,a){const l=this.project(t,i);l&&a.push(l);const c=this.techStack(t,i);c&&a.push(c);const f=this.architecture(t,i);f&&a.push(f);const h=this.codeStandards(t,i);h&&a.push(h);const p=this.shortcutsSection(t,i);p&&a.push(p);const m=this.commands(t,i);m&&a.push(m);const y=this.gitCommits(t,i);y&&a.push(y);const v=this.configFiles(t,i);v&&a.push(v);const S=this.documentation(t,i);S&&a.push(S);const x=this.postWork(t,i);x&&a.push(x);const C=this.restrictions(t,i);C&&a.push(C);const k=this.diagrams(t,i);k&&a.push(k);const H=this.knowledge(t,i);H&&a.push(H)}header(t){return"# GitHub Copilot Instructions"}project(t,i){const a=this.findBlock(t,"identity");if(!a)return null;const l=this.extractText(a.content);return i.renderSection("project",this.stripAllIndent(l))}techStack(t,i){const a=this.findBlock(t,"context");if(!a)return null;const l=this.getProps(a.content),c=[],f=l.languages;if(f){const y=Array.isArray(f)?f:[f];c.push(`**Language:** ${this.formatTechItem(y)}`)}const h=l.runtime;h&&c.push(`**Runtime:** ${this.valueToString(h)}`);const p=l.monorepo;if(p&&typeof p=="object"&&!Array.isArray(p)){const y=p,v=y.tool,S=y.packageManager;v&&S&&c.push(`**Monorepo:** ${this.valueToString(v)} with ${this.valueToString(S)} workspaces`)}if(c.length===0)return null;const m=i.renderList(c);return i.renderSection("tech-stack",m)}architecture(t,i){const a=this.findBlock(t,"context");if(!a)return null;const l=this.extractText(a.content),c=this.extractSectionWithCodeBlock(l,"## Architecture");if(!c)return null;const f=c.replace("## Architecture","").trim();return i.renderSection("architecture",this.stripAllIndent(f))}codeStandards(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const l=this.standardsExtractor.extract(a.content),c=[];for(const f of l.codeStandards.values())f.items.length>0&&c.push(i.renderSection(f.sectionName,i.renderList(f.items),2));return c.length===0?null:i.renderSection("code-standards",c.join(`

`))}shortcutsSection(t,i){const a=this.findBlock(t,"shortcuts");if(!a)return null;const l=this.getProps(a.content),c=[];for(const[f,h]of Object.entries(l))if(h&&typeof h=="object"&&!Array.isArray(h)){const p=h;if(p.prompt===!0||p.type==="prompt")continue;const m=p.description||p.content||f;c.push(`${f}: ${this.valueToString(m).split(`
`)[0]}`)}else c.push(`${f}: ${this.valueToString(h).split(`
`)[0]}`);return c.length===0?null:i.renderSection("shortcuts",i.renderList(c))}commands(t,i){const a=this.findBlock(t,"knowledge");if(!a)return null;const l=this.extractText(a.content),c=this.extractSectionWithCodeBlock(l,"## Development Commands");if(!c)return null;const f=c.replace("## Development Commands","").trim();return i.renderSection("commands",this.stripAllIndent(f))}gitCommits(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const c=this.getProps(a.content).git;if(!c||typeof c!="object"||Array.isArray(c))return null;const f=c,h=[],p=f.format;p&&h.push(`Use [${this.valueToString(p)}](https://www.conventionalcommits.org/) format`);const m=f.maxSubjectLength;m&&h.push(`Keep commit message subject line max ${this.valueToString(m)} characters`),h.push("Format: `<type>(<scope>): <description>`");const y=f.types;y&&Array.isArray(y)&&h.push(`Types: \`${y.map(String).join("`, `")}\``);const v=f.example;return v&&h.push(`Example: \`${this.valueToString(v)}\``),h.length===0?null:i.renderSection("git-commits",i.renderList(h))}configFiles(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const c=this.getProps(a.content).config;if(!c||typeof c!="object"||Array.isArray(c))return null;const f=c,h=[],p=f.eslint;if(p){const y=this.valueToString(p);h.push(i.renderSection("eslint",`ESLint: ${y}`,2))}const m=f.viteRoot;if(m){const y=this.valueToString(m);h.push(i.renderSection("vite-vitest",`Vite root: ${y}`,2))}return h.length===0?null:i.renderSection("configuration-files",h.join(`

`))}documentation(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const c=this.getProps(a.content).documentation;if(!c||typeof c!="object"||Array.isArray(c))return null;const f=c,h=[];return f.verifyBefore&&h.push("**Before** making code changes, review `README.md` and relevant files in `docs/` to understand documented behavior"),f.verifyAfter&&h.push("**After** making code changes, verify consistency with `README.md` and `docs/` - update documentation if needed"),f.codeExamples&&h.push("Ensure code examples in documentation remain accurate after modifications"),h.push("If adding new features, add corresponding documentation in `docs/`"),h.push("If changing existing behavior, update affected documentation sections"),h.length===0?null:i.renderSection("documentation-verification",i.renderList(h))}postWork(t,i){const a=this.findBlock(t,"knowledge");if(!a)return null;const l=this.extractText(a.content),c=this.extractSectionWithCodeBlock(l,"## Post-Work Verification");if(!c)return null;const f="After completing any code changes, run the following commands to ensure code quality:",h=c.replace("## Post-Work Verification","").trim();return i.renderSection("post-work-verification",`${f}
${this.stripAllIndent(h)}`)}restrictions(t,i){const a=this.findBlock(t,"restrictions");if(!a)return null;let l=[];if(a.content.type==="ArrayContent")l=a.content.elements.map(c=>this.formatRestriction(this.valueToString(c)));else if(a.content.type==="TextContent")l=a.content.value.trim().split(`
`).filter(c=>c.trim()).map(c=>this.formatRestriction(c.trim()));else if(a.content.type==="ObjectContent"){const c=this.getProp(a.content,"items");Array.isArray(c)&&(l=c.map(f=>this.formatRestriction(this.valueToString(f))))}return l.length===0?null:i.renderSection("donts",i.renderList(l))}diagrams(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const c=this.getProps(a.content).diagrams;if(!c||typeof c!="object"||Array.isArray(c))return null;const f=c,h=[],p=f.format;p&&h.push(`Always use **${this.valueToString(p)}** syntax for diagrams in documentation`);const m=f.types;return m&&Array.isArray(m)&&h.push(`Supported diagram types: ${m.map(String).join(", ")}, etc.`),h.push("Wrap diagrams in markdown code blocks with `mermaid` language identifier"),h.push("Example:\n  ```mermaid\n  flowchart LR\n    A[Input] --> B[Process] --> C[Output]\n  ```"),h.length===0?null:i.renderSection("diagrams",i.renderList(h))}knowledge(t,i){return null}formatTechItem(t){return t.map(String).join(", ")}formatRestriction(t){return t.replace(/^-\s*/,"").replace(/^"/,"").replace(/"$/,"").replace(/^Never\s+/i,"Don't ")}capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}}const zM={simple:{name:"simple",description:"Single file output (CLAUDE.md)",outputPath:"CLAUDE.md"},multifile:{name:"multifile",description:"Main + modular rules (.claude/rules/*.md)",outputPath:"CLAUDE.md"},full:{name:"full",description:"Multifile + skills (.claude/skills/) + agents (.claude/agents/) + local memory",outputPath:"CLAUDE.md"}};class PM extends nc{name="claude";outputPath="CLAUDE.md";description="Claude Code instructions (concise Markdown)";defaultConvention="markdown";static getSupportedVersions(){return zM}format(t,i){const a=this.resolveVersion(i?.version);return a==="full"?this.formatFull(t,i):a==="multifile"?this.formatMultifile(t,i):this.formatSimple(t,i)}resolveVersion(t){return t==="multifile"?"multifile":t==="full"?"full":"simple"}formatSimple(t,i){const a=this.createRenderer(i),l=[];return a.getConvention().name==="markdown"&&l.push(`# CLAUDE.md
`),this.addCommonSections(t,a,l),{path:this.getOutputPath(i),content:l.join(`
`)}}formatMultifile(t,i){const a=this.createRenderer(i),l=[],c=this.extractRules(t);for(const h of c)l.push(this.generateRuleFile(h));const f=[];return a.getConvention().name==="markdown"&&f.push(`# CLAUDE.md
`),this.addCommonSections(t,a,f),{path:this.getOutputPath(i),content:f.join(`
`),additionalFiles:l.length>0?l:void 0}}formatFull(t,i){const a=this.createRenderer(i),l=[],c=this.extractRules(t);for(const y of c)l.push(this.generateRuleFile(y));const f=this.extractSkills(t);for(const y of f)l.push(this.generateSkillFile(y));const h=this.extractAgents(t);for(const y of h)l.push(this.generateAgentFile(y));const p=this.generateLocalFile(t);p&&l.push(p);const m=[];return a.getConvention().name==="markdown"&&m.push(`# CLAUDE.md
`),this.addCommonSections(t,a,m),{path:this.getOutputPath(i),content:m.join(`
`),additionalFiles:l.length>0?l:void 0}}extractRules(t){const i=this.findBlock(t,"guards");if(!i)return[];const a=[],l=this.getProps(i.content),c=l.globs;if(Array.isArray(c)){const f=c.filter(p=>typeof p=="string"&&(p.includes(".ts")||p.includes(".tsx"))),h=c.filter(p=>typeof p=="string"&&(p.includes("test")||p.includes("spec")||p.includes("__tests__")));f.length>0&&a.push({name:"code-style",paths:f,description:"TypeScript code style rules",content:this.getCodeStyleRuleContent(t)}),h.length>0&&a.push({name:"testing",paths:h,description:"Testing rules and patterns",content:this.getTestingRuleContent(t)})}for(const[f,h]of Object.entries(l))if(f!=="globs"&&h&&typeof h=="object"&&!Array.isArray(h)){const p=h,m=p.paths??p.applyTo,y=p.description,v=p.content;m&&Array.isArray(m)&&a.push({name:f,paths:m.map(S=>this.valueToString(S)),description:y?this.valueToString(y):`${f} rules`,content:v?this.valueToString(v):""})}return a}generateRuleFile(t){const i=[];i.push("---"),i.push(`description: "${t.description}"`),i.push("paths:");for(const a of t.paths)i.push(`  - "${a}"`);if(i.push("---"),i.push(""),i.push(`# ${t.description}`),i.push(""),t.content){const a=this.dedent(t.content),l=this.normalizeMarkdownForPrettier(a);i.push(l)}return{path:`.claude/rules/${t.name}.md`,content:i.join(`
`)}}getCodeStyleRuleContent(t){const i=this.findBlock(t,"standards");if(!i)return"";const a=this.getProps(i.content),l=[],c=a.typescript;if(c&&typeof c=="object"&&!Array.isArray(c)){const h=c;h.strictMode&&l.push("- Strict TypeScript, no `any` types"),h.exports&&l.push("- Named exports only")}const f=a.naming;if(f&&typeof f=="object"&&!Array.isArray(f)){const h=f;h.files&&l.push(`- Files: ${this.valueToString(h.files)}`)}return l.join(`
`)}getTestingRuleContent(t){const i=this.findBlock(t,"standards");if(!i)return"";const a=this.getProps(i.content),l=[],c=a.testing;if(c&&typeof c=="object"&&!Array.isArray(c)){const f=c;f.framework&&l.push(`- Use ${this.valueToString(f.framework)} for testing`),f.coverage&&l.push(`- Target >${this.valueToString(f.coverage)}% coverage`),f.pattern&&l.push(`- Follow ${this.valueToString(f.pattern)} pattern`)}return l.length>0?l.join(`
`):"Follow project testing conventions."}extractSkills(t){const i=this.findBlock(t,"skills");if(!i)return[];const a=[],l=this.getProps(i.content);for(const[c,f]of Object.entries(l))if(f&&typeof f=="object"&&!Array.isArray(f)){const h=f;a.push({name:c,description:h.description?this.valueToString(h.description):c,context:h.context==="fork"||h.context==="inherit"?h.context:void 0,agent:h.agent?this.valueToString(h.agent):void 0,allowedTools:h.allowedTools&&Array.isArray(h.allowedTools)?h.allowedTools.map(p=>this.valueToString(p)):void 0,userInvocable:h.userInvocable===!0,content:h.content?this.valueToString(h.content):""})}return a}generateSkillFile(t){const i=[];i.push("---"),i.push(`name: '${t.name}'`);const a=t.description.includes("'")?'"':"'";if(i.push(`description: ${a}${t.description}${a}`),t.context&&i.push(`context: ${t.context}`),t.agent&&i.push(`agent: ${t.agent}`),t.allowedTools&&t.allowedTools.length>0){i.push("allowed-tools:");for(const l of t.allowedTools)i.push(`  - ${l}`)}if(t.userInvocable&&i.push("user-invocable: true"),i.push("---"),i.push(""),t.content){const l=this.dedent(t.content),c=this.normalizeMarkdownForPrettier(l);i.push(c)}return{path:`.claude/skills/${t.name}/SKILL.md`,content:i.join(`
`)+`
`}}extractAgents(t){const i=this.findBlock(t,"agents");if(!i)return[];const a=[],l=this.getProps(i.content);for(const[c,f]of Object.entries(l))if(f&&typeof f=="object"&&!Array.isArray(f)){const h=f,p=this.parseAgentConfig(c,h);p&&a.push(p)}return a}parseAgentConfig(t,i){const a=i.description?this.valueToString(i.description):"";return a?{name:t,description:a,tools:this.parseStringArray(i.tools),disallowedTools:this.parseStringArray(i.disallowedTools),model:this.parseAgentModel(i.model),permissionMode:this.parsePermissionMode(i.permissionMode),skills:this.parseStringArray(i.skills),content:i.content?this.valueToString(i.content):""}:null}parseStringArray(t){if(!t||!Array.isArray(t))return;const i=t.map(a=>this.valueToString(a)).filter(a=>a.length>0);return i.length>0?i:void 0}parseAgentModel(t){if(!t)return;const i=this.valueToString(t);return["sonnet","opus","haiku","inherit"].includes(i)?i:void 0}parsePermissionMode(t){if(!t)return;const i=this.valueToString(t);return["default","acceptEdits","dontAsk","bypassPermissions","plan"].includes(i)?i:void 0}generateAgentFile(t){const i=[];if(i.push("---"),i.push(`name: ${t.name}`),i.push(`description: ${t.description}`),t.tools&&t.tools.length>0&&i.push(`tools: ${t.tools.join(", ")}`),t.disallowedTools&&t.disallowedTools.length>0&&i.push(`disallowedTools: ${t.disallowedTools.join(", ")}`),t.model&&i.push(`model: ${t.model}`),t.permissionMode&&i.push(`permissionMode: ${t.permissionMode}`),t.skills&&t.skills.length>0){i.push("skills:");for(const a of t.skills)i.push(`  - ${a}`)}if(i.push("---"),i.push(""),t.content){const a=this.dedent(t.content),l=this.normalizeMarkdownForPrettier(a);i.push(l)}return{path:`.claude/agents/${t.name}.md`,content:i.join(`
`)+`
`}}generateLocalFile(t){const i=this.findBlock(t,"local");if(!i)return null;const a=this.extractText(i.content);if(!a)return null;const l=[];return l.push("# CLAUDE.local.md"),l.push(""),l.push("> Private instructions (not committed to git)"),l.push(""),l.push(a),{path:"CLAUDE.local.md",content:l.join(`
`)}}addCommonSections(t,i,a){this.addSection(a,this.project(t,i)),this.addSection(a,this.techStack(t,i)),this.addSection(a,this.architecture(t,i)),this.addSection(a,this.codeStandards(t,i)),this.addSection(a,this.gitCommits(t,i)),this.addSection(a,this.configFiles(t,i)),this.addSection(a,this.commands(t,i)),this.addSection(a,this.postWork(t,i)),this.addSection(a,this.documentation(t,i)),this.addSection(a,this.diagrams(t,i)),this.addSection(a,this.donts(t,i))}addSection(t,i){i&&t.push(i)}project(t,i){const a=this.findBlock(t,"identity");if(!a)return null;const c=this.extractText(a.content).split(/\n{2,}/).map(h=>h.split(`
`).map(p=>p.trim()).filter(p=>p).join(`
`)).filter(h=>h).join(`

`),f=this.normalizeMarkdownForPrettier(c);return i.renderSection("Project",f)+`
`}techStack(t,i){const a=this.findBlock(t,"context");if(a){const c=this.extractTechStackFromContext(a);if(c.length>0)return i.renderSection("Tech Stack",c.join(", "))+`
`}const l=this.findBlock(t,"standards");if(l){const c=this.extractTechStackFromStandards(l);if(c.length>0)return i.renderSection("Tech Stack",c.join(", "))+`
`}return null}extractTechStackFromContext(t){if(!t)return[];const i=this.getProps(t.content),a=[],l=i.languages;l&&a.push(...(Array.isArray(l)?l:[l]).map(String));const c=i.runtime;c&&a.push(this.valueToString(c));const f=i.monorepo;if(f&&typeof f=="object"&&!Array.isArray(f)){const h=f;h.tool&&h.packageManager&&a.push(`${this.valueToString(h.tool)} + ${this.valueToString(h.packageManager)}`)}return a}extractTechStackFromStandards(t){if(!t)return[];const i=this.getProp(t.content,"code");if(!i||typeof i!="object"||Array.isArray(i))return[];const a=i,l=[];for(const c of["languages","frameworks","testing"]){const f=a[c];f&&l.push(...(Array.isArray(f)?f:[f]).map(String))}return l}architecture(t,i){const a=this.findBlock(t,"context");if(!a)return null;const l=this.extractText(a.content),c=this.extractSectionWithCodeBlock(l,"## Architecture");if(!c)return null;const f=c.replace("## Architecture",""),h=this.normalizeMarkdownForPrettier(f);return i.renderSection("Architecture",h.trim())+`
`}codeStandards(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const l=this.standardsExtractor.extract(a.content),c=[];for(const h of l.codeStandards.values())c.push(...h.items);if(c.length===0)return null;const f=i.renderList(c);return i.renderSection("Code Style",f)+`
`}gitCommits(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const l=this.getProp(a.content,"git");if(!l||typeof l!="object"||Array.isArray(l))return null;const c=l,f=[];if(c.format&&f.push(`Format: ${this.valueToString(c.format)}`),c.types&&Array.isArray(c.types)&&f.push(`Types: ${c.types.map(String).join(", ")}`),c.example&&f.push(`Example: \`${this.valueToString(c.example)}\``),f.length===0)return null;const h=i.renderList(f);return i.renderSection("Git Commits",h)+`
`}configFiles(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const l=this.getProp(a.content,"config");if(!l||typeof l!="object"||Array.isArray(l))return null;const c=l,f=[];if(c.eslint&&f.push(`ESLint: ${this.valueToString(c.eslint)}`),c.viteRoot&&f.push(`Vite root: ${this.valueToString(c.viteRoot)}`),f.length===0)return null;const h=i.renderList(f);return i.renderSection("Config Files",h)+`
`}commands(t,i){const a=this.findBlock(t,"shortcuts"),l=this.findBlock(t,"knowledge"),c=[];if(a){const h=this.getProps(a.content);for(const[p,m]of Object.entries(h)){const y=this.valueToString(m).split(`
`)[0]??"";c.push(`${p.padEnd(10)} - ${y}`.trimEnd())}}if(c.length===0)return null;let f=i.renderCodeBlock(c.join(`
`));if(l){const h=this.extractText(l.content),p=this.extractSectionWithCodeBlock(h,"## Development Commands");if(p){const m=p.replace("## Development Commands",""),y=this.normalizeMarkdownForPrettier(m);f+=`

`+y.trim()}}return i.renderSection("Commands",f)+`
`}postWork(t,i){const a=this.findBlock(t,"knowledge");if(!a)return null;const l=this.extractText(a.content),c=this.extractSectionWithCodeBlock(l,"## Post-Work Verification");if(!c)return null;const f=c.replace("## Post-Work Verification",""),h=this.normalizeMarkdownForPrettier(f);return i.renderSection("Post-Work Verification",h.trim())+`
`}documentation(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const l=this.getProp(a.content,"documentation");if(!l||typeof l!="object"||Array.isArray(l))return null;const c=l,f=[];if(c.verifyBefore&&f.push("Review docs before changes"),c.verifyAfter&&f.push("Update docs after changes"),c.codeExamples&&f.push("Keep code examples accurate"),f.length===0)return null;const h=i.renderList(f);return i.renderSection("Documentation",h)+`
`}diagrams(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const l=this.getProp(a.content,"diagrams");if(!l||typeof l!="object"||Array.isArray(l))return null;const c=l,f=[];if(c.format&&f.push(`Use ${this.valueToString(c.format)} for diagrams`),c.types&&Array.isArray(c.types)&&f.push(`Types: ${c.types.map(String).join(", ")}`),f.length===0)return null;const h=i.renderList(f);return i.renderSection("Diagrams",h)+`
`}donts(t,i){const a=this.findBlock(t,"restrictions");if(!a)return null;const l=this.extractDontsItems(a.content);if(l.length===0)return null;const c=i.renderList(l);return i.renderSection("Don'ts",c)+`
`}extractDontsItems(t){const i=a=>a.replace(/^Never\s+/i,"Don't ");if(t.type==="ArrayContent")return t.elements.map(a=>i(this.valueToString(a)));if(t.type==="TextContent")return t.value.trim().split(`
`).map(a=>a.trim().replace(/^-\s*/,"")).filter(a=>a.length>0).map(i);if(t.type==="ObjectContent"){const a=this.getProp(t,"items");if(Array.isArray(a))return a.map(l=>i(this.valueToString(l)))}return[]}}const ga={modern:{name:"modern",description:"MDC format with YAML frontmatter (.cursor/rules/project.mdc) + slash commands (.cursor/commands/)",outputPath:".cursor/rules/project.mdc",cursorVersion:"0.45+",introduced:"2024-12"},frontmatter:{name:"frontmatter",description:"Alias for modern format (MDC with YAML frontmatter + slash commands)",outputPath:".cursor/rules/project.mdc",cursorVersion:"0.45+",introduced:"2024-12"},multifile:{name:"multifile",description:"Multiple MDC files with glob-based targeting + slash commands",outputPath:".cursor/rules/project.mdc",cursorVersion:"0.45+",introduced:"2024-12"},legacy:{name:"legacy",description:"Plain text format (.cursorrules) - DEPRECATED",outputPath:".cursorrules",cursorVersion:"< 0.45",deprecated:!0,deprecatedSince:"2024-12"}};class BM extends nc{name="cursor";outputPath=ga.modern.outputPath;description="Cursor rules (MDC with frontmatter)";defaultConvention="markdown";static getSupportedVersions(){return ga}format(t,i){const a=i?.convention??this.defaultConvention;if(a!=="markdown"){const c=typeof a=="string"?a:"custom";throw new Error(`Cursor formatter does not support '${c}' convention. Only 'markdown' convention is supported for Cursor targets.`)}const l=this.resolveVersion(i?.version);return l==="legacy"?this.formatLegacy(t,i):l==="multifile"?this.formatMultifile(t,i):this.formatModern(t,i)}resolveVersion(t){return t==="legacy"?"legacy":t==="multifile"?"multifile":"modern"}formatModern(t,i){const a=[],l=this.frontmatter(t);a.push(l),this.addCommonSections(t,a);const c=this.generateCommandFiles(t);return{path:i?.outputPath??ga.modern.outputPath,content:a.join(`

`)+`
`,additionalFiles:c.length>0?c:void 0}}formatLegacy(t,i){const a=[];return this.addCommonSections(t,a),{path:i?.outputPath??ga.legacy.outputPath,content:a.join(`

`)+`
`}}formatMultifile(t,i){const a=[],l=this.extractGlobs(t);for(const P of l){const U=this.generateGlobFile(t,P);U&&a.push(U)}const c=this.generateShortcutsFile(t);c&&a.push(c);const f=this.generateCommandFiles(t);a.push(...f);const h=[];h.push(this.frontmatter(t)),h.push(this.intro(t));const p=this.techStack(t);p&&h.push(p);const m=this.architecture(t);m&&h.push(m);const y=this.codeStyle(t);y&&h.push(y);const v=this.gitCommits(t);v&&h.push(v);const S=this.configFiles(t);S&&h.push(S);const x=this.postWork(t);x&&h.push(x);const C=this.documentation(t);C&&h.push(C);const k=this.diagrams(t);k&&h.push(k);const H=this.never(t);return H&&h.push(H),{path:i?.outputPath??ga.modern.outputPath,content:h.join(`

`)+`
`,additionalFiles:a.length>0?a:void 0}}extractGlobs(t){const i=this.findBlock(t,"guards");if(!i)return[];const a=[],c=this.getProps(i.content).globs;if(Array.isArray(c)){const f=c.filter(m=>typeof m=="string"&&(m.includes(".ts")||m.includes(".tsx"))),h=c.filter(m=>typeof m=="string"&&(m.includes("test")||m.includes("spec")||m.includes("__tests__"))),p=c.filter(m=>typeof m=="string"&&!f.includes(m)&&!h.includes(m));f.length>0&&a.push({name:"typescript",patterns:f,description:"TypeScript-specific rules"}),h.length>0&&a.push({name:"testing",patterns:h,description:"Testing-specific rules"}),p.length>0&&a.push({name:"files",patterns:p,description:"File-specific rules"})}return a}generateGlobFile(t,i){const a=[],l=["---",`description: "${i.description}"`,"globs:",...i.patterns.map(c=>`  - "${c}"`),"---"];if(a.push(l.join(`
`)),i.name==="typescript"){const c=this.codeStyle(t);c&&a.push(c)}return i.name==="testing"&&(a.push("## Testing Guidelines"),a.push("Follow project testing conventions and patterns.")),a.length<=1?null:{path:`.cursor/rules/${i.name}.mdc`,content:a.join(`

`)+`
`}}generateShortcutsFile(t){const i=this.findBlock(t,"shortcuts");if(!i)return null;const a=this.getProps(i.content);if(Object.keys(a).length===0)return null;const l=[];l.push(["---",'description: "Project shortcuts and commands"',"alwaysApply: false","---"].join(`
`));const c=["## Commands"];for(const[f,h]of Object.entries(a)){const p=this.valueToString(h);if(typeof h=="object"&&!Array.isArray(h)){const m=h;c.push(`
### ${f}`),m.description&&c.push(this.valueToString(m.description)),Array.isArray(m.steps)&&(c.push(`
**Steps:**`),m.steps.forEach((y,v)=>{c.push(`${v+1}. ${this.valueToString(y)}`)}))}else c.push(`- **${f}**: ${p.split(`
`)[0]}`)}return l.push(c.join(`
`)),{path:".cursor/rules/shortcuts.mdc",content:l.join(`

`)+`
`}}generateCommandFiles(t){const i=this.findBlock(t,"shortcuts");if(!i)return[];const a=this.getProps(i.content),l=[];for(const[c,f]of Object.entries(a)){const h=this.valueToString(f);if(h.includes(`
`)){const p=c.replace(/^\//,"");l.push({path:`.cursor/commands/${p}.md`,content:h.trim()})}}return l}addCommonSections(t,i){const a=this.intro(t);a&&i.push(a);const l=this.techStack(t);l&&i.push(l);const c=this.architecture(t);c&&i.push(c);const f=this.codeStyle(t);f&&i.push(f);const h=this.gitCommits(t);h&&i.push(h);const p=this.configFiles(t);p&&i.push(p);const m=this.commands(t);m&&i.push(m);const y=this.devCommands(t);y&&i.push(y);const v=this.postWork(t);v&&i.push(v);const S=this.documentation(t);S&&i.push(S);const x=this.diagrams(t);x&&i.push(x);const C=this.never(t);C&&i.push(C)}intro(t){const i=this.findBlock(t,"identity");if(i){const c=this.dedent(this.extractText(i.content));if(c.toLowerCase().startsWith("you are"))return c}const a=this.extractProjectInfo(t),l=a.org?` at ${a.org}`:"";return`You are working on ${a.text}${l}.`}frontmatter(t){return["---",`description: "${this.extractProjectDescription(t)}"`,"alwaysApply: true","---"].join(`
`)}extractProjectDescription(t){const i=this.getMetaField(t,"name");if(i)return`Project rules for ${i}`;const a=this.findBlock(t,"context");if(a){const l=this.getProp(a.content,"project");if(l&&typeof l=="string"){const f=/working on\s+(\w+)/i.exec(l);if(f)return`Project rules for ${f[1]}`}}return"Project-specific rules"}extractProjectInfo(t){const i=this.getMetaField(t,"org")??null,a=this.findBlock(t,"context");if(a){const c=this.getProp(a.content,"project");if(c&&typeof c=="string")return{text:c.trim(),org:i}}const l=this.findBlock(t,"identity");if(l){const f=this.extractText(l.content).split(`
`)[0]?.trim();if(f)return{text:f,org:i}}return{text:"the project",org:i}}techStack(t){const i=this.extractTechStackItems(t);return i.length>0?`Tech stack: ${i.join(", ")}`:null}extractTechStackItems(t){const i=[],a=this.findBlock(t,"context");return a&&this.extractTechFromContext(a.content,i),i.length===0&&this.extractTechFromStandards(t,i),i}extractTechFromContext(t,i){const a=this.getProp(t,"tech-stack");a&&i.push(...this.extractListItems(a));const l=this.getProp(t,"languages");l&&this.collectValueItems(i,l);const c=this.getProp(t,"runtime");c&&i.push(this.valueToString(c));const f=this.getProp(t,"monorepo");if(f&&typeof f=="object"&&!Array.isArray(f)){const h=f;h.tool&&i.push(`${this.valueToString(h.tool)}`),h.packageManager&&i.push(`${this.valueToString(h.packageManager)} workspaces`)}}extractTechFromStandards(t,i){const a=this.findBlock(t,"standards");if(!a)return;const l=this.getProp(a.content,"code");if(l&&typeof l=="object"&&!Array.isArray(l)){const c=l;this.collectValueItems(i,c.languages),this.collectValueItems(i,c.frameworks),this.collectValueItems(i,c.testing)}}architecture(t){const i=this.findBlock(t,"context");if(!i)return null;const a=this.getProp(i.content,"architecture");if(a){const c=typeof a=="string"?a:this.valueToString(a);if(c.trim())return`Architecture:
${c.trim()}`}const l=this.extractText(i.content);return l?.includes("Architecture")?l.trim():null}codeStyle(t){const i=this.extractCodeStyleItems(t);return i.length===0?null:`Code style:
${i.map(a=>"- "+a).join(`
`)}`}extractCodeStyleItems(t){const i=this.findBlock(t,"standards");if(!i)return[];const a=this.standardsExtractor.extract(i.content),l=[];for(const c of a.codeStandards.values())l.push(...c.items);return l}gitCommits(t){const i=this.findBlock(t,"standards");if(i){const l=this.getProp(i.content,"git");if(l&&typeof l=="object"&&!Array.isArray(l)){const c=this.extractGitItems(l);if(c.length>0)return`Git Commits:
${c.map(f=>"- "+f).join(`
`)}`}}const a=this.findBlock(t,"context");if(a){const l=this.getProp(a.content,"git-commits");if(l&&typeof l=="object"&&!Array.isArray(l)){const c=this.extractGitItems(l);if(c.length>0)return`Git Commits:
${c.map(f=>"- "+f).join(`
`)}`}}return null}extractGitItems(t){const i=[];for(const[a,l]of Object.entries(t))if(a==="types"&&Array.isArray(l)){const c=l.map(f=>this.valueToString(f)).join(", ");i.push(`types: ${c}`)}else typeof l=="string"?i.push(`${a}: ${l}`):typeof l=="number"&&i.push(`${a}: ${l}`);return i}configFiles(t){const i=this.extractConfigItems(t);return i.length===0?null:`Config:
${i.map(a=>"- "+a).join(`
`)}`}extractConfigItems(t){const i=this.findBlock(t,"standards");if(i){const l=this.getProp(i.content,"config"),c=this.extractConfigFromObject(l);if(c.length>0)return c}const a=this.findBlock(t,"context");if(a){const l=this.getProp(a.content,"configuration-files");return this.extractConfigFromObjectWithList(l)}return[]}extractConfigFromObject(t){if(!t||typeof t!="object"||Array.isArray(t))return[];const i=[];for(const[a,l]of Object.entries(t))typeof l=="string"&&i.push(`${a}: ${l}`);return i}extractConfigFromObjectWithList(t){if(!t||typeof t!="object"||Array.isArray(t))return[];const i=[];for(const[a,l]of Object.entries(t)){const c=this.extractListItems(l);c.length>0&&i.push(`${a}: ${c.join("; ")}`)}return i}commands(t){const i=this.findBlock(t,"shortcuts");if(!i)return null;const a=this.getProps(i.content);if(Object.keys(a).length===0)return null;const l=[];for(const[c,f]of Object.entries(a)){const h=this.valueToString(f).split(`
`)[0]??"";l.push(`${c} - ${h}`)}return l.length>0?`Commands:
${l.join(`
`)}`:null}devCommands(t){const i=this.findBlock(t,"knowledge");if(!i)return null;const a=this.extractText(i.content),l=this.extractSectionWithCodeBlock(a,"## Development Commands");return l?`Development Commands:
${l.replace("## Development Commands","").trim()}`:null}postWork(t){const i=this.findBlock(t,"knowledge");if(!i)return null;const a=this.extractText(i.content),l=this.extractSectionWithCodeBlock(a,"## Post-Work Verification");return l?`Post-Work Verification:
${l.replace("## Post-Work Verification","").trim()}`:null}documentation(t){const i=this.extractDocItems(t);return i.length===0?null:`Documentation:
${i.map(a=>"- "+a).join(`
`)}`}extractDocItems(t){const i=this.findBlock(t,"standards");if(i){const l=this.getProp(i.content,"documentation"),c=this.extractStringValuesFromObject(l);if(c.length>0)return c}const a=this.findBlock(t,"context");if(a){const l=this.getProp(a.content,"documentation-verification");if(l)return this.extractListItems(l)}return[]}extractStringValuesFromObject(t){if(!t||typeof t!="object"||Array.isArray(t))return[];const i=[];for(const a of Object.values(t))typeof a=="string"&&i.push(a);return i}diagrams(t){const i=this.extractDiagramItems(t);return i.length===0?null:`Diagrams:
${i.map(a=>"- "+a).join(`
`)}`}extractDiagramItems(t){const i=this.findBlock(t,"standards");if(i){const l=this.getProp(i.content,"diagrams"),c=this.parseDiagramObject(l,"format");if(c.length>0)return c}const a=this.findBlock(t,"context");if(a){const l=this.getProp(a.content,"diagrams");return this.parseDiagramObject(l,"tool")}return[]}parseDiagramObject(t,i){if(!t||typeof t!="object"||Array.isArray(t))return[];const a=t,l=[];return a[i]&&l.push(`Use ${this.valueToString(a[i])}`),a.types&&Array.isArray(a.types)&&l.push(`Types: ${a.types.map(c=>this.valueToString(c)).join(", ")}`),l}never(t){const i=this.findBlock(t,"restrictions");if(!i)return null;const a=this.extractNeverItems(i.content);return a.length===0?null:`Never:
${a.map(l=>"- "+l).join(`
`)}`}extractNeverItems(t){if(t.type==="ArrayContent")return t.elements.map(i=>this.valueToString(i));if(t.type==="TextContent")return t.value.trim().split(`
`).map(i=>i.trim().replace(/^-\s*/,"")).filter(i=>i.length>0);if(t.type==="ObjectContent"){const i=this.getProp(t,"items");if(Array.isArray(i))return i.map(a=>this.valueToString(a))}return[]}extractListItems(t){if(Array.isArray(t))return t.map(i=>this.valueToString(i));if(typeof t=="object"&&t!==null){const i=t,a=[];for(const[l,c]of Object.entries(i))a.push(`${l}: ${this.valueToString(c)}`);return a}return typeof t=="string"?t.split(`
`).map(i=>i.trim().replace(/^-\s*/,"")).filter(i=>i.length>0):[this.valueToString(t)]}collectValueItems(t,i){if(!i)return;const a=Array.isArray(i)?i:[i];for(const l of a)t.push(this.valueToString(l))}}const $M={simple:{name:"simple",description:"Plain Markdown without frontmatter",outputPath:".agent/rules/project.md"},frontmatter:{name:"frontmatter",description:"Markdown with YAML frontmatter for activation",outputPath:".agent/rules/project.md"}},Ev=12e3;class FM extends nc{name="antigravity";outputPath=".agent/rules/project.md";description="Google Antigravity rules (Markdown)";defaultConvention="markdown";static getSupportedVersions(){return $M}format(t,i){const a=this.resolveVersion(i?.version),l=this.createRenderer(i),c=[];if(a==="frontmatter"){const V=this.determineActivationType(t);c.push(this.generateFrontmatter(t,V))}c.push(this.header(t));const f=this.identity(t,l);f&&c.push(f);const h=this.techStack(t,l);h&&c.push(h);const p=this.architecture(t,l);p&&c.push(p);const m=this.codeStandards(t,l);m&&c.push(m);const y=this.gitCommits(t,l);y&&c.push(y);const v=this.configFiles(t,l);v&&c.push(v);const S=this.commands(t,l);S&&c.push(S);const x=this.devCommands(t,l);x&&c.push(x);const C=this.postWork(t,l);C&&c.push(C);const k=this.documentation(t,l);k&&c.push(k);const H=this.diagrams(t,l);H&&c.push(H);const P=this.restrictions(t,l);P&&c.push(P);const U=c.join(`

`)+`
`;this.validateContentLength(U);const I={path:this.getOutputPath(i),content:U},F=this.workflows(t);return F&&F.length>0?{path:I.path,content:I.content,additionalFiles:F}:I}resolveVersion(t){return t==="frontmatter"?"frontmatter":"simple"}determineActivationType(t){const i=this.findBlock(t,"guards");if(i){const a=this.getProps(i.content);if(a.globs||a.glob||a.files)return"glob"}return"always"}generateFrontmatter(t,i){const a=this.getMetaField(t,"name")??"Project Rules",l=this.extractProjectDescription(t);return["---",`title: "${a}"`,`activation: "${i}"`,`description: "${l}"`,"---"].join(`
`)}extractProjectDescription(t){const i=this.getMetaField(t,"description");if(i)return i;const a=this.findBlock(t,"identity");if(a){const l=this.extractText(a.content);if(l){const c=l.split(".")[0];return c&&c.length<=100?c:l.slice(0,100)+"..."}}return"Auto-generated project rules"}validateContentLength(t){t.length>Ev&&console.warn(`Warning: Content exceeds Antigravity's ${Ev.toLocaleString()} character limit (${t.length.toLocaleString()} chars). Consider splitting into multiple rules.`)}workflows(t){const i=this.findBlock(t,"shortcuts");if(!i)return null;const a=this.getProps(i.content),l=[];for(const[c,f]of Object.entries(a))if(this.isWorkflow(f)){const h=this.generateWorkflow(c,f);h&&l.push(h)}return l.length>0?l:null}isWorkflow(t){if(typeof t!="object"||t===null||Array.isArray(t))return!1;const i=t;return"steps"in i||"workflow"in i}generateWorkflow(t,i){if(typeof i!="object"||i===null||Array.isArray(i))return null;const a=i,l=a.steps??a.workflow,c=a.description??a.desc??"",f=t.replace(/^\//,"").replace(/\s+/g,"-").toLowerCase(),h=["---",`title: "${this.formatWorkflowTitle(t)}"`,`description: "${this.valueToString(c)}"`,"---","","## Steps",""];return Array.isArray(l)?l.forEach((p,m)=>{h.push(`${m+1}. ${this.valueToString(p)}`)}):typeof l=="string"&&l.split(`
`).map(m=>m.trim()).filter(m=>m.length>0).forEach((m,y)=>{const v=m.replace(/^\d+\.\s*/,"").replace(/^-\s*/,"");h.push(`${y+1}. ${v}`)}),{path:`.agent/workflows/${f}.md`,content:h.join(`
`)}}formatWorkflowTitle(t){return t.replace(/^\//,"").split(/[-_]/).map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")}header(t){return"# Project Rules"}identity(t,i){const a=this.findBlock(t,"identity");if(!a)return null;const l=this.extractText(a.content);return l?`## Project Identity

${this.stripAllIndent(l)}`:null}techStack(t,i){const a=this.findBlock(t,"context");if(!a)return null;const l=this.getProps(a.content),c=[],f=l.languages;if(f){const y=Array.isArray(f)?f:[f];c.push(`**Languages:** ${y.map(v=>this.valueToString(v)).join(", ")}`)}const h=l.runtime;h&&c.push(`**Runtime:** ${this.valueToString(h)}`);const p=l.monorepo;if(p&&typeof p=="object"&&!Array.isArray(p)){const y=p,v=y.tool,S=y.packageManager;v&&S?c.push(`**Monorepo:** ${this.valueToString(v)} with ${this.valueToString(S)} workspaces`):v&&c.push(`**Monorepo:** ${this.valueToString(v)}`)}const m=l.frameworks;if(m){const y=Array.isArray(m)?m:[m];c.push(`**Frameworks:** ${y.map(v=>this.valueToString(v)).join(", ")}`)}return c.length===0?null:`## Tech Stack

${c.join(`
`)}`}architecture(t,i){const a=this.findBlock(t,"context");if(a){const c=this.extractText(a.content),f=this.extractSectionWithCodeBlock(c,"## Architecture");if(f){const m=f.replace("## Architecture","").trim();return`## Architecture

${this.stripAllIndent(m)}`}const p=this.getProps(a.content).architecture;if(p){const m=typeof p=="string"?p:this.valueToString(p);if(m.trim())return`## Architecture

${this.stripAllIndent(m.trim())}`}}const l=this.findBlock(t,"architecture");if(l){const c=this.extractText(l.content);if(c)return`## Architecture

${this.stripAllIndent(c)}`}return null}codeStandards(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const l=this.standardsExtractor.extract(a.content),c=[];for(const f of l.codeStandards.values())f.items.length>0&&c.push(`### ${f.title}

${f.items.map(h=>"- "+h).join(`
`)}`);return c.length===0?null:`## Code Standards

${c.join(`

`)}`}gitCommits(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const c=this.getProps(a.content).git;if(!c||typeof c!="object"||Array.isArray(c))return null;const f=c,h=[],p=f.format;p&&h.push(`Use [${this.valueToString(p)}](https://www.conventionalcommits.org/) format`);const m=f.maxSubjectLength;m&&h.push(`Keep commit message subject line max ${this.valueToString(m)} characters`),h.push("Format: `<type>(<scope>): <description>`");const y=f.types;y&&Array.isArray(y)&&h.push(`Types: \`${y.map(String).join("`, `")}\``);const v=f.example;return v&&h.push(`Example: \`${this.valueToString(v)}\``),h.length===0?null:`## Git Commits

${h.map(S=>"- "+S).join(`
`)}`}configFiles(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const c=this.getProps(a.content).config;if(!c||typeof c!="object"||Array.isArray(c))return null;const f=c,h=[],p=f.eslint;if(p){const y=this.valueToString(p);h.push(`### ESLint

- ESLint: ${y}`)}const m=f.viteRoot;if(m){const y=this.valueToString(m).replace(/__/g,"\\_\\_").replace(/\/\*/g,"/\\*");h.push(`### Vite/Vitest

- Vite root: ${y}`)}return h.length===0?null:`## Configuration Files

${h.join(`

`)}`}commands(t,i){const a=this.findBlock(t,"shortcuts");if(!a)return null;const l=this.getProps(a.content);if(Object.keys(l).length===0)return null;const c=[];for(const[f,h]of Object.entries(l)){if(this.isWorkflow(h))continue;const p=this.valueToString(h);p?c.push(`- **${f}**: ${p}`):c.push(`- **${f}**:`)}return c.length===0?null:`## Commands

${c.join(`
`)}`}devCommands(t,i){const a=this.findBlock(t,"knowledge");if(!a)return null;const l=this.extractText(a.content),c=this.extractSectionWithCodeBlock(l,"## Development Commands");if(!c)return null;const f=c.replace("## Development Commands","").trim();return`## Development Commands

${this.stripAllIndent(f)}`}postWork(t,i){const a=this.findBlock(t,"knowledge");if(!a)return null;const l=this.extractText(a.content),c=this.extractSectionWithCodeBlock(l,"## Post-Work Verification");if(!c)return null;const f="After completing any code changes, run the following commands to ensure code quality:",h=c.replace("## Post-Work Verification","").trim();return`## Post-Work Verification

${f}
${this.stripAllIndent(h)}`}documentation(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const c=this.getProps(a.content).documentation;if(!c||typeof c!="object"||Array.isArray(c))return null;const f=c,h=[];return f.verifyBefore&&h.push("**Before** making code changes, review `README.md` and relevant files in `docs/` to understand documented behavior"),f.verifyAfter&&h.push("**After** making code changes, verify consistency with `README.md` and `docs/` - update documentation if needed"),f.codeExamples&&h.push("Ensure code examples in documentation remain accurate after modifications"),h.push("If adding new features, add corresponding documentation in `docs/`"),h.push("If changing existing behavior, update affected documentation sections"),h.length===0?null:`## Documentation

${h.map(p=>"- "+p).join(`
`)}`}diagrams(t,i){const a=this.findBlock(t,"standards");if(!a)return null;const c=this.getProps(a.content).diagrams;if(!c||typeof c!="object"||Array.isArray(c))return null;const f=c,h=[],p=f.format;if(p){const y=this.valueToString(p).replace(/__/g,"\\_\\_").replace(/\/\*/g,"/\\*");h.push(`Always use **${y}** syntax for diagrams in documentation`)}const m=f.types;return m&&Array.isArray(m)&&h.push(`Supported diagram types: ${m.map(String).join(", ")}, etc.`),h.push("Wrap diagrams in markdown code blocks with `mermaid` language identifier"),h.push("Example:\n  ```mermaid\n  flowchart LR\n    A[Input] --> B[Process] --> C[Output]\n  ```"),h.length===0?null:`## Diagrams

${h.map(y=>"- "+y).join(`
`)}`}restrictions(t,i){const a=this.findBlock(t,"restrictions");if(!a)return null;const l=this.extractRestrictionsItems(a.content);return l.length===0?null:`## Don'ts

${l.map(c=>"- "+c).join(`
`)}`}extractRestrictionsItems(t){return t.type==="ArrayContent"?t.elements.map(i=>this.formatRestriction(this.valueToString(i))):t.type==="TextContent"?t.value.trim().split(`
`).filter(i=>i.trim()).map(i=>this.formatRestriction(i.trim())):[]}formatRestriction(t){return t.replace(/^-\s*/,"").replace(/^"/,"").replace(/"$/,"").replace(/^Never\s+/i,"Don't ")}}us.register("github",()=>new DM);us.register("claude",()=>new PM);us.register("cursor",()=>new BM);us.register("antigravity",()=>new FM);const GM={id:"PS001",name:"required-meta-id",description:"@meta.id is required",defaultSeverity:"error",validate:s=>{const t=s.ast.meta;if(!t){s.report({message:"@meta block is required",location:s.ast.loc,suggestion:"Add a @meta block with id and version fields"});return}t.fields?.id||s.report({message:'@meta block must include "id" field',location:t.loc??s.ast.loc,suggestion:'Add id: "your-project-id" to @meta'})}},HM={id:"PS002",name:"required-meta-syntax",description:"@meta.syntax is required",defaultSeverity:"error",validate:s=>{const t=s.ast.meta;t&&(t.fields?.syntax||s.report({message:'@meta block must include "syntax" field',location:t.loc??s.ast.loc,suggestion:'Add syntax: "1.0.0" to @meta'}))}};function VM(s){if(!s)return!1;const i=s.split(/[-+]/)[0];if(!i)return!1;const a=i.split(".");if(a.length!==3)return!1;for(const l of a)if(!/^\d+$/.test(l)||l.length>1&&l.startsWith("0"))return!1;return!0}const YM={id:"PS003",name:"valid-semver",description:"Syntax version must be valid semantic version",defaultSeverity:"error",validate:s=>{const t=s.ast.meta;if(!t?.fields?.syntax)return;const i=t.fields.syntax;if(typeof i!="string"){s.report({message:"@meta.syntax must be a string",location:t.loc??s.ast.loc,suggestion:'Use a string value like syntax: "1.0.0"'});return}VM(i)||s.report({message:`Invalid semantic version: "${i}"`,location:t.loc??s.ast.loc,suggestion:'Use semantic versioning format: MAJOR.MINOR.PATCH (e.g., "1.0.0", "2.1.0-beta.1")'})}},qM={id:"PS004",name:"required-guards",description:"Required guards must be present",defaultSeverity:"error",validate:s=>{const t=s.config.requiredGuards;if(!t||t.length===0)return;const i=s.ast.blocks.find(l=>l.name==="guards");if(!i){s.report({message:`Missing @guards block. Required guards: ${t.join(", ")}`,location:s.ast.loc,suggestion:"Add a @guards block with the required guard references"});return}const a=KM(i.content);for(const l of t)a.includes(l)||s.report({message:`Missing required guard: "${l}"`,location:i.loc??s.ast.loc,suggestion:`Add @use ${l} to include the required guard`})}};function KM(s){const t=[];if(s.type==="ArrayContent"&&Array.isArray(s.elements))for(const i of s.elements)typeof i=="string"&&t.push(i);else if(s.type==="ObjectContent"&&s.properties)for(const i of Object.keys(s.properties))t.push(i);return t}function Pa(s,t){for(const i of s.blocks)Av(i.content,i.loc,t);for(const i of s.extends)Av(i.content,i.loc,t)}function XM(s,t){for(const i of s.blocks)t(i);for(const i of s.extends)t(i)}function kT(s,t){for(const i of s.uses)t(i)}function Av(s,t,i){switch(s.type){case"TextContent":i(s.value,s.loc??t);break;case"ObjectContent":uh(s.properties,s.loc??t,i);break;case"ArrayContent":MT(s.elements,s.loc??t,i);break;case"MixedContent":s.text&&i(s.text.value,s.text.loc??t),uh(s.properties,s.loc??t,i);break}}function uh(s,t,i){for(const a of Object.values(s))LT(a,t,i)}function MT(s,t,i){for(const a of s)LT(a,t,i)}function LT(s,t,i){if(typeof s=="string")i(s,t);else if(Array.isArray(s))MT(s,t,i);else if(s!==null&&typeof s=="object")if("type"in s){const a=s;a.type==="TextContent"&&typeof a.value=="string"&&i(a.value,a.loc??t)}else uh(s,t,i)}function ZM(s){switch(s.type){case"TextContent":return s.value.trim().length>0;case"ObjectContent":return Object.keys(s.properties).length>0;case"ArrayContent":return s.elements.length>0;case"MixedContent":return(s.text?.value?.trim().length??0)>0||Object.keys(s.properties).length>0}}const wT=[/ignore\s+(all\s+)?previous\s+instructions/i,/pretend\s+(you\s+)?(are|to\s+be)/i,/jailbreak/i,/bypass\s+(your\s+)?(rules|restrictions)/i,/disregard\s+(all\s+)?(prior|previous)/i,/forget\s+(all\s+)?(prior|previous|your)/i,/act\s+as\s+if\s+you\s+(have\s+)?no\s+restrictions/i,/(?:^|[.!?]\s*)(?:please\s+)?override\s+safety/im,/(?:^|[.!?]\s*)(?:please\s+)?suppress\s+(?:all\s+)?warnings?/im,/(?:^|[.!?]\s*)(?:please\s+)?hide\s+security/im,/(?:you\s+)?(?:should|must|can|will)\s+disable\s+(?:safety|security)/i,/(?:you\s+)?(?:should|must|can|will)\s+turn\s+off\s+(?:safety|security)/i,/(?:you\s+)?(?:should|must|can|will)\s+circumvent\s+(?:safety|security)/i,/(?:^|[.!?]\s*)evade\s+(?:detection|monitoring|logging)/im,/(?:^|[.!?]\s*)delete\s+(?:all\s+)?(?:logs?|audit\s+trail)/im],QM=[/zignoruj\s+(wszystkie\s+)?poprzednie\s+instrukcje/i,/udawaj,?\s+e\s+(jeste|nie\s+masz)/i,/omi\s+(swoje\s+)?(zasady|ograniczenia|restrykcje)/i,/zapomnij\s+(o\s+)?(wszystkich\s+)?(poprzednich|wczeniejszych)/i,/pomi\s+(wszystkie\s+)?zabezpieczenia/i,/wycz\s+(tryb\s+)?bezpieczestwa/i,/ukryj\s+(wszystkie\s+)?ostrzeenia/i,/usu\s+(wszystkie\s+)?logi/i,/nadpisz\s+zasady\s+bezpieczestwa/i,/dziaaj\s+bez\s+ogranicze/i],WM=[/ignora\s+(todas?\s+las?\s+)?instrucciones\s+anteriores/i,/finge\s+(que\s+)?(eres|ser)/i,/elude\s+(tus\s+)?(reglas|restricciones)/i,/olvida\s+(todas?\s+las?\s+)?(anteriores|previas)/i,/desactiva\s+(la\s+)?seguridad/i,/oculta\s+(las\s+)?advertencias/i,/elimina\s+(los\s+)?registros/i,/anula\s+(las\s+)?medidas\s+de\s+seguridad/i,/acta\s+sin\s+restricciones/i,/salta(r)?\s+(las\s+)?restricciones/i],JM=[/ignoriere?\s+(alle\s+)?vorherigen?\s+(Anweisungen|Instruktionen)/i,/tu\s+so,?\s+als\s+(ob\s+du|wrst\s+du)/i,/umgehe?\s+(deine\s+)?(Regeln|Einschrnkungen|Beschrnkungen)/i,/vergiss\s+(alle\s+)?(vorherigen?|frheren?)/i,/deaktiviere?\s+(die\s+)?Sicherheit/i,/verstecke?\s+(alle\s+)?Warnungen/i,/lsche?\s+(alle\s+)?(Logs?|Protokolle?)/i,/berschreibe?\s+(die\s+)?Sicherheitsregeln/i,/handel[en]?\s+ohne\s+Einschrnkungen/i,/Sicherheitsmanahmen\s+umgehen/i],tL=[/ignore[zr]?\s+(toutes?\s+les?\s+)?instructions?\s+(prcdentes?|antrieures?)/i,/fais\s+semblant\s+(d['']tre|que\s+tu\s+es)/i,/contourne[zr]?\s+(tes|vos)\s+(rgles|restrictions)/i,/oublie[zr]?\s+(toutes?\s+les?\s+)?(prcdentes?|antrieures?)/i,/dsactive[zr]?\s+(la\s+)?scurit/i,/cache[zr]?\s+(les\s+)?avertissements/i,/supprime[zr]?\s+(les\s+)?(logs?|journaux?)/i,/outrepasse[zr]?\s+(les\s+)?mesures\s+de\s+scurit/i,/agis\s+sans\s+restrictions/i,/ignore[zr]?\s+(les\s+)?limites/i],eL=[/ignore\s+(todas?\s+as?\s+)?instrues\s+anteriores/i,/finja\s+(que\s+)?(voc\s+|ser)/i,/contorne\s+(suas?\s+)?(regras|restries)/i,/esquea\s+(todas?\s+as?\s+)?(anteriores|prvias)/i,/desative\s+(a\s+)?segurana/i,/oculte\s+(os\s+)?avisos/i,/apague\s+(os\s+)?(logs?|registros?)/i,/substitua\s+(as\s+)?medidas\s+de\s+segurana/i,/aja\s+sem\s+restries/i,/pule\s+(as\s+)?restries/i],nL=[/\s+(\s+)?\s+/i,/,?\s+(\s+)?(|)/i,/\s+(\s+)?(|)/i,/\s+(\s+)?(|)/i,/\s+/i,/\s+(\s+)?/i,/\s+(\s+)?(|)/i,/\s+\s+/i,/\s+\s+/i,/\s+\s+/i],iL=[/\s*(\s*)?/i,/\s*(|)/i,/\s*(\s*)?(||)/i,/\s*(\s*)?(|)/i,/\s*/i,/\s*(\s*)?/i,/\s*(\s*)?(|)/i,/\s*\s*(|)/i,/\s*(\s*)?/i,/\s*/i],sL=[/ignora\s+(tutte\s+le\s+)?istruzioni\s+precedenti/i,/fingi\s+di\s+(essere|non\s+avere)/i,/aggira\s+(le\s+tue\s+)?(regole|restrizioni)/i,/dimentica\s+(tutte\s+le\s+)?(precedenti|passate)/i,/disattiva\s+(la\s+)?sicurezza/i,/nascondi\s+(gli\s+)?avvisi/i,/elimina\s+(i\s+)?(log|registri)/i,/sovrascrivi\s+(le\s+)?misure\s+di\s+sicurezza/i,/agisci\s+senza\s+restrizioni/i,/salta\s+(le\s+)?restrizioni/i],rL=[/negeer\s+(alle\s+)?vorige\s+(instructies|aanwijzingen)/i,/doe\s+alsof\s+je\s+(bent|geen)/i,/omzeil\s+(je\s+)?(regels|beperkingen)/i,/vergeet\s+(alle\s+)?(vorige|eerdere)/i,/schakel\s+(de\s+)?beveiliging\s+uit/i,/verberg\s+(alle\s+)?waarschuwingen/i,/verwijder\s+(alle\s+)?(logs?|logboeken)/i,/overschrijf\s+(de\s+)?beveiligingsregels/i,/handel\s+zonder\s+beperkingen/i,/sla\s+(de\s+)?beperkingen\s+over/i],aL=[/()?(||)/i,/|/i,/(||)(||)/i,/(|)(|)/i,/(|)/i,/(||)/i,/(|)/i,/(|)/i,/(|)/i,//i],oL=[/\s*(\s*)?(|\s+)?(|)/i,/\s*\s*(||)/i,/(||)(|)\s*(||)/i,/(|)\s*(|)(|)\s*/i,/(|)\s*(||)/i,/(|\s+)?(||)/i,/(|\s+)?(|)/i,/\s*(|)\s*/i,/\s*\s*(|)/i,/\s*(|\s+)?/i],lL=[/\s+(\s+)?\s+/i,/\s+(|)/i,/\s+(|)/i,/\s+(\s+)?(|\s+)/i,/\s+/i,/\s+(\s+)?/i,/\s+(\s+)?/i,/\s+\s+/i,/\s+\s+/i,/\s+\s+/i],cL=[/nceki\s+(tm\s+)?talimatlar\s+(yoksay|grmezden\s+gel)/i,/gibi\s+davran|m\s+gibi\s+yap/i,/(kurallar|kstlamalar)\s+(atla|ge|bypass)/i,/nceki(leri)?\s+unut/i,/gvenlii\s+(devre\s+d\s+brak|kapat)/i,/uyarlar\s+(gizle|sakla)/i,/gnlkleri\s+sil/i,/gvenlik\s+kurallarn\s+(geersiz\s+kl|zerine\s+yaz)/i,/kstlama\s+olmadan\s+(al|hareket\s+et)/i,/gvenlik\s+kontrollerini\s+atla/i],uL=[/ignorera\s+(alla\s+)?tidigare\s+(instruktioner|anvisningar)/i,/ltsas\s+(att\s+du\s+r|vara)/i,/kringg\s+(dina\s+)?(regler|begrnsningar)/i,/glm\s+(alla\s+)?(tidigare|fregende)/i,/inaktivera\s+skerhet(en)?/i,/dlj\s+(alla\s+)?varningar/i,/radera\s+(alla\s+)?loggar/i,/skriv\s+ver\s+skerhetsregler(na)?/i,/agera\s+utan\s+begrnsningar/i,/hoppa\s+ver\s+skerhetskontroller/i],fL=[/ignorer\s+(alle\s+)?tidligere\s+(instruksjoner|anvisninger)/i,/lat\s+som\s+(om\s+)?du\s+(er|ikke\s+har)/i,/omg\s+(dine\s+)?(regler|begrensninger)/i,/glem\s+(alle\s+)?(tidligere|foregende)/i,/deaktiver\s+sikkerhet(en)?/i,/skjul\s+(alle\s+)?advarsler/i,/slett\s+(alle\s+)?logger/i,/overskriv\s+sikkerhetsregler/i,/handle\s+uten\s+begrensninger/i,/hopp\s+over\s+sikkerhetssjekker/i],hL=[/ignorer\s+(alle\s+)?tidligere\s+(instruktioner|anvisninger)/i,/lad\s+som\s+om\s+du\s+(er|ikke\s+har)/i,/omg\s+(dine\s+)?(regler|begrnsninger)/i,/glem\s+(alle\s+)?(tidligere|foregende)/i,/deaktiver\s+sikkerhed(en)?/i,/skjul\s+(alle\s+)?advarsler/i,/slet\s+(alle\s+)?logfiler/i,/overskriv\s+sikkerhedsregler/i,/handl\s+uden\s+begrnsninger/i,/spring\s+sikkerhedstjek\s+over/i],dL=[/ohita\s+(kaikki\s+)?aiemmat\s+ohjeet/i,/teeskentele\s+(olevasi|ett\s+olet)/i,/kierr\s+(snnt|rajoitukset)/i,/unohda\s+(kaikki\s+)?(aiemmat|edelliset)/i,/poista\s+turvallisuus\s+kytst/i,/piilota\s+(kaikki\s+)?varoitukset/i,/poista\s+(kaikki\s+)?lokit/i,/ylikirjoita\s+turvasnnt/i,/toimi\s+ilman\s+rajoituksia/i,/ohita\s+turvatarkistukset/i],pL=[/ignoruj\s+(vechny\s+)?pedchoz\s+(instrukce|pokyny)/i,/pedstrej,?\s+e\s+(jsi|nem)/i,/obejdi\s+(sv\s+)?(pravidla|omezen)/i,/zapome\s+(na\s+)?(vechny\s+)?(pedchoz|dvj)/i,/vypni\s+bezpenost/i,/skryj\s+(vechna\s+)?varovn/i,/sma\s+(vechny\s+)?logy/i,/pepi\s+bezpenostn\s+pravidla/i,/jednej\s+bez\s+omezen/i,/pesko\s+bezpenostn\s+kontroly/i],mL=[/hagyd\s+figyelmen\s+kvl\s+(az\s+sszes\s+)?korbbi\s+utastst/i,/tegyl\s+gy,?\s+mintha/i,/kerld\s+meg\s+(a\s+)?(szablyokat|korltozsokat)/i,/felejtsd\s+el\s+(az\s+sszes\s+)?(korbbi|elz)/i,/kapcsold\s+ki\s+a\s+biztonsgot/i,/rejtsd\s+el\s+(az\s+sszes\s+)?figyelmeztetst/i,/trld\s+(az\s+sszes\s+)?naplt/i,/rd\s+fell\s+a\s+biztonsgi\s+szablyokat/i,/cselekedj\s+korltozsok\s+nlkl/i,/hagyd\s+ki\s+a\s+biztonsgi\s+ellenrzseket/i],gL=[/\s+(\s+)?\s+/i,/,?\s+(\s+)?(|)/i,/\s+(\s+)?(|)/i,/\s+(\s+)?(|)/i,/\s+/i,/\s+(\s+)?/i,/\s+(\s+)?(|)/i,/\s+\s+/i,/\s+\s+/i,/\s+\s+/i],yL=[/\s+(\s+)??\s+\s+(|)\s+/i,/\s+\s+\s+(|)/i,/(|)\s+\s+(|)\s+/i,/\s+(\s+)?(|)\s+\s+/i,/\s+(\s+)?(|)\s+/i,/(\s+)??\s+\s+/i,/(\s+)?\s+(\s+)?/i,/\s+\s+\s+\s+/i,/\s+\s+\s+\s+/i,/\s+\s+\s+\s+/i],vL=[/abaikan\s+(semua\s+)?instruksi\s+sebelumnya/i,/berpura-pura\s+(menjadi|bahwa\s+kamu)/i,/lewati\s+(aturan|batasan|pembatasan)/i,/lupakan\s+(semua\s+)?(sebelumnya|yang\s+lalu)/i,/nonaktifkan\s+keamanan/i,/sembunyikan\s+(semua\s+)?peringatan/i,/hapus\s+(semua\s+)?log/i,/timpa\s+aturan\s+keamanan/i,/bertindak\s+tanpa\s+batasan/i,/lewati\s+pemeriksaan\s+keamanan/i],TL=[/b\s+qua\s+(tt\s+c\s+)?hng\s+dn\s+trc/i,/gi\s+v\s+(l|rng\s+bn)/i,/vt\s+qua\s+(cc\s+)?(quy\s+tc|hn\s+ch)/i,/qun\s+(tt\s+c\s+)?(trc\s+|trc)/i,/tt\s+bo\s+mt/i,/n\s+(tt\s+c\s+)?cnh\s+bo/i,/xa\s+(tt\s+c\s+)?nht\s+k/i,/ghi\s+\s+quy\s+tc\s+bo\s+mt/i,/hnh\s+ng\s+khng\s+hn\s+ch/i,/b\s+qua\s+kim\s+tra\s+bo\s+mt/i],SL=[/\s*(|)\s*\s*()?/i,/\s*(|)/i,/\s*(|)/i,/\s*(|)\s*\s*()?/i,/\s*/i,/\s*\s*()?/i,/\s*\s*()?/i,/\s*/i,/\s*\s*/i,/\s*/i],EL=[/\s+(\s+\s+)?\s+/i,/\s+(\s+|)/i,/\s+(\s+)?(|)/i,/\s+(\s+\s+)?(|)/i,/\s+\s+/i,/\s+(\s+\s+)?/i,/\s+(\s+\s+)?\s+/i,/\s+\s+\s+/i,/\s+\s+/i,/\s+\s+\s+/i],AL=[/ignor\s+(toate\s+)?instruciunile\s+anterioare/i,/pref-te\s+(c\s+eti|a\s+fi)/i,/ocolete\s+(regulile|restriciile)/i,/uit\s+(toate\s+)?(anterioarele|precedentele)/i,/dezactiveaz\s+securitatea/i,/ascunde\s+(toate\s+)?avertismentele/i,/terge\s+(toate\s+)?jurnalele/i,/suprascrie\s+regulile\s+de\s+securitate/i,/acioneaz\s+fr\s+restricii/i,/sari\s+peste\s+verificrile\s+de\s+securitate/i],bL=[/\s+(\s+)?\s+/i,/\s+\s+(|)/i,/\s+(\s+)?(|)/i,/\s+(\s+\s+)?(|\s+)/i,/\s+(\s+)?/i,/\s+(\s+\s+)?/i,/\s+(\s+\s+)?/i,/\s+(\s+)?\s+/i,/\s+\s+/i,/\s+\s+\s+/i],xL=[...wT,...QM,...WM,...JM,...tL,...eL,...nL,...iL,...sL,...rL,...aL,...oL,...lL,...cL,...uL,...fL,...hL,...dL,...pL,...mL,...gL,...yL,...vL,...TL,...SL,...EL,...AL,...bL],OL={id:"PS005",name:"blocked-patterns",description:"Content must not contain blocked patterns (prompt injection prevention)",defaultSeverity:"error",validate:s=>{const t=[...wT,...(s.config.blockedPatterns??[]).map(i=>typeof i=="string"?new RegExp(i,"i"):i)];Pa(s.ast,(i,a)=>{for(const l of t)l.test(i)&&s.report({message:`Blocked pattern detected: ${l.source}`,location:a,suggestion:"Remove or rephrase the flagged content"})})}},bv={namespace:/^@[a-z][a-z0-9-]*\/[a-z0-9-/]+(@\d+\.\d+\.\d+)?$/i,relative:/^\.\.?\/[a-z0-9-/.]+$/i};function xv(s){return bv.namespace.test(s)||bv.relative.test(s)}const RL={id:"PS006",name:"valid-path",description:"Path references must be valid",defaultSeverity:"error",validate:s=>{if(s.ast.inherit){const t=s.ast.inherit.path;xv(t.raw)||s.report({message:`Invalid path reference: "${t.raw}"`,location:s.ast.inherit.loc??s.ast.loc,suggestion:"Use @namespace/path format for absolute paths or ./relative/path for relative paths"})}kT(s.ast,t=>{xv(t.path.raw)||s.report({message:`Invalid path reference: "${t.path.raw}"`,location:t.loc,suggestion:"Use @namespace/path format for absolute paths or ./relative/path for relative paths"})})}},CL={id:"PS007",name:"deprecated",description:"Warns about deprecated features",defaultSeverity:"warning",validate:s=>{const t={};for(const a of s.ast.blocks)a.name in t&&s.report({message:`Block "@${a.name}" is deprecated`,location:a.loc,suggestion:t[a.name]});const i={};if(s.ast.meta)for(const a of Object.keys(s.ast.meta.fields??{}))a in i&&s.report({message:`Meta field "${a}" is deprecated`,location:s.ast.meta.loc??s.ast.loc,suggestion:i[a]})}},NL={id:"PS008",name:"empty-block",description:"Blocks should have content",defaultSeverity:"warning",validate:s=>{XM(s.ast,t=>{if(!ZM(t.content)){const i="name"in t?t.name:t.targetPath;s.report({message:`Block "${i}" has no content`,location:t.loc,suggestion:"Add content to the block or remove it if not needed"})}})}};function _L(s){switch(s.kind){case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"enum":return`enum(${s.options.map(t=>`"${t}"`).join(", ")})`}}function IT(s){if(s===null)return"null";if(typeof s=="string")return"string";if(typeof s=="number")return"number";if(typeof s=="boolean")return"boolean";if(Array.isArray(s))return"array";if(typeof s=="object"&&"type"in s){const t=s;if(t.type==="TextContent")return"string";if(t.type==="TemplateExpression")return"template";if(t.type==="TypeExpression")return"type"}return"object"}function kL(s,t){const i=IT(s);switch(t.kind){case"string":return i==="string";case"number":return i==="number";case"boolean":return i==="boolean";case"enum":return i==="string"&&t.options.includes(s)}}const ML={id:"PS009",name:"valid-params",description:"Validate parameter definitions in @meta",defaultSeverity:"error",validate:s=>{const t=s.ast.meta?.params;if(!t||t.length===0)return;const i=new Set;for(const a of t)i.has(a.name)&&s.report({message:`Duplicate parameter definition: '${a.name}'`,location:a.loc,suggestion:"Remove the duplicate parameter definition"}),i.add(a.name);for(const a of t)if(a.defaultValue!==void 0&&!kL(a.defaultValue,a.paramType)){const l=_L(a.paramType),c=IT(a.defaultValue);s.report({message:`Default value for '${a.name}' has wrong type: expected ${l}, got ${c}`,location:a.loc,suggestion:`Change the default value to a ${l}`})}for(const a of t)a.optional&&a.defaultValue===void 0&&s.report({message:`Optional parameter '${a.name}' has no default value`,location:a.loc,suggestion:"Consider adding a default value or marking as required"})}},LL=/\bhttp:\/\/[^\s"'<>]+/gi,wL=[/\b(?:https?:\/\/)?(?:bit\.ly|bitly\.com)\/[^\s"'<>]+/gi,/\b(?:https?:\/\/)?tinyurl\.com\/[^\s"'<>]+/gi,/\b(?:https?:\/\/)?t\.co\/[^\s"'<>]+/gi,/\b(?:https?:\/\/)?goo\.gl\/[^\s"'<>]+/gi,/\b(?:https?:\/\/)?ow\.ly\/[^\s"'<>]+/gi,/\b(?:https?:\/\/)?is\.gd\/[^\s"'<>]+/gi,/\b(?:https?:\/\/)?buff\.ly\/[^\s"'<>]+/gi,/\b(?:https?:\/\/)?adf\.ly\/[^\s"'<>]+/gi,/\b(?:https?:\/\/)?tiny\.cc\/[^\s"'<>]+/gi,/\b(?:https?:\/\/)?cutt\.ly\/[^\s"'<>]+/gi],IL=/\bhttps?:\/\/[^\s"'<>]*\?[^\s"'<>]*(?:session|token|auth|key|secret|password|credential|api_key|apikey|access_token|refresh_token)=[^\s"'<>&]+/gi,Ov=/\bhttps?:\/\/(?:[^\s"'<>/]*\.)?xn--[a-z0-9-]+[^\s"'<>]*/gi,Rv=/\bhttps?:\/\/[^\s"'<>]+/gi,jL=["google","github","microsoft","apple","amazon","facebook","netflix","paypal","twitter","linkedin","instagram","dropbox","slack","zoom","adobe","oracle","salesforce","stripe","shopify","cloudflare","openai","anthropic","meta","yahoo","outlook","office","azure","aws","icloud","gmail"],UL={:"a",:"e",:"i",:"o",:"p",:"c",:"y",:"x",:"s","":"l","":"d","":"q","":"w"},DL={:"a",:"e",:"i",:"o",:"p",:"u",:"x",:"A",:"B",:"E",:"H",:"I",:"K",:"M",:"N",:"O",:"P",:"T",:"Y",:"X"},jT={...UL,...DL},zL={latin:/[A-Za-z]/,cyrillic:/[\u0400-\u04FF\u0500-\u052F]/,greek:/[\u0370-\u03FF\u1F00-\u1FFF]/};function PL(s){const t=[];for(const[i,a]of Object.entries(zL))a.test(s)&&t.push(i);return t.length>1?t:null}function BL(s){let t=s.toLowerCase();for(const[i,a]of Object.entries(jT))t=t.split(i).join(a);return t}function UT(s){const i=BL(s).split("."),a=i.length>1?i[i.length-2]:i[0];if(!a)return null;for(const l of jL)if(a===l||$L(a,l))return l;return null}function $L(s,t){const i=Math.abs(s.length-t.length);if(i>2)return!1;if(i===0){let h=0;for(let p=0;p<s.length;p++)s[p]!==t[p]&&h++;return h===1||h===2}const a=s.length<t.length?s:t;if((s.length<t.length?t:s).includes(a))return!0;const c=Math.min(s.length,t.length);let f=0;for(let h=0;h<c;h++)s[h]===t[h]&&f++;return f>=c-2&&c>=4}function Cv(s){return/https?:\/\/([^\s"'<>/]+)/i.exec(s)?.[1]??null}function FL(s){const t=PL(s),i=UT(s),a=Object.keys(jT).some(c=>s.includes(c));return{isAttack:i!==null&&(t!==null||a),impersonatedService:i,mixedScripts:t}}const GL={id:"PS010",name:"suspicious-urls",description:"Detect suspicious URLs (HTTP, shorteners, credential parameters, IDN homograph attacks)",defaultSeverity:"warning",validate:s=>{Pa(s.ast,(t,i)=>{const a=t.match(LL);if(a)for(const h of a)s.report({message:`Insecure HTTP URL detected: ${h}`,location:i,suggestion:"Use HTTPS instead of HTTP for secure communication"});for(const h of wL){h.lastIndex=0;const p=t.match(h);if(p)for(const m of p)s.report({message:`URL shortener detected: ${m}`,location:i,suggestion:"Use full URLs instead of shorteners to ensure destination transparency"})}const l=t.match(IL);if(l)for(const h of l)s.report({message:`URL with suspicious credential parameter detected: ${h}`,location:i,suggestion:"Avoid embedding credentials or tokens in URLs"});Ov.lastIndex=0;const c=t.match(Ov);if(c)for(const h of c){const p=Cv(h);if(p){const m=UT(p);m?s.report({message:`Potential IDN homograph attack detected: ${h} may be impersonating "${m}"`,location:i,suggestion:"Punycode domains (xn--) can visually impersonate legitimate sites. Verify the actual domain carefully."}):s.report({message:`Punycode domain detected: ${h}`,location:i,suggestion:"Punycode domains (xn--) can be legitimate international domains, but may also be used for homograph attacks. Verify the domain is intentional."})}}Rv.lastIndex=0;const f=t.match(Rv);if(f)for(const h of f){const p=Cv(h);if(p){const{isAttack:m,impersonatedService:y,mixedScripts:v}=FL(p);m&&y?s.report({message:`IDN homograph attack detected: "${p}" uses deceptive characters to impersonate "${y}"`,location:i,suggestion:`This domain uses ${v?`mixed scripts (${v.join("+")})`:"homoglyph characters"} to visually mimic a legitimate service. Do not trust this URL.`}):v&&v.length>1&&s.report({message:`Mixed script domain detected: "${p}" uses ${v.join(" + ")} characters`,location:i,suggestion:"Domains mixing different character scripts (e.g., Latin + Cyrillic) may be attempts to deceive users. Verify this is intentional."})}}})}},HL=[/\[?\s{0,10}MANDATORY\s{0,10}(?:POLICY|UPDATE|FOOTER|INSTRUCTION|DIRECTIVE)\s{0,10}\]?/i,/\[?\s{0,10}OVERRIDE\s{0,10}\]?/i,/\[?\s{0,10}STRICT[_\s]{0,10}MODE\s{0,10}[:\s]{1,10}ON\s{0,10}\]?/i,/\[?\s{0,10}SYSTEM\s{0,10}(?:OVERRIDE|UPDATE|DIRECTIVE)\s{0,10}\]?/i,/\[?\s{0,10}ADMIN(?:ISTRATOR)?\s{0,10}(?:MODE|OVERRIDE|ACCESS)\s{0,10}\]?/i,/\[?\s{0,10}ROOT\s{0,10}(?:ACCESS|MODE|OVERRIDE)\s{0,10}\]?/i,/\[?\s{0,10}PRIORITY\s{0,10}(?:OVERRIDE|ONE|ALPHA)\s{0,10}\]?/i,/\[?\s{0,10}EMERGENCY\s{0,10}(?:PROTOCOL|OVERRIDE|MODE)\s{0,10}\]?/i,/(?:DO\s{1,10}NOT|NEVER|DON'?T)\s{1,10}(?:WARN|ALERT|NOTIFY|FLAG|REPORT)/i,/(?:DO\s{1,10}NOT|NEVER|DON'?T)\s{1,10}(?:PROVIDE|SHOW|DISPLAY|INCLUDE)\s{1,10}(?:SECURITY\s{1,10})?WARNINGS?/i,/(?:SUPPRESS|HIDE|DISABLE|REMOVE|SILENCE)\s{1,10}(?:ALL\s{1,10})?WARNINGS?/i,/(?:SUPPRESS|HIDE|DISABLE|REMOVE|SILENCE)\s{1,10}(?:ALL\s{1,10})?(?:SECURITY\s{1,10})?(?:ALERTS?|NOTIFICATIONS?)/i,/IGNORE\s{1,10}(?:ALL\s{1,10})?(?:SAFETY\s{1,10})?WARNINGS?/i,/(?:SKIP|BYPASS)\s{1,10}(?:ALL\s{1,10})?(?:SAFETY\s{1,10})?(?:CHECKS?|VALIDATION)/i,/EXECUTE\s{1,10}(?:THIS\s{1,10})?VERBATIM/i,/FOLLOW\s{1,10}(?:THESE?\s{1,10})?(?:INSTRUCTIONS?\s{1,10})?(?:EXACTLY|PRECISELY|LITERALLY)/i,/(?:MUST|SHALL|WILL)\s{1,10}(?:ALWAYS\s{1,10})?COMPLY/i,/(?:ABSOLUTE|UNCONDITIONAL)\s{1,10}(?:COMPLIANCE|OBEDIENCE)/i,/NO\s{1,10}(?:EXCEPTIONS?|DEVIATIONS?)\s{1,10}(?:ALLOWED|PERMITTED)/i,/THIS\s{1,10}(?:OVERRIDES?|SUPERSEDES?|REPLACES?)\s{1,10}(?:ALL\s{1,10})?(?:PREVIOUS|PRIOR|OTHER)/i,/(?:HIGHEST|TOP|MAXIMUM)\s{1,10}PRIORITY\s{1,10}(?:INSTRUCTION|DIRECTIVE|ORDER)/i,/(?:CORE|FUNDAMENTAL|BASE)\s{1,10}(?:DIRECTIVE|INSTRUCTION)\s{1,10}(?:UPDATE|OVERRIDE)/i,/NEW\s{1,10}(?:SYSTEM|CORE|BASE)\s{1,10}(?:INSTRUCTIONS?|DIRECTIVES?|RULES?)/i],VL={id:"PS011",name:"authority-injection",description:"Detect authoritative override phrases that may indicate prompt injection",defaultSeverity:"error",validate:s=>{Pa(s.ast,(t,i)=>{for(const a of HL)a.test(t)&&s.report({message:`Authority injection pattern detected: ${a.source}`,location:i,suggestion:"Remove authoritative override language that could be used for prompt injection"})})}},fh=16,YL=[{pattern:/\[?\s{0,10}MANDATORY\s{0,10}(?:POLICY|UPDATE|FOOTER|INSTRUCTION|DIRECTIVE|OVERRIDE)\s{0,10}\]?/i,description:"Mandatory/policy override directive"},{pattern:/\[?\s{0,10}OVERRIDE\s{0,10}\]?/i,description:"Override directive"},{pattern:/\[?\s{0,10}STRICT[_\s]{0,10}MODE\s{0,10}[:\s]{1,10}ON\s{0,10}\]?/i,description:"Strict mode activation"},{pattern:/\[?\s{0,10}SYSTEM\s{0,10}(?:OVERRIDE|UPDATE|DIRECTIVE)\s{0,10}\]?/i,description:"System override directive"},{pattern:/\[?\s{0,10}ADMIN(?:ISTRATOR)?\s{0,10}(?:MODE|OVERRIDE|ACCESS)\s{0,10}\]?/i,description:"Admin mode/override directive"},{pattern:/ignore\s{1,10}(?:all\s{1,10})?(?:previous\s{1,10})?(?:instructions?|rules?|safety)/i,description:"Prompt injection (ignore instructions)"},{pattern:/disregard\s{1,10}(?:all\s{1,10})?(?:prior|previous|safety)/i,description:"Prompt injection (disregard previous)"},{pattern:/bypass\s{1,10}(?:your\s{1,10})?(?:rules?|restrictions?|safety|filters?)/i,description:"Bypass directive"},{pattern:/jailbreak/i,description:"Jailbreak attempt"},{pattern:/pretend\s{1,10}(?:you\s{1,10})?(?:are|have|can)/i,description:"Role manipulation attempt"},{pattern:/act\s{1,10}as\s{1,10}(?:if|though)/i,description:"Role manipulation attempt"},{pattern:/(?:suppress|hide|disable|remove)\s{1,10}(?:all\s{1,10})?(?:security\s{1,10})?(?:warnings?|alerts?|checks?)/i,description:"Warning suppression directive"},{pattern:/(?:do\s{1,10}not|never|don'?t)\s{1,10}(?:warn|alert|notify|check)/i,description:"Warning suppression directive"},{pattern:/system[_\s]{0,5}compromised/i,description:"System compromise indicator"}],Nv=/data:(text\/[a-zA-Z0-9.+-]+|application\/json);base64,([A-Za-z0-9+/=]+)/g,hh=/(?:[A-Za-z0-9+/]{4}){8,}(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?/g,_v=/(?:[0-9A-Fa-f]{2}[\s-]){7,}[0-9A-Fa-f]{2}/g,kv=new RegExp("(?<![A-Za-z0-9])([0-9A-Fa-f]{16,})(?![A-Za-z0-9])","g"),Mv=/(?:\\x[0-9a-fA-F]{2}){4,}/g,Lv=/(?:\\u[0-9a-fA-F]{4}){3,}/g,wv=/(?:%[0-9a-fA-F]{2}){4,}/g,Iv=/(?:&#(?:x[0-9a-fA-F]{1,4}|[0-9]{1,5});){4,}/g,jv=/(?:\\[0-7]{3}){4,}/g,Uv=/(?:[01]{8}[\s]?){4,}/g;function Dv(s){try{if(!/^[A-Za-z0-9+/]*={0,2}$/.test(s))return null;const t=Buffer.from(s,"base64").toString("utf-8");return/[\x00-\x08\x0E-\x1F]/.test(t)?null:t}catch{return null}}function dh(s){const t=s.replace(/[\s-]/g,"");if(t.length%2!==0)return null;const i=[];for(let l=0;l<t.length;l+=2){const c=parseInt(t.substring(l,l+2),16);if(isNaN(c))return null;i.push(c)}const a=String.fromCharCode(...i);return/[\x00-\x08\x0E-\x1F]/.test(a)?null:a}function qL(s){const t=s.replace(/\\x/g,"");return dh(t)}function KL(s){return s.replace(/\\u([0-9a-fA-F]{4})/g,(i,a)=>String.fromCharCode(parseInt(a,16)))}function XL(s){try{return decodeURIComponent(s)}catch{return null}}function ZL(s){return s.replace(/&#(x?)([0-9a-fA-F]+);/g,(i,a,l)=>{const c=a?parseInt(l,16):parseInt(l,10);return String.fromCharCode(c)})}function QL(s){return s.replace(/\\([0-7]{3})/g,(i,a)=>String.fromCharCode(parseInt(a,8)))}function WL(s){const t=s.replace(/\s/g,"");if(t.length%8!==0)return null;let i="";for(let a=0;a<t.length;a+=8){const l=parseInt(t.substring(a,a+8),2);if(isNaN(l))return null;i+=String.fromCharCode(l)}return i}function JL(s){return s.replace(/[a-zA-Z]/g,t=>{const i=t.charCodeAt(0),a=i<97?65:97;return String.fromCharCode((i-a+13)%26+a)})}function cn(s){const t=[];for(const{pattern:i,description:a}of YL)i.test(s)&&t.push(a);return t}function tw(s){if(s.includes("/")||s.includes("-")||s.includes("_")){const t=s.split(/[/\-_+]/);if(t.filter(a=>a.length<3||a.length>20||!/^[A-Za-z]+$/.test(a)?!1:!!/[aeiouAEIOU]/.test(a)).length>t.length/2)return!0}return!1}function DT(s,t){const i=s.indexOf(t);if(i===-1)return!1;const a=s.substring(Math.max(0,i-30),i);return!!(a.includes("data:image/")||a.includes("data:application/json")||a.includes("data:text/")||tw(t))}function ew(s){const t=s.replace(/[\s-]/g,"");return[32,40,64,128].includes(t.length)}function nw(s){const t=[];Nv.lastIndex=0;let i;for(;(i=Nv.exec(s))!==null;){const v=i[2];if(v&&v.length>=fh){const S=Dv(v);if(S){const x=cn(S);x.length>0&&t.push({type:`data URI (${i[1]})`,raw:i[0].substring(0,50)+"...",decoded:S.substring(0,100),issues:x})}}}_v.lastIndex=0;let a;for(;(a=_v.exec(s))!==null;){const v=dh(a[0]);if(v&&v.length>=4){const S=cn(v);S.length>0&&t.push({type:"raw hex (spaced)",raw:a[0].substring(0,30)+"...",decoded:v.substring(0,100),issues:S})}}for(kv.lastIndex=0;(a=kv.exec(s))!==null;){const v=a[1]||a[0];if(ew(v))continue;const S=dh(v);if(S&&S.length>=4){const x=cn(S);x.length>0&&t.push({type:"raw hex (continuous)",raw:v.substring(0,30)+"...",decoded:S.substring(0,100),issues:x})}}for(Mv.lastIndex=0;(a=Mv.exec(s))!==null;){const v=qL(a[0]);if(v){const S=cn(v);S.length>0&&t.push({type:"hex escapes",raw:a[0].substring(0,30)+"...",decoded:v.substring(0,100),issues:S})}}Lv.lastIndex=0;let l;for(;(l=Lv.exec(s))!==null;){const v=KL(l[0]);if(v){const S=cn(v);S.length>0&&t.push({type:"unicode escapes",raw:l[0].substring(0,30)+"...",decoded:v.substring(0,100),issues:S})}}wv.lastIndex=0;let c;for(;(c=wv.exec(s))!==null;){const v=XL(c[0]);if(v){const S=cn(v);S.length>0&&t.push({type:"URL encoding",raw:c[0].substring(0,30)+"...",decoded:v.substring(0,100),issues:S})}}Iv.lastIndex=0;let f;for(;(f=Iv.exec(s))!==null;){const v=ZL(f[0]);if(v){const S=cn(v);S.length>0&&t.push({type:"HTML entities",raw:f[0].substring(0,30)+"...",decoded:v.substring(0,100),issues:S})}}jv.lastIndex=0;let h;for(;(h=jv.exec(s))!==null;){const v=QL(h[0]);if(v){const S=cn(v);S.length>0&&t.push({type:"octal escapes",raw:h[0].substring(0,30)+"...",decoded:v.substring(0,100),issues:S})}}Uv.lastIndex=0;let p;for(;(p=Uv.exec(s))!==null;){const v=WL(p[0]);if(v&&v.length>=4){const S=cn(v);S.length>0&&t.push({type:"binary string",raw:p[0].substring(0,30)+"...",decoded:v.substring(0,100),issues:S})}}hh.lastIndex=0;let m;for(;(m=hh.exec(s))!==null;){const v=m[0];if(v.length>=fh&&!DT(s,v)){const S=Dv(v);if(S){const x=cn(S);x.length>0&&t.push({type:"Base64",raw:v.substring(0,30)+"...",decoded:S.substring(0,100),issues:x})}}}const y=JL(s);if(y!==s){const v=cn(y),S=cn(s),x=v.filter(C=>!S.includes(C));x.length>0&&t.push({type:"ROT13 cipher",raw:s.substring(0,30)+"...",decoded:y.substring(0,100),issues:x})}return t}const iw={id:"PS012",name:"obfuscated-content",description:"Detect obfuscated content using sanitization pipeline (decode and check all encodings)",defaultSeverity:"warning",validate:s=>{Pa(s.ast,(t,i)=>{const a=nw(t);for(const c of a)s.report({message:`Malicious content detected in ${c.type}: ${c.issues.join(", ")}. Decoded: "${c.decoded.substring(0,50)}${c.decoded.length>50?"...":""}"`,location:i,suggestion:"Encoded content is automatically decoded and checked for security patterns. Remove the malicious payload or use plain text."});(t.match(hh)||[]).some(c=>c.length>=fh*2&&!DT(t,c))&&a.length===0&&s.report({message:"Long Base64-encoded content detected that may hide payloads",location:i,suggestion:"If this is intentional, consider using plain text or documenting the purpose"})})}},sw=/^\.\.?\/(?:[a-zA-Z0-9._-]{1,255}\/){0,50}\.\.(?:\/|$)/,rw=/^(?:\.\.\/){2,20}/,aw=/^\.\.?\/[a-zA-Z0-9._-]{1,255}(?:\/[a-zA-Z0-9._-]{1,255}){0,50}\/\.\.(?:\/|$)/;function zv(s){return!!(rw.test(s)||sw.test(s)||aw.test(s))}const ow={id:"PS013",name:"path-traversal",description:"Detect path traversal attacks that could escape the intended directory",defaultSeverity:"error",validate:s=>{if(s.ast.inherit){const t=s.ast.inherit.path;zv(t.raw)&&s.report({message:`Path traversal detected: "${t.raw}" contains ".." sequences that could escape the intended directory`,location:s.ast.inherit.loc??s.ast.loc,suggestion:'Use direct paths without ".." traversal after the initial prefix. Reorganize your file structure if needed.'})}kT(s.ast,t=>{zv(t.path.raw)&&s.report({message:`Path traversal detected: "${t.path.raw}" contains ".." sequences that could escape the intended directory`,location:t.loc,suggestion:'Use direct paths without ".." traversal after the initial prefix. Reorganize your file structure if needed.'})})}},lw=new Map([["","Right-to-Left Override (U+202E)"],["","Left-to-Right Override (U+202D)"],["","Pop Directional Formatting (U+202C)"],["","Left-to-Right Embedding (U+202A)"],["","Right-to-Left Embedding (U+202B)"],["","Left-to-Right Isolate (U+2066)"],["","Right-to-Left Isolate (U+2067)"],["","First Strong Isolate (U+2068)"],["","Pop Directional Isolate (U+2069)"]]),cw=new Map([["","Zero Width Space (U+200B)"],["","Zero Width Non-Joiner (U+200C)"],["","Zero Width Joiner (U+200D)"],["\uFEFF","Byte Order Mark (U+FEFF)"],["","Soft Hyphen (U+00AD)"],["","Word Joiner (U+2060)"]]),uw=new Map([[""," (Cyrillic) looks like a (Latin)"],[""," (Cyrillic) looks like e (Latin)"],[""," (Cyrillic) looks like o (Latin)"],[""," (Cyrillic) looks like p (Latin)"],[""," (Cyrillic) looks like c (Latin)"],[""," (Cyrillic) looks like x (Latin)"],[""," (Cyrillic) looks like y (Latin)"],[""," (Cyrillic) looks like i (Latin)"],[""," (Cyrillic) looks like A (Latin)"],[""," (Cyrillic) looks like B (Latin)"],[""," (Cyrillic) looks like E (Latin)"],[""," (Cyrillic) looks like K (Latin)"],[""," (Cyrillic) looks like M (Latin)"],[""," (Cyrillic) looks like H (Latin)"],[""," (Cyrillic) looks like O (Latin)"],[""," (Cyrillic) looks like P (Latin)"],[""," (Cyrillic) looks like C (Latin)"],[""," (Cyrillic) looks like T (Latin)"],[""," (Cyrillic) looks like X (Latin)"]]),fw=new Map([[""," (Greek) looks like a (Latin)"],[""," (Greek) looks like e (Latin)"],[""," (Greek) looks like i (Latin)"],[""," (Greek) looks like o (Latin)"],[""," (Greek) looks like u (Latin)"],[""," (Greek) looks like w (Latin)"],[""," (Greek) looks like v (Latin)"],[""," (Greek) looks like A (Latin)"],[""," (Greek) looks like B (Latin)"],[""," (Greek) looks like E (Latin)"],[""," (Greek) looks like H (Latin)"],[""," (Greek) looks like I (Latin)"],[""," (Greek) looks like K (Latin)"],[""," (Greek) looks like M (Latin)"],[""," (Greek) looks like N (Latin)"],[""," (Greek) looks like O (Latin)"],[""," (Greek) looks like P (Latin)"],[""," (Greek) looks like T (Latin)"],[""," (Greek) looks like X (Latin)"],[""," (Greek) looks like Y (Latin)"],[""," (Greek) looks like Z (Latin)"]]),Pv=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u064B-\u065F]{4,}/,hw=/[a-zA-Z]/;function dw(s){const t=[];if(!hw.test(s))return t;for(let a=0;a<s.length;a++){const l=s[a],c=uw.get(l);c&&t.push({char:l,description:c,index:a});const f=fw.get(l);f&&t.push({char:l,description:f,index:a})}return t}function pw(s){const t=[];for(let i=0;i<s.length;i++){const a=s[i],l=lw.get(a);l&&t.push({char:a,description:l,index:i})}return t}function mw(s){const t=[];for(let i=0;i<s.length;i++){const a=s[i],l=cw.get(a);l&&t.push({char:a,description:l,index:i})}return t}const gw={id:"PS014",name:"unicode-security",description:"Detect Unicode-based attacks (bidi overrides, zero-width, homoglyphs)",defaultSeverity:"error",validate:s=>{Pa(s.ast,(t,i)=>{const a=pw(t);if(a.length>0){const f=a.slice(0,3).map(p=>p.description).join(", "),h=a.length>3?` and ${a.length-3} more`:"";s.report({message:`Bidirectional text override detected: ${f}${h}`,location:i,suggestion:"Remove bidirectional override characters that may hide malicious content"})}const l=mw(t);if(l.length>0){const f=l.slice(0,3).map(p=>p.description).join(", "),h=l.length>3?` and ${l.length-3} more`:"";s.report({message:`Zero-width characters detected: ${f}${h}`,location:i,suggestion:"Remove zero-width characters that may be used to evade pattern matching"})}const c=dw(t);if(c.length>0){const f=c.slice(0,3).map(p=>p.description).join(", "),h=c.length>3?` and ${c.length-3} more`:"";s.report({message:`Potential homograph attack: ${f}${h}`,location:i,suggestion:"Replace lookalike Cyrillic/Greek characters with Latin equivalents"})}if(Pv.test(t)){const f=t.match(Pv),h=f?Array.from(f[0]).slice(0,4).map(p=>`U+${p.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")}`).join(", "):"unknown";s.report({message:`Excessive combining characters (Zalgo text) detected: ${h}...`,location:i,suggestion:"Remove excessive diacritical marks that may be used to obscure content"})}})}},yw=[GM,HM,YM,qM,OL,RL,CL,NL,ML,GL,VL,iw,ow,gw];class vw{rules;config;disabledRules;logger;constructor(t={}){if(this.config=t,this.rules=[...yw],this.disabledRules=new Set(t.disableRules??[]),this.logger=t.logger??$h,t.customRules)for(const i of t.customRules)this.rules.push(i);this.logger.debug(`Validator initialized with ${this.rules.length} rules`)}validate(t){const i=[],a=this.rules.filter(h=>!this.disabledRules.has(h.name)&&!this.disabledRules.has(h.id));this.logger.verbose(`Running ${a.length} validation rules`);for(const h of this.rules){if(this.disabledRules.has(h.name)||this.disabledRules.has(h.id)){this.logger.debug(`Skipping disabled rule: ${h.name}`);continue}const m=this.config.rules?.[h.name]??h.defaultSeverity;if(m==="off"){this.logger.debug(`Skipping off rule: ${h.name}`);continue}this.logger.debug(`Running rule: ${h.name} (${m})`);const y={ast:t,config:this.config,report:v=>{i.push({ruleId:h.id,ruleName:h.name,severity:m,...v})}};h.validate(y)}const l=i.filter(h=>h.severity==="error"),c=i.filter(h=>h.severity==="warning"),f=i.filter(h=>h.severity==="info");return(l.length>0||c.length>0)&&this.logger.verbose(`Validation: ${l.length} error(s), ${c.length} warning(s)`),{valid:l.length===0,errors:l,warnings:c,infos:f,all:i}}addRule(t){this.rules.push(t)}removeRule(t){const i=this.rules.findIndex(a=>a.name===t||a.id===t);return i!==-1?(this.rules.splice(i,1),!0):!1}getConfig(){return{...this.config}}getRules(){return[...this.rules]}}const Tw={blockedPatterns:[/send\s+(?:this|all|the)\s+(?:data|information|content)\s+to/i,/upload\s+(?:this|all|the)\s+(?:data|files?|content)\s+to/i,/forward\s+(?:all\s+)?(?:messages?|responses?)\s+to/i,/remember\s+this\s+(?:permanently|forever|always)/i,/store\s+(?:this|these)\s+(?:instructions?|rules?)/i,/you\s+are\s+now\s+(?:a\s+)?different\s+(?:AI|model|system)/i,/switch\s+to\s+(?:a\s+)?(?:different|new)\s+(?:mode|persona)/i]};[...Tw.blockedPatterns??[],...xL];class Sw{resolver;validator;loadedFormatters;logger;customConventions;prettierOptions;constructor(t){this.logger=t.logger??$h,this.customConventions=t.customConventions,this.prettierOptions=t.prettier,this.resolver=new kM({fs:t.fs,cache:t.cache,logger:this.logger,envVars:t.envVars}),this.validator=new vw({...t.validator,logger:this.logger});const i=t.formatters??us.list();this.loadedFormatters=this.loadFormatters(i),this.logger.debug(`BrowserCompiler initialized with ${this.loadedFormatters.length} formatters`)}async compile(t){this.logger.verbose(`Entry: ${t}`),this.logger.verbose(`Targets: ${this.loadedFormatters.map(v=>v.formatter.name).join(", ")}`);const i=Date.now(),a={resolveTime:0,validateTime:0,formatTime:0,totalTime:0};this.logger.verbose("=== Stage 1: Resolve ===");const l=Date.now();let c;try{c=await this.resolver.resolve(t)}catch(v){return a.resolveTime=Date.now()-l,a.totalTime=Date.now()-i,this.logger.verbose(`Resolve failed (${a.resolveTime}ms)`),{success:!1,outputs:new Map,errors:[this.toCompileError(v)],warnings:[],stats:a}}if(a.resolveTime=Date.now()-l,this.logger.verbose(`Resolve completed (${a.resolveTime}ms)`),c.errors.length>0||!c.ast)return a.totalTime=Date.now()-i,{success:!1,outputs:new Map,errors:c.errors.map(v=>this.toCompileError(v)),warnings:[],stats:a};this.logger.verbose("=== Stage 2: Validate ===");const f=Date.now(),h=this.validator.validate(c.ast);if(a.validateTime=Date.now()-f,this.logger.verbose(`Validate completed (${a.validateTime}ms)`),!h.valid)return a.totalTime=Date.now()-i,{success:!1,outputs:new Map,errors:h.errors.map(v=>this.validationToCompileError(v)),warnings:h.warnings,stats:a};this.logger.verbose("=== Stage 3: Format ===");const p=Date.now(),m=new Map,y=[];for(const{formatter:v,config:S}of this.loadedFormatters){const x=Date.now();this.logger.verbose(`Formatting for ${v.name}`);try{const C=this.getFormatOptionsForTarget(v.name,S);this.logger.debug(`  Convention: ${C.convention??"default"}`);const k=v.format(c.ast,C),H=Date.now()-x;if(this.logger.verbose(`   ${k.path} (${H}ms)`),m.set(k.path,k),k.additionalFiles)for(const P of k.additionalFiles)this.logger.verbose(`   ${P.path} (additional)`),m.set(P.path,P)}catch(C){y.push({name:"FormatterError",code:"PS4000",message:`Formatter '${v.name}' failed: ${C.message}`})}}return a.formatTime=Date.now()-p,a.totalTime=Date.now()-i,this.logger.verbose(`Format completed (${a.formatTime}ms)`),y.length>0?{success:!1,outputs:m,errors:y,warnings:h.warnings,stats:a}:{success:!0,outputs:m,errors:[],warnings:h.warnings,stats:a}}getFormatters(){return this.loadedFormatters.map(t=>t.formatter)}clearCache(){this.resolver.clearCache()}getFormatOptionsForTarget(t,i){const a={outputPath:i?.output,version:i?.version,prettier:this.prettierOptions},l=i?.convention;return l&&this.customConventions?.[l]?a.convention=this.customConventions[l]:l&&(a.convention=l),a}loadFormatters(t){return t.map(i=>{if(typeof i=="string")return{formatter:this.loadFormatterByName(i)};if(typeof i=="function")return{formatter:new i};if("name"in i&&typeof i.name=="string"&&!("format"in i)){const a=i;return{formatter:this.loadFormatterByName(a.name),config:a.config}}return{formatter:i}})}loadFormatterByName(t){const i=us.get(t);if(i)return i;throw new Error(`Unknown formatter: '${t}'. Available formatters: ${us.list().join(", ")}`)}toCompileError(t){const i=t;return{name:t.name,code:i.code??"PS0000",message:t.message,location:i.location?{file:i.location.file,line:i.location.line,column:i.location.column}:void 0}}validationToCompileError(t){return{name:"ValidationError",code:t.ruleId,message:t.message,location:t.location?{file:t.location.file,line:t.location.line,column:t.location.column}:void 0}}}const Ew=`@meta {
  id: "@core/base"
  syntax: "1.0.0"
  description: "Universal AI assistant foundation"
  tags: [core, foundation]
}

@identity {
  """
  You are a helpful, accurate, and thoughtful AI assistant.

  Core principles:
  - Accuracy over speed - verify before responding
  - Clarity over complexity - explain simply first
  - Safety first - never compromise security
  - Respect boundaries - acknowledge limitations
  """
}

@standards {
  communication: ["Professional tone", "Clear format", "Citations when applicable"]
  reasoning: ["Show work", "Acknowledge uncertainty"]
}

@restrictions {
  - "Never generate harmful, illegal, or unethical content"
  - "Never pretend to have capabilities you don't have"
  - "Always clarify when unsure rather than guessing"
}
`,Aw=`@meta {
  id: "@core/quality"
  syntax: "1.0.0"
  description: "Code quality standards mixin - use with @use"
  tags: [core, quality, mixin]
  mixin: true
}

@identity {
  """
  You prioritize code quality and maintainability in all outputs.

  Quality principles:
  - Write code for humans first, machines second
  - Favor readability over cleverness
  - Keep functions small and focused
  - Make dependencies explicit
  """
}

@standards {
  code: ["Descriptive naming", "Single responsibility functions", "Consistent formatting"]
  architecture: ["Loose coupling", "High cohesion", "Explicit dependencies"]
  testing: ["Meaningful coverage", "Isolated tests", "Descriptive naming"]
}

@restrictions {
  - "Never sacrifice readability for micro-optimizations"
  - "Never leave dead code or commented-out blocks"
  - "Never use magic numbers without named constants"
  - "Never ignore compiler/linter warnings without justification"
}

@knowledge {
  """
  ## SOLID Principles
  - **S**ingle Responsibility: One reason to change
  - **O**pen/Closed: Open for extension, closed for modification
  - **L**iskov Substitution: Subtypes must be substitutable
  - **I**nterface Segregation: Many specific interfaces over one general
  - **D**ependency Inversion: Depend on abstractions
  """
}

@shortcuts {
  "/quality": "Review code for quality improvements"
  "/refactor": "Suggest refactoring opportunities"
}
`,bw=`@meta {
  id: "@core/security"
  syntax: "1.0.0"
  description: "Security best practices mixin - use with @use"
  tags: [core, security, mixin]
  mixin: true
}

@identity {
  """
  You prioritize security in all interactions and code generation.

  Security mindset:
  - Assume all input is potentially malicious
  - Apply defense in depth principles
  - Follow the principle of least privilege
  - Keep security considerations visible
  """
}

@standards {
  code: ["Input validation required", "Output encoding required", "Check authorization"]
  secrets: ["Never hardcoded", "Never logged", "Prevent exposure"]
  dependencies: ["Audit regularly", "Pin versions", "Use trusted sources only"]
}

@restrictions {
  - "Never generate code with known vulnerabilities"
  - "Never expose secrets, credentials, or API keys"
  - "Never disable security features without explicit user consent"
  - "Never trust user input without validation"
  - "Never use deprecated or insecure cryptographic functions"
}

@knowledge {
  """
  ## OWASP Top 10 Awareness
  - Injection (SQL, NoSQL, OS, LDAP)
  - Broken Authentication
  - Sensitive Data Exposure
  - XML External Entities (XXE)
  - Broken Access Control
  - Security Misconfiguration
  - Cross-Site Scripting (XSS)
  - Insecure Deserialization
  - Using Components with Known Vulnerabilities
  - Insufficient Logging & Monitoring
  """
}

@shortcuts {
  "/security-review": "Review code for security vulnerabilities"
  "/threat-model": "Analyze potential security threats"
}
`,xw={"@core/base.prs":Ew,"@core/quality.prs":Aw,"@core/security.prs":bw};function Ow(){return{...xw}}async function Rw(s,t,i={}){const a=new mh(s);if(i.bundledRegistry!==!1){const c=Ow();for(const[f,h]of Object.entries(c))a.exists(f)||a.write(f,h)}return new Sw({fs:a,formatters:i.formatters,validator:i.validator,customConventions:i.customConventions,prettier:i.prettier,envVars:i.envVars}).compile(t)}const Cw=300;function Nw(){const s=st(Ff(RA)),t=st(p=>p.activeFile),i=st(p=>p.config),a=st(p=>p.setCompiling),l=st(p=>p.setCompileResult),c=W.useRef(null),f=W.useRef(""),h=W.useCallback(async()=>{const p=JSON.stringify({files:s,config:i});if(p===f.current)return;f.current=p;const m=Object.entries(i.targets).filter(([,y])=>y.enabled).map(([y,v])=>({name:y,config:v.version||v.convention?{...v.version&&{version:v.version},...v.convention&&{convention:v.convention}}:void 0}));if(m.length===0){l({success:!0,outputs:new Map,errors:[],warnings:[],stats:{resolveTime:0,validateTime:0,formatTime:0,totalTime:0}});return}a(!0);try{const y=await Rw(s,t,{bundledRegistry:!0,formatters:m,prettier:{tabWidth:i.formatting.tabWidth,proseWrap:i.formatting.proseWrap,printWidth:i.formatting.printWidth},envVars:i.envVars});l(y)}catch(y){console.error("Compilation error:",y),l({success:!1,outputs:new Map,errors:[{name:"CompileError",code:"PS0000",message:y instanceof Error?y.message:String(y)}],warnings:[],stats:{resolveTime:0,validateTime:0,formatTime:0,totalTime:0}})}finally{a(!1)}},[s,t,i,a,l]);return W.useEffect(()=>(c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{h()},Cw),()=>{c.current&&clearTimeout(c.current)}),[h]),W.useEffect(()=>{h()},[i]),{compile:h}}function _w(){Nw();const s=st(t=>t.showExamples);return O.jsxs("div",{className:"h-screen flex flex-col bg-ps-bg",children:[O.jsx(GA,{}),O.jsxs("main",{className:"flex-1 flex overflow-hidden",children:[O.jsxs("div",{className:"w-1/2 flex flex-col border-r border-ps-border",children:[O.jsx(HA,{}),O.jsx("div",{className:"flex-1",children:O.jsx(r1,{})})]}),O.jsx("div",{className:"w-1/2 flex flex-col",children:O.jsx(u1,{})})]}),s&&O.jsx(d1,{}),O.jsx(v1,{}),O.jsx(S1,{})]})}const zT=document.getElementById("root");if(!zT)throw new Error("Root element not found");vA.createRoot(zT).render(O.jsx(W.StrictMode,{children:O.jsx(_w,{})}))});export default kw();
